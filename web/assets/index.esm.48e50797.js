import{r as e}from"./vendor.7a5717e4.js";var r=Object.prototype.hasOwnProperty;function t(e,r,t,n){return new(t||(t=Promise))((function(i,u){function o(e){try{c(n.next(e))}catch(r){u(r)}}function a(e){try{c(n.throw(e))}catch(r){u(r)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(o,a)}c((n=n.apply(e,r||[])).next())}))}function n(e,r){var t,n,i,u,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=r.call(e,o)}catch(a){u=[6,a],n=0}finally{t=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}var i={}[0],u=function(e){return e===i},o=function(e){return"function"==typeof e},a=function(){},c=function(e,r){return Object.assign({},e,r)},s=!0,f="undefined"!=typeof window,l="undefined"!=typeof document,d=f&&window.addEventListener||a,v=l&&document.addEventListener||a,p={isOnline:function(){return s},isVisible:function(){var e=l&&document.visibilityState;return!!u(e)||"hidden"!==e}},h={initFocus:function(e){v("visibilitychange",e),d("focus",e)},initReconnect:function(e){d("online",(function(){s=!0,e()})),d("offline",(function(){s=!1}))}},g="undefined"==typeof window||"Deno"in window,y=g?null:window.requestAnimationFrame,b=y?function(e){return y(e)}:function(e){return setTimeout(e,1)},w=g?e.exports.useEffect:e.exports.useLayoutEffect,m="undefined"!=typeof navigator&&navigator.connection,x=!g&&m&&(["slow-2g","2g"].includes(m.effectiveType)||m.saveData),R=new WeakMap,O=0;function k(e){if(o(e))try{e=e()}catch(t){e=""}var r;return Array.isArray(e)?(r=e,e=function(e){if(!e.length)return"";for(var r="arg",t=0;t<e.length;++t){var n=e[t],u=i;null===n||"object"!=typeof n&&!o(n)?u=JSON.stringify(n):R.has(n)?u=R.get(n):(u=O,R.set(n,O++)),r+="$"+u}return r}(e)):r=[e=String(e||"")],[e,r,e?"$err$"+e:"",e?"$req$"+e:""]}var S=new WeakMap,T=function(e,r,t,n,i,u){void 0===u&&(u=!1);var o=S.get(e),a=o[0],c=o[1],s=a[r],f=c[r];if(f)for(var l=0;l<f.length;++l)f[l](t,n,i);return u&&s&&s[0]?s[0](2).then((function(){return e.get(r)})):e.get(r)},V=0,E=function(){return++V},C=function(e,r,a,c){return void 0===c&&(c=!0),t(void 0,void 0,void 0,(function(){var t,s,f,l,d,v,p,h,g,y,b;return n(this,(function(n){switch(n.label){case 0:if(t=k(r),s=t[0],f=t[2],!s)return[2];if(l=S.get(e),d=l[2],v=l[3],u(a))return[2,T(e,s,e.get(s),e.get(f),i,c)];if(g=d[s]=E(),v[s]=0,o(a))try{a=a(e.get(s))}catch(w){a=i,h=w}if(!a||!o(a.then))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,a];case 2:return p=n.sent(),[3,4];case 3:return y=n.sent(),h=y,[3,4];case 4:if(g!==d[s]){if(h)throw h;return[2,p]}return[3,6];case 5:p=a,n.label=6;case 6:return u(p)||e.set(s,p),e.set(f,h),v[s]=E(),[4,T(e,s,p,h,i,c)];case 7:if(b=n.sent(),h)throw h;return[2,b]}}))}))};function I(e,r){for(var t in e)e[t][0]&&e[t][0](r)}function j(e,r){if(!S.has(e)){var t=c(h,r),n={},u=C.bind(i,e);return S.set(e,[n,{},{},{},{},{},u]),g||(t.initFocus(I.bind(i,n,0)),t.initReconnect(I.bind(i,n,1))),[e,u]}}var P=j(new Map),D=P[0],F=P[1],L=c({onLoadingSlow:a,onSuccess:a,onError:a,onErrorRetry:function(e,r,t,n,i){if(p.isVisible()){var o=t.errorRetryCount,a=i.retryCount,c=~~((Math.random()+.5)*(1<<(a<8?a:8)))*t.errorRetryInterval;!u(o)&&a>o||setTimeout(n,c,i)}},revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:x?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:x?5e3:3e3,compare:function e(t,n){var i,u;if(t===n)return!0;if(t&&n&&(i=t.constructor)===n.constructor){if(i===Date)return t.getTime()===n.getTime();if(i===RegExp)return t.toString()===n.toString();if(i===Array){if((u=t.length)===n.length)for(;u--&&e(t[u],n[u]););return-1===u}if(!i||"object"==typeof t){for(i in u=0,t){if(r.call(t,i)&&++u&&!r.call(n,i))return!1;if(!(i in n)||!e(t[i],n[i]))return!1}return Object.keys(n).length===u}}return t!=t&&n!=n},isPaused:function(){return!1},cache:D,mutate:F,fallback:{}},p);function M(e,r){var t=c(e,r);if(!r)return t;var n=e.use,i=e.fallback,u=r.use,o=r.fallback;return n&&u&&(t.use=n.concat(u)),i&&o&&(t.fallback=c(i,o)),t}var W=e.exports.createContext({});function $(e){return o(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]}var A,q=function(e,r,t){var n=r[e]||(r[e]=[]);return n.push(t),function(){var e=n.indexOf(t);e>=0&&(n[e]=n[n.length-1],n.pop())}},G={dedupe:!0};Object.defineProperty((function(r){var t=r.children,n=r.value,u=M(e.exports.useContext(W),n),o=n&&n.provider,a=e.exports.useState((function(){return o?j(o(u.cache||D),n):i}))[0];return a&&(u.cache=a[0],u.mutate=a[1]),e.exports.createElement(W.Provider,{value:u},t)}),"default",{value:L});var H=(A=function(r,o,a){var s=a.cache,f=a.compare,l=a.fallbackData,d=a.suspense,v=a.revalidateOnMount,p=a.refreshInterval,h=a.refreshWhenHidden,y=a.refreshWhenOffline,m=S.get(s),x=m[0],R=m[1],O=m[2],V=m[3],I=m[4],j=m[5],P=k(r),D=P[0],F=P[1],L=P[2],M=P[3],W=e.exports.useRef(!1),$=e.exports.useRef(!1),A=e.exports.useRef(D),H=e.exports.useRef(a),J=function(){return H.current},N=s.get(D),z=u(l)?a.fallback[D]:l,B=u(N)?z:N,K=s.get(L);if(d&&(!D||!o))throw new Error("useSWR requires either key or fetcher with suspense mode");var Q,U,X,Y,Z,_,ee=function(){return u(v)?d?!W.current&&!u(B):u(B)||a.revalidateIfStale:v},re=!(!D||!o)&&(!!s.get(M)||!W.current&&ee()),te=(Q={data:B,error:K,isValidating:re},U=$,X=e.exports.useState({})[1],Y=e.exports.useRef(Q),Z=e.exports.useRef({data:!1,error:!1,isValidating:!1}),_=e.exports.useCallback((function(e){var r=!1,t=Y.current;for(var n in e){var i=n;t[i]!==e[i]&&(t[i]=e[i],Z.current[i]&&(r=!0))}r&&!U.current&&X({})}),[]),w((function(){Y.current=Q})),[Y,Z.current,_]),ne=te[0],ie=te[1],ue=te[2],oe=e.exports.useCallback((function(e){return t(void 0,void 0,void 0,(function(){var r,t,c,l,d,v,p,h,g;return n(this,(function(n){switch(n.label){case 0:if(!D||!o||$.current||J().isPaused())return[2,!1];c=!0,l=e||{},d=!u(I[D])&&l.dedupe,v=function(){return!$.current&&D===A.current&&W.current},p=function(){delete I[D],delete j[D]},n.label=1;case 1:return n.trys.push([1,6,,7]),s.set(M,!0),ue({isValidating:!0}),d||T(s,D,ne.current.data,ne.current.error,!0),d?(t=j[D],[4,I[D]]):[3,3];case 2:return r=n.sent(),[3,5];case 3:return a.loadingTimeout&&!s.get(D)&&setTimeout((function(){c&&v()&&J().onLoadingSlow(D,a)}),a.loadingTimeout),j[D]=t=E(),[4,I[D]=o.apply(o,F)];case 4:r=n.sent(),setTimeout((function(){j[D]===t&&p()}),a.dedupingInterval),v()&&J().onSuccess(r,D,a),n.label=5;case 5:return j[D]!==t?[2,!1]:(s.set(L,i),s.set(M,!1),h={isValidating:!1},!u(O[D])&&(t<=O[D]||t<=V[D]||0===V[D])?(ue(h),[2,!1]):(u(ne.current.error)||(h.error=i),f(ne.current.data,r)||(h.data=r),f(s.get(D),r)||s.set(D,r),ue(h),d||T(s,D,r,h.error,!1),[3,7]));case 6:return g=n.sent(),p(),s.set(M,!1),J().isPaused()?(ue({isValidating:!1}),[2,!1]):(s.set(L,g),ne.current.error!==g&&(ue({isValidating:!1,error:g}),d||T(s,D,i,g,!1)),v()&&(J().onError(g,D,a),a.shouldRetryOnError&&J().onErrorRetry(g,D,a,oe,{retryCount:(l.retryCount||0)+1,dedupe:!0})),[3,7]);case 7:return c=!1,[2,!0]}}))}))}),[D]),ae=e.exports.useCallback((function(e,r){return C(s,A.current,e,r)}),[]);if(w((function(){H.current=a})),w((function(){if(D){var e=W.current,r=oe.bind(i,G),t=function(){return J().isVisible()&&J().isOnline()},n=0,o=q(D,R,(function(e,r,t){ue(c({error:r,isValidating:t},f(e,ne.current.data)?null:{data:e}))})),a=q(D,x,(function(e){if(0===e){var i=Date.now();J().revalidateOnFocus&&i>n&&t()&&(n=i+J().focusThrottleInterval,r())}else if(1===e)J().revalidateOnReconnect&&t()&&r();else if(2===e)return oe()}));return $.current=!1,A.current=D,e&&ue({data:B,error:K,isValidating:re}),ee()&&(u(B)||g?r():b(r)),W.current=!0,function(){$.current=!0,o(),a()}}}),[D,oe]),w((function(){var e;function r(){p&&-1!==e&&(e=setTimeout(t,p))}function t(){ne.current.error||!h&&!J().isVisible()||!y&&!J().isOnline()?r():oe(G).then((function(){return r()}))}return r(),function(){e&&(clearTimeout(e),e=-1)}}),[p,h,y,oe]),e.exports.useDebugValue(B),d&&u(B))throw u(K)?oe(G):K;return{mutate:ae,get data(){return ie.data=!0,B},get error(){return ie.error=!0,K},get isValidating(){return ie.isValidating=!0,re}}},function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=$(r),i=n[0],u=n[1],o=n[2],a=c(L,e.exports.useContext(W)),s=M(a,o),f=A,l=s.use;if(l)for(var d=l.length;d-- >0;)f=l[d](f);return f(i,u||s.fetcher,s)});export{F as H,H as Z};
