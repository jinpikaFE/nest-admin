var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,i=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&l(e,r,t[r]);if(n)for(var r of n(t))a.call(t,r)&&l(e,r,t[r]);return e},p=(e,n)=>t(e,r(n));"undefined"!=typeof require&&require;import{e as c,R as s}from"./exportToExcel.249d17da.js";import{P as u}from"./Table.401ad24c.js";import{R as f,r as d,Y as b,bb as y,P as O,J as m,F as g,a0 as v,be as P,H as j}from"./vendor.932c1d31.js";import{F as h,P as w,r as x,e as E,a as S,d as D}from"./index.a86ebf54.js";import{h as C}from"./index.620972d0.js";import{a9 as T,bl as F}from"./index.773fe633.js";import"./index.e8b0a23a.js";import"./index.980b5b03.js";import"./index.068bc43b.js";import"./Google.9f9907d1.js";import"./index.esm.04630d09.js";var k=["proFieldProps","fieldProps"];function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var L=f.forwardRef((function(e,t){var r=e.proFieldProps,n=e.fieldProps,o=q(e,k),a=d.exports.useContext(h);return f.createElement(w,R({ref:t,mode:"edit",valueType:"date",fieldProps:Y({getPopupContainer:a.getPopupContainer},n),proFieldProps:r,filedConfig:{valueType:"date",customLightMode:!0}},o))})),$=["proFieldProps","fieldProps"];function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var z=f.forwardRef((function(e,t){var r=e.proFieldProps,n=e.fieldProps,o=W(e,$),a=d.exports.useContext(h);return f.createElement(w,V({ref:t,mode:"edit",valueType:"dateWeek",fieldProps:_({getPopupContainer:a.getPopupContainer},n),proFieldProps:r,filedConfig:{valueType:"dateWeek",customLightMode:!0}},o))})),G=["proFieldProps","fieldProps"];function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var U=f.forwardRef((function(e,t){var r=e.proFieldProps,n=e.fieldProps,o=J(e,G),a=d.exports.useContext(h);return f.createElement(w,Q({ref:t,mode:"edit",valueType:"dateMonth",fieldProps:K({getPopupContainer:a.getPopupContainer},n),proFieldProps:r,filedConfig:{valueType:"dateMonth",customLightMode:!0}},o))})),Z=["fieldProps"];function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var oe=f.forwardRef((function(e,t){var r=e.fieldProps,n=ne(e,Z),o=d.exports.useContext(h);return f.createElement(w,X({ref:t,mode:"edit",valueType:"dateQuarter",fieldProps:te({getPopupContainer:o.getPopupContainer},r),filedConfig:{valueType:"dateQuarter",customLightMode:!0}},n))})),ae=["proFieldProps","fieldProps"];function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ue=f.forwardRef((function(e,t){var r=e.proFieldProps,n=e.fieldProps,o=se(e,ae),a=d.exports.useContext(h);return f.createElement(w,le({ref:t,mode:"edit",valueType:"dateYear",fieldProps:pe({getPopupContainer:a.getPopupContainer},n),proFieldProps:r,filedConfig:{valueType:"dateYear",customLightMode:!0}},o))})),fe=L;fe.Week=z,fe.Month=U,fe.Quarter=oe,fe.Year=ue,fe.displayName="ProFormComponent";var de=fe,be=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],ye=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var je=f.forwardRef((function(e,t){var r=e.fieldProps,n=e.children,o=e.params,a=e.proFieldProps,l=e.mode,i=e.valueEnum,p=e.request,c=e.showSearch,s=e.options,u=Pe(e,be),b=d.exports.useContext(h);return f.createElement(w,Oe({mode:"edit",valueEnum:x(i),request:p,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:ge({options:s,mode:l,showSearch:c,getPopupContainer:b.getPopupContainer},r),ref:t,proFieldProps:a},u),n)})),he=f.forwardRef((function(e,t){var r=e.fieldProps,n=e.children,o=e.params,a=e.proFieldProps,l=e.mode,i=e.valueEnum,p=e.request,c=e.options,s=Pe(e,ye),u=ge({options:c,mode:l||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},r),b=d.exports.useContext(h);return f.createElement(w,Oe({mode:"edit",valueEnum:x(i),request:p,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:ge({getPopupContainer:b.getPopupContainer},u),ref:t,proFieldProps:a},s),n)})),we=je;we.SearchSelect=he,we.displayName="ProFormComponent";var xe=we,Ee=["fieldProps","min","proFieldProps","max"];function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ke=function(e,t){var r=e.fieldProps,n=e.min,o=e.proFieldProps,a=e.max,l=Fe(e,Ee);return f.createElement(w,Se({mode:"edit",valueType:"digit",fieldProps:Ce({min:n,max:a},r),ref:t,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:o},l))},Re=f.forwardRef(ke);const Ie=e=>{const{formRef:t}=e,r=()=>{var e,r,n,o,a,l,i;let p=0;for(let c=0;c<(null==(n=null==(r=null==(e=null==t?void 0:t.current)?void 0:e.getFieldsValue(["exRecords"]))?void 0:r.exRecords)?void 0:n.length);c++){const e=null==(l=null==(a=null==(o=null==t?void 0:t.current)?void 0:o.getFieldsValue(["exRecords"]))?void 0:a.exRecords)?void 0:l[c];p+=(null==e?void 0:e.value)?+(null==e?void 0:e.value):0}null==(i=null==t?void 0:t.current)||i.setFieldsValue({totalConsume:p})};return f.createElement(f.Fragment,null,f.createElement(de,{width:"md",name:"date",label:"日期"}),f.createElement(E,{name:"exRecords",creatorButtonProps:{creatorButtonText:"添加一笔记录"},label:"消费记录",actionRender:(e,t,n)=>n.map((e=>p(i({},e),{props:p(i({},e.props),{children:p(i({},e.props.children),{props:p(i({},e.props.children.props),{onClick:()=>{e.props.children.props.onClick(),r()}})})})})))},f.createElement(b.Group,{compact:!0},f.createElement(xe,{initialValue:"diet",options:[{value:"diet",label:"饮食"},{value:"shop",label:"购物"},{value:"transport",label:"交通"}],width:"xs",name:"type"}),f.createElement(Re,{onChange:r,name:"value",placeholder:"请输入金额",rules:[{required:!0,message:"请输入金额"}]}))),f.createElement(S,{width:"md",name:"totalConsume",label:"消费总额",disabled:!0}))},Ye=async e=>C("/api/bill",{method:"GET",params:e}),Me={diet:"饮食",shop:"购物",transport:"交通"},qe=e=>{const{data:t}=e,r=d.exports.useRef(null),n=y(),[o,a]=d.exports.useState(0),[l,p]=d.exports.useState({animationDuration:1500,title:{text:"流量趋势(PV)",textAlign:"left"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},dataZoom:[{type:"inside"}],series:[{data:[],type:"bar",itemStyle:{color:new T(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},label:{show:!0,position:"inside"},emphasis:{itemStyle:{color:new T(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}}}]});return d.exports.useEffect((()=>{const e=[],r=[];let n=0;null==t||t.forEach((t=>{e.push(O(t.date).format("YYYY-MM-DD")),r.push(t.totalConsume),n+=+t.totalConsume})),a(n),l.xAxis.data=e,l.series[0].data=r,p(i({},l))}),[t]),F(r,l,!1,n),f.createElement(f.Fragment,null,f.createElement(m,null,f.createElement("h3",null,"总消费：",f.createElement("span",{style:{color:o>5500?"red":"unset"}},o)," ","元")),f.createElement("div",{ref:r,style:{width:"100%",height:"500px",marginTop:"20px"}}))},Le=(e,t=!0)=>{const r=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");return t?`${r}-${n}-${o} 00:00:00`:`${r}-${n}-${o} 23:59:59`},$e=(e,t=!0)=>(e.setDate(1),t?Le(e,t):Ve(e)),Ve=e=>{let t=e.getMonth();const r=++t,n=new Date(e.getFullYear(),r,1).getTime();return Le(new Date(n-864e5))},Ae=()=>{const[e,t]=d.exports.useState(!1),[r,n]=d.exports.useState(),o=d.exports.useRef(),a=d.exports.useRef(),[l,b]=d.exports.useState([]),[y,h]=d.exports.useState([]),w=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"日期",dataIndex:"date",valueType:"date",sorter:!0,hideInSearch:!0},{title:"消费总额",dataIndex:"totalConsume",hideInSearch:!0},{title:"创建时间",dataIndex:"registerTime",valueType:"dateTime",hideInSearch:!0},{title:"日期",dataIndex:"created_at",valueType:"dateRange",hideInTable:!0,search:{transform:e=>({startTime:e[0],endTime:e[1]})}},{title:"类型",dataIndex:"type",hideInTable:!0,renderFormItem:()=>{var e;return f.createElement(v,{allowClear:!0},null==(e=Object.keys(Me))?void 0:e.map((e=>f.createElement(v.Option,{value:e,key:e},null==Me?void 0:Me[e]))))}},{title:"操作",valueType:"option",width:180,render:(e,t)=>[f.createElement(g,{type:"link",key:"editable",onClick:()=>{S(t)}},"编辑"),f.createElement(P,{key:"del",placement:"topRight",title:"确定要删除吗?",onConfirm:()=>T(null==t?void 0:t._id),okText:"确定",okType:"danger",cancelText:"取消"},f.createElement(g,{type:"link",danger:!0,key:"delete"},"删除"))]}];d.exports.useEffect((()=>{console.log(a)}),[a]);const x=()=>{t(!0)},E=()=>{t(!1)},S=e=>{n(e),x()},T=async e=>{var t;const r=await(async e=>C(`/api/bill/${e}`,{method:"DELETE"}))(e);r&&(null==(t=null==o?void 0:o.current)||t.reload(),j.success(r.message||"删除成功"))};return f.createElement(f.Fragment,null,f.createElement(u,{scroll:{x:!0},bordered:!0,request:async(e,t,r)=>{const n=await Ye(i(i(i({},e),t),r));if(n){const o=await Ye(p(i(i(i({},e),t),r),{pageSize:null,current:null})),a=[];return o.data.forEach((e=>{e.exRecords.forEach((t=>{a.push({type:null==Me?void 0:Me[t.type],value:t.value,date:O(e.date).format("YYYY-MM-DD")})}))})),h(null==o?void 0:o.data),b(a),{data:n.data,success:!0,total:n.total}}return{data:void 0,success:!1,total:0}},columns:w,actionRef:o,editable:{type:"multiple"},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage"},rowKey:"_id",search:{labelWidth:"auto"},form:{syncToUrl:(e,t)=>"get"===t?p(i({},e),{created_at:[e.startTime||O($e(new Date)).format("YYYY-MM-DD"),e.endTime||O(Ve(new Date)).format("YYYY-MM-DD")]}):e},pagination:{pageSize:5,pageSizeOptions:["5","10","20","30","50","100"]},dateFormatter:"string",headerTitle:"用户列表",expandable:{expandedRowRender:e=>f.createElement(u,{columns:[{title:"类型",dataIndex:"type",key:"type",render:e=>null==Me?void 0:Me[e]},{title:"消费金额",dataIndex:"value",key:"value"}],headerTitle:"消费记录",search:!1,options:!1,bordered:!0,dataSource:null==e?void 0:e.exRecords,pagination:!1})},toolBarRender:()=>[f.createElement(g,{key:"out",onClick:()=>{c(l,"账单管理")}},"导出数据"),f.createElement(g,{key:"button",icon:f.createElement(D,null),type:"primary",onClick:()=>{x(),n(void 0)}},"新建")]}),f.createElement(m,{style:{marginTop:"20px"}},f.createElement(qe,{data:y})),f.createElement(s,{ref:a,onCloseDrawer:E,visibleDrawer:e,cItem:r,title:"新增用户",renderFormItemDom:()=>f.createElement(Ie,{formRef:a}),onFinish:async e=>{var t,n;if(r){const n=await(async(e,t)=>C(`/api/bill/${e}`,{method:"PATCH",data:t}))(null==r?void 0:r._id,p(i({},e),{date:new Date(null==e?void 0:e.date)}));n&&(null==(t=null==o?void 0:o.current)||t.reload(),j.success((null==n?void 0:n.message)||"更新成功"),E())}else{const t=await(async e=>C("/api/bill",{method:"POST",data:e}))(p(i({},e),{date:new Date(null==e?void 0:e.date)}));t&&(null==(n=null==o?void 0:o.current)||n.reload(),j.success(t.message||"创建成功"),E())}}}))};export{Ae as default};
