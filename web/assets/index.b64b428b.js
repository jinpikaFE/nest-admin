var t=Object.defineProperty,e=Object.defineProperties,i=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(e,i,n)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n;"undefined"!=typeof require&&require;import{l as s,o as l,p as h,q as u,s as c,t as d,v as p,R as f,r as v,x as m,y as g,z as y,A as b,C as w,D as k,F as P,O as x,G as E,H as _,T,J as C,K as A}from"./vendor.106d363a.js";import{g as R,i as O,a as S,c as M,s as B,b as I,d as D,p as z,e as L,f as F,h as V,r as j,t as U}from"./index.90d069dd.js";import{c as N,P as H,r as Z,a as X}from"./index.ce8aaf61.js";import{A as q}from"./index.9c0e8ca6.js";import"./Google.3f056e61.js";import{P as G}from"./index.4b9ee985.js";import{P as W}from"./index.afe46a41.js";import{W as Y,U as K,s as Q,l as $}from"./login.5442d284.js";import{h as J,l as tt}from"./index.46be044a.js";import"./index.esm.efd6661b.js";import"./index.726a6a83.js";function et(){}var it=/#([0-9a-f]{6}|[0-9a-f]{3})|((rgb|hsl)[a]?)+\(\d+\,[\s+]?\d+\%?\,[\s+]?\d+\%?(\,[\s+]?[0|1](\.?[0-9]+)?)?\)/,nt=!("undefined"!=typeof window&&window.document&&window.document.createElement),rt=Date.now;var at={type:"to",duration:450,delay:0,repeat:0,repeatDelay:0,appearTo:0,yoyo:!1,ease:"easeInOutQuad",onStart:et,onUpdate:et,onComplete:et,onRepeat:et,startAt:{}},ot={animation:{},paused:!1,reverse:!1,delay:0,repeat:0,repeatDelay:0,yoyo:!1,moment:null,resetStyle:!1,regionStartTime:0,regionEndTime:void 0,onChange:et,onChangeTimeline:et},st=function(t){var e={};return Object.keys(ot).forEach((function(i){e[i]=void 0===t[i]?ot[i]:t[i]})),e.delay&&(e.delay=Math.round(e.delay)),t.repeatDelay&&(e.repeatDelay=Math.round(e.repeatDelay)),e},lt=function(t){if(Array.isArray(t)||!t)return t;if(t.length){var e=Array.prototype.slice.call(t);return e.length?[t]:e}return[t]},ht=function(t){return 1===t.length?t[0]:t},ut=function(t,e){var i,n=e.appearTo,r=void 0===n?0:n,a=e.delay,o=void 0===a?0:a,s=e.duration,l=void 0===s?450:s,h=e.repeat,u=e.repeatDelay;if("string"==typeof r)return 0;var c=0;return"number"==typeof t.appearTo?t.appearTo:("string"==typeof t.appearTo&&"="===t.appearTo.charAt(1)&&(c=parseFloat(t.appearTo.replace("=",""))),i=r+o+l+c,-1===h?i=Number.MAX_VALUE:h&&(i=r+o+l*(h+1)+(u||0)*h+c),i)},ct=function(t){switch(t){case"opacity":case"scaleX":case"scaleY":case"scale":return 1;default:return 0}},dt=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0;return"+="===n||"-="===n?t+e*i+(r||0):(e-t)*i+t+(r||0)},pt={margin:1,padding:1,borderWidth:1,borderRadius:1};function ft(t){var e=t.target,i=t.computedStyle,n=t.style,r=t.value,a=t.startUnit,o=t.endUnit,s=t.fixed,l=t.isOriginWidth,h=t.useCurrentTarget;if(nt)return r;var u=/(?:Left|Right|Width|X)/i.test(n)||l;u="padding"===n||"marign"===n||u;var c,d,p,f=-1!==n.indexOf("border")||-1!==n.indexOf("translate")||"transformOrigin"===n||h?e:e.parentNode||document.body;switch(f=s?document.body:f,a){case"%":c=parseFloat(r)/100*(u?f.clientWidth:f.clientHeight);break;case"vw":c=parseFloat(r)*document.body.clientWidth/100;break;case"vh":c=parseFloat(r)*document.body.clientHeight/100;break;case"em":i?c=parseFloat(r)*parseFloat(i.fontSize):(p="em",c=parseFloat(r));break;case"rem":i?(d=window.getComputedStyle(document.getElementsByTagName("html")[0]),c=parseFloat(r)*parseFloat(d.fontSize)):(p="rem",c=parseFloat(r));break;default:c=parseFloat(r)}switch(o){case"%":c=c?100*c/(u?f.clientWidth:f.clientHeight):0;break;case"vw":c=parseFloat(r)/document.body.clientWidth*100;break;case"vh":c=parseFloat(r)/document.body.clientHeight*100;break;case"em":i?c=parseFloat(r)/parseFloat(i.fontSize):(p="em",c=parseFloat(r));break;case"rem":i?(d=d||window.getComputedStyle(document.getElementsByTagName("html")[0]),c=parseFloat(r)/parseFloat(d.fontSize)):(p="rem",c=parseFloat(r))}return p&&console.warn("Warning: Element is not 'DOM, can not use '".concat(p,"', automatically convert to animation units.")),c}function vt(t){if("string"==typeof t)return t;var e=t.perspective,i=t.rotate,n=t.rotateX,r=t.rotateY,a=t.scaleX,o=t.scaleY,s=t.scaleZ,l=t.skewX,h=t.skewY,u="string"==typeof t.translateX?t.translateX:"".concat(t.translateX,"px"),c="string"==typeof t.translateY?t.translateY:"".concat(t.translateY,"px"),d="string"==typeof t.translateZ?t.translateZ:"".concat(t.translateZ,"px"),p=l||h?"skew(".concat(l,"deg,").concat(h,"deg)"):"",f=i?"rotate(".concat(i,"deg)"):"",v=1!==a||1!==o||1!==s?"scale3d(".concat(a,",").concat(o,",").concat(s,")"):"",m=n?"rotateX(".concat(n,"deg)"):"",g=r?"rotateY(".concat(r,"deg)"):"",y=e?"perspective(".concat(e,"px)"):"",b=v||f||m||g||p?"":"translate(0px, 0px)",w=t.translateZ?"translate3d(".concat(u,",").concat(c,",").concat(d,")"):(t.translateX||t.translateY)&&"translate(".concat(u,",").concat(c,")")||b;return"".concat(y," ").concat(w," ").concat(v," ").concat(f," ").concat(m," ").concat(g," ").concat(p).trim()}var mt={brightness:1,contrast:1,grayScale:0,hueRotate:"0deg",sepia:0,invert:0},gt=new function t(){var e=this;s(this,t),this.push=function(t){lt(t).forEach((function(t){e[t.className]=t}))},this.register=this.push},yt=function t(e){var i=this;s(this,t),this.props=e,this.tweenVars={},this.start={},this.startAt={},this.propsData={data:{},type:{},unit:{},count:{},splitStr:{},isTransform:{}},this.setDefaultData=function(){var t=i.props;for(var e in t){var n=t[e],r=n.split&&n.split(/\s+|,/).length>1||e.match(/color|fill|stroke/i)||e.match(/shadow/i);if(("background"===e||"backgroundImage"===e)&&n.match(/[a-z|-]+\(([\s\S]*?)\)/gi))i.propsData.data[e]={value:n,plugin:gt.GradientsPlugin};else if(r)i.propsData.data[e]={value:n,plugin:gt.ArrayPlugin};else{var a=R(e),o=i.getTweenData(a,t[e]);i.propsData.data[a]=o.data[a],i.propsData.type[a]=o.type[a],i.propsData.unit[a]=o.unit[a],i.propsData.count[a]=o.count[a],i.propsData.isTransform[a]="transform"===O(a),o.splitStr[a]&&(i.propsData.splitStr[a]=o.splitStr[a])}}},this.getTweenData=function(t,e){var i={data:{},isTransform:{},type:{},unit:{},count:{},splitStr:{}},n=e;i.data[t]=n;var r="string"==typeof i.data[t];i.unit[t]=r?i.data[t].replace(/[^a-z|%]/g,""):"",i.count[t]=r?i.data[t].replace(/[^+|=|-]/g,""):"";var a=r?parseFloat(i.data[t].replace(/[a-z|%|=]/g,"")):i.data[t];return i.data[t]=a||0===a?a:i.data[t],i},this.getAnimStart=function(){var t,e,n=i.target,r=i.root,a=i.targetIndex,o=i.propsData,s=i.startAt,h=i.start,u=i.tweenVars,c={};for(var d in s)c[R(d)]=s[d];for(var p in i.computedStyle=i.computedStyle||function(t){return t&&"undefined"!=typeof window&&document.defaultView?document.defaultView.getComputedStyle(t):{}}(n),u.style=u.style||{},o.data){var f,v,m=o.data[p];if(m.plugin){var g=new m.plugin(m.value,p);g.target=n,g.root=r,g.parent=parent,g.index=i.index,g.targetIndex=a,g.tweenVars=r.vars[a]||{},g.startAt=i.startAt,g.computedStyle=i.computedStyle,m.plugin=g,h[p]=g.getAnimStart()}else{var y=O(p),b=null!==(f=null!==(v=c[p])&&void 0!==v?v:h[y])&&void 0!==f?f:i.computedStyle[y];b&&"none"!==b&&"auto"!==b||(b="");var w=void 0,k=void 0;if("transform"===y){if(t=t||(h.transform?l({},h.transform):null),p in c)(t=t||S())[p]=c[p],"scale"===p&&(t.scaleX=c[p],t.scaleY=c[p]);else{b=i.computedStyle[i.transformName],w=o.unit[p],t=t||S(b);var P=/%|vw|vh|em|rem/i;w&&w.match(P)&&(t[p]=t[p]&&t[p].toString().match(P)?parseFloat(t[p]):ft({target:n,computedStyle:i.computedStyle,style:p,value:t[p],endUnit:w}))}h.transform=t}else if("filter"===y){var x,E=M.filterConvert[p]||p;if(e=e||h[y]||null,p in c?(e=e||{})[E]=c[p]:(b=i.computedStyle[i.filterName],w=o.unit[p],(e=e||(b&&"none"!==b&&"auto"!==b?B(b):{}))[E]=e[E]||mt[p]||0),k=(b=e[E]||0).toString().replace(/[^a-z|%]/g,""),(w=i.propsData.unit[p])!==k)e[E]=ft({target:n,computedStyle:i.computedStyle,style:y,value:parseFloat(b),startUnit:k,endUnit:w,fixed:"fixed"===(null===(x=i.computedStyle)||void 0===x?void 0:x.position)});h[y]=e}else{var _;if((w=o.unit[y])!==(k="string"==typeof b?b.replace(/[^a-z|%]/g,""):""))b=ft({target:n,computedStyle:i.computedStyle,style:y,value:parseFloat(b),startUnit:k,endUnit:w,fixed:"fixed"===(null===(_=i.computedStyle)||void 0===_?void 0:_.position)});h[y]=parseFloat(b||0)}}}return h},this.render=function(t){var e=i.propsData,n=i.start,r=i.tweenVars.style||{};n.transform&&!r[i.transformName]&&(r[i.transformName]=l({},n.transform)),n.filter&&!r[i.filterName]&&(r[i.filterName]=l({},n.filter));var a=r[i.transformName],o=r[i.filterName],s=e.data,h=e.unit,u=e.count,c=e.isTransform;for(var d in s){var p=s[d];if(p.plugin)r[d]=p.plugin.render(t);else{var f=c[d],v=f?n.transform[d]:n[d],m=h[d],g=u[d];if(f){if(m&&m.match(/%|vw|vh|em|rem/i))v=parseFloat(v),"="===g.charAt(1)?a[d]=v+p*t+(m||0):a[d]=(p-v)*t+v+(m||0);else if("scale"===d){var y=n.transform.scaleX,b=n.transform.scaleY;"="===g.charAt(1)?(a.scaleX=y+p*t,a.scaleY=b+p*t):(a.scaleX=(p-y)*t+y,a.scaleY=(p-b)*t+b)}else"="===g.charAt(1)?a[d]=v+p*t:a[d]=(p-v)*t+v;a.text=vt(r.transform)}else if(M.filter.indexOf(d)>=0){var w=M.filterConvert[d]||d;for(var k in v=parseFloat(n.filter[w])||0,"="===g.charAt(1)?o[d]=v+p*t+(m||0):o[w]=(p-v)*t+v+(m||0),o.text="",o)"text"!==k&&(o.text="".concat(o.text," ").concat(k,"(").concat(o[k],")").trim())}else{var P=I(d,0);P="number"==typeof P?0:P.replace(/[^a-z|%]/g,""),m=m||P,"string"==typeof p?r[d]=p:"="===g.charAt(1)?r[d]=v+p*t+m:r[d]=(p-v)*t+v+m}}}return r},this.transformName=D("transform"),this.filterName=D("filter")||"filter",this.setDefaultData()};yt.key="style",yt.className="style";var bt=function t(e,i){var n=this;s(this,t),this.value=e,this.key=i,this.start=[],this.tweenVars={},this.vars={},this.propsData={data:[],unit:[],count:[]},this.setDefaultData=function(t,e){var i=n.propsData,r=n.value,a=h(r);"color"===t&&(a[3]=a[3]||1),i.type=t,i.data=a.map((function(t){return parseFloat(t)||0===parseFloat(t)?parseFloat(t):t})),i.unit=a.map((function(t){return t.toString().replace(/[^a-z|%]/g,"")})),i.count=a.map((function(t){return t.toString().replace(/[^+|=|-]/g,"")})),e&&(i.splitStr=e)},this.convertToMarksArray=function(t,e,i,r){var a=(i||"").toString().replace(/[^a-z|%]/g,""),o="number"==typeof r?t[r]:void 0;return a===o?parseFloat(i):parseFloat(i)||0===parseFloat(i)?ft({target:n.target,computedStyle:n.computedStyle,style:e,value:i,startUnit:a,endUnit:o,isOriginWidth:"transformOrigin"===e&&!r}):i},this.getAnimStart=function(){var t,e=n.startAt,i=n.target,r=n.key,a=n.propsData,o=n.computedStyle,s=n.tweenVars,c=l({},e);c="shadow"===a.type&&c[r]?z(c[r],r):c,c="color"===a.type&&c[r]?L(c[r]):c,c="string"===a.type&&c[r]?c[r].split(/[\s|,]/):c;var d,p,f,v,m=null!==(t=s[r])&&void 0!==t?t:(o||i)[r];(m&&"none"!==m&&"auto"!==m||(m=""),c[r]||(c[r]="shadow"===a.type?z(m||"",r):m,c[r]="color"===a.type&&c[r]?L(c[r]):c[r],c[r]="string"===a.type&&c[r]?c[r].split(/[\s|,]/):c[r]),pt[r])&&(c[r][1]=null!==(d=c[r][1])&&void 0!==d?d:c[r][0],c[r][2]=null!==(p=c[r][2])&&void 0!==p?p:c[r][0],c[r][3]=null!==(f=null!==(v=c[r][3])&&void 0!==v?v:c[r][1])&&void 0!==f?f:c[r][0]);var g=a.data.indexOf("inset"),y=h(a.data);g>=0&&y.splice(g,1);var b=y.map((function(t,e){return"string"==typeof t?t:c[r]&&void 0!==u(c[r][e])?c[r][e]:"color"===a.type&&e>=y.length-1?1:0})),w=a.unit;return b=b.map((function(t,e){return"NaN"===parseFloat(t).toString()?t:n.convertToMarksArray(w,r,t,e)})),n.start=b.concat(g>=0?"inset":[]),n.start},this.render=function(t){var e=n.start,i=n.propsData,r=i.type,a=i.splitStr,o=i.data,s=i.count,l=i.unit,h=o.map((function(i,n){return"string"==typeof i?i:dt(e[n],i,t,s[n],l[n])}));switch(r){case"string":h=h.join(a);break;case"color":h=F(h);break;case"shadow":var u=e.indexOf("inset")>=0,c=h.indexOf("inset")>=0;u!==c&&console.warn('Warning: "box-shadow" inset is different, automatically convert to animation param.');var d=c?h.filter((function(t){return"inset"!==t})):h,p=d.slice(0,d.length-4).map((function(t){return"number"==typeof t?"".concat(t,"px"):t})),f=F(d.slice(d.length-4,d.length));h="".concat(p.join(" ")," ").concat(f," ").concat(c?"inset":"").trim()}return h};var r="",a="";"string"==typeof e&&(i.match(/color|fill|stroke/i)?(this.value=L(e),r="color"):i.match(/shadow/i)?(this.value=z(e,i),r="shadow"):(a=e.replace(/[^\s|,]/g,"").replace(/\s+/g," "),this.value=e.split(/[\s|,]/),r="string")),this.setDefaultData(r,a)};bt.className="ArrayPlugin";var wt={"to top":"0deg","to top right":"45deg","to right top":"45deg","to right":"90deg","to right bottom":"135deg","to bottom right":"135deg","to bottom":"180deg","to bottom left":"225deg","to left bottom":"225deg","to left":"270deg","to left top":"315deg","to top left":"315deg"},kt={center:"50% 50%",top:"50% 0%","top right":"100% 0%","right top":"100% 0%",right:"100% 50%","right bottom":"100% 100%","bottom right":"100% 100%",bottom:"50% 100%","bottom left":"0% 100%","left bottom":"0% 100%",left:"0% 50%","left top":"0% 0%","top left":"0% 0%"},Pt=["closest-side","closest-corner","farthest-side","farthest-corner"],xt=function(t,e,i){console.warn("Warning: The gradient ".concat(t,"(").concat(e," => ").concat(i,") is different, which has been automatically converted to animation gradient ").concat(t,"(").concat(i,")."))},Et=function(t){return"url"===t||t.indexOf("image")>=0||"paint"===t||"cross-fade"===t||"element"===t},_t=function t(e){var i=this;s(this,t),this.start=[],this.tweenVars={},this.vars=[],this.defaultStartVars=[],this.getPosition=function(t){return t.map((function(t){return{data:parseFloat(t),unit:t.replace(/[^a-z|%]/g,"")}}))},this.getAngle=function(t,e){var n,r,a,o;switch(t.replace(/-|gradient|repeating]/g,"")){case"linear":a=i.getPosition((wt[e]||e||wt["to bottom"]).split(" "));break;case"radial":var s=e.split(" ");n=s.find((function(t){return Pt.indexOf(t)>=0}))||Pt[3],r=s.find((function(t){return"circle"===t||"ellipse"===t}))||"ellipse";var l=new RegExp("".concat(n,"|").concat(r,"|at"),"g"),h=e.replace(l,"").trim();o=i.getPosition((kt[h]||h||kt.center).split(" "));break;case"conic":var u=e.split("at").map((function(t){return t.trim()})),c=(u[0]||"").split(" ");r=c[0]||"from",a=i.getPosition([c[1]||"0deg"]),o=i.getPosition((kt[u[1]]||u[1]||kt.center).split(" "))}return{extent:n,shape:r,angle:a,position:o}},this.valueToIValue=function(t){return t?t.replace(/\),\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/,")#,#$1").split("#,#").map((function(t){var e=t.replace(/([a-z|-]+)\((.*)\)/,"$1").trim();if("url"===e)return{type:e,values:t};var n=t.replace(/([a-z|-]+)\((.*)\)/,"$2").replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\(\d+\,[\s+]?\d+[\%]?\,[\s+]?\d+[\%]?(\,\d+)?\)/gi,(function(t){return t.replace(/\s+/g,"")})).replace(/\,([a-z|#|\s+])/g,"#,#$1").split("#,#").map((function(t){return t.trim()})),r=n[0].match(it)?"":n[0];return r&&n.splice(0,1),{type:e,angle:i.getAngle(e,r),values:n.map((function(t){var e,i=t.trim().split(/\s+/),n=(i[0].match(it),i[0]);return n&&(i.splice(0,1),e=L(n)),{color:e,positions:i.map((function(t){return{data:parseFloat(t),unit:t.toString().replace(/[^a-z|%]/g,"")}}))}}))}})):[]},this.getAnimStart=function(){var t,e=i.startAt,n=i.key,r=i.computedStyle,a=i.target,o=i.vars,s=i.tweenVars,h=l({},e),u=null!==(t=s[n])&&void 0!==t?t:(r||a)[n];u&&"none"!==u&&"auto"!==u||(u=""),h[n]||(h[n]=u?i.valueToIValue(u):i.defaultStartVars);var c=(Math.max(o.length,h[n].length)===h[n].length?h[n]:o).map((function(t,e){var r,a,s,u,c=h[n][e]||i.defaultStartVars[e],d=o[e]||c;if(c&&c.type===d.type||(c.type!==d.type&&xt("type",c.type,d.type),c=i.defaultStartVars[e]),Et(d.type)||"string"==typeof d.values||"string"==typeof c.values)return l({},d);(null===(r=d.angle)||void 0===r?void 0:r.extent)!==(null===(a=c.angle)||void 0===a?void 0:a.extent)&&xt("extent keyword",null===(s=c.angle)||void 0===s?void 0:s.extent,null===(u=d.angle)||void 0===u?void 0:u.extent);var p=Math.max(c.values.length,d.values.length)===c.values.length?c.values:d.values;return c.values=p.map((function(t,e){var i=c.values[e],n=d.values[e]||i;return l(l({},i),{},{positions:(n||i).positions.map((function(t,r){var a=i?i.positions[r]||i.positions[i.positions.length-1]:n.positions[n.positions.length-1],o=t||a;return!a&&i&&c.values.length&&(a={data:100/(c.values.length-1)*e,unit:"%"}),o.unit!==a.unit&&xt("units",a.unit,o.unit),{data:a.data,unit:o.unit}}))})})),c}));return i.start=c,i.start},this.render=function(t){var e="";return(Math.max(i.vars.length,i.start.length)===i.vars.length?i.vars:i.start).forEach((function(n,r){var a=i.start[r],o=i.vars[r]||a;if(!Et(o.type)&&"string"!=typeof o.values&&o.angle){var s=(Math.max(a.values.length,o.values.length)===a.values.length?a.values:o.values).map((function(e,i){var n=a.values[i],r=o.values[i];r||(r=n);var s=n.color,u=n.positions;!s&&r.color&&(s=h(r.color)),u||(u=r.positions.map((function(t){return l({},t)})));var c=r.color?r.color.map((function(e,i){return dt(s[i],e,t)})):r.color,d=r.positions.map((function(e,i){return"".concat(dt(u[i].data,e.data,t)).concat(e.unit)})).join(" ");return"".concat(c?F(c):c||""," ").concat(d).trim()})),u=o.angle,c=u.angle&&u.angle.map((function(e,i){return"".concat(dt(a.angle.angle[i].data,e.data,t)).concat(e.unit)})).join(" "),d=u.position&&u.position.map((function(e,i){return"".concat(dt(a.angle.position[i].data,e.data,t)).concat(e.unit)})).join(" "),p="".concat(u.extent||""," ").concat(u.shape||""," ").concat(c||""," ").concat(d?"at ".concat(d):"").trim();e+="".concat(e?",":""," ").concat(o.type,"(").concat(p?"".concat(p,","):"").concat(s.join(","),")").trim()}else e+="".concat(e?",":""," ").concat(o.values).trim()})),e},this.value=e,this.key="backgroundImage",this.vars=this.valueToIValue(e),this.defaultStartVars=this.vars.map((function(t){return Et(t.type)||"string"==typeof t.values?l({},t):l(l({},t),{},{values:t.values.map((function(t){var e;return t.color&&"string"!=typeof t.color?(e=h(t.color))[3]=0:e=t.color,{color:e,positions:h(t.positions)}}))})}))};_t.className="GradientsPlugin";var Tt=new(function(){function t(){var e=this;s(this,t),this.lagThreshold=150,this.adjustedLag=33,this.emptyTime=0,this.elapsed=0,this.frameFPS=1e3/240,this.startTime=0,this.prevTime=0,this.useTimeout=!1,this.lastUpdate=this.startTime,this.nextTime=this.frameFPS,this.id=-1,this.tweenId=0,this.tickFn=[],this.state="sleep",this.time=0,this.frame=0,this.removeReq=function(t){return e.useTimeout?clearTimeout(t):V(t)},this.tick=function(){var t=e.tickFn;e.startTime||(e.startTime=rt()-e.frameFPS,e.lastUpdate=e.startTime),e.elapsed=rt()-e.lastUpdate,e.elapsed>e.lagThreshold&&(e.startTime+=e.elapsed-e.adjustedLag),e.lastUpdate+=e.elapsed,e.time=e.lastUpdate-e.startTime;var i=e.time-e.nextTime;if(i>0){e.frame++,e.nextTime+=i+(i>=e.frameFPS?4:e.frameFPS-i);for(var n=e.time-e.prevTime,r=0;r<t.length;r++)t[r].fn({time:e.time,elapsed:n<e.frameFPS?e.frameFPS:n});e.prevTime=e.time}if(!e.tickFn.length&&(e.emptyTime||(e.emptyTime=e.time+500),e.time>=e.emptyTime))return e.emptyTime=0,void e.sleep();e.req&&(e.id=e.req(e.tick))},this.wake=function(){e.id&&e.sleep(),e.req=e.useTimeout?function(t){return setTimeout(t,e.frameFPS)}:j,e.tick(),e.state="wake"},this.sleep=function(){e.removeReq(e.id),e.id=-1,e.req=void 0,e.state="sleep"},this.add=function(t){var i="TweenOneTicker_".concat(e.tweenId);return e.tweenId+=1,-1===e.tickFn.findIndex((function(t){return t.key===i}))&&e.tickFn.push({key:i,fn:t}),e.emptyTime=0,e.req||e.wake(),i},this.clear=function(t){e.tickFn=e.tickFn.filter((function(e){return e.key!==t&&e.fn!==t}))},this.timeout=function(t,i){if("function"!=typeof t)return console.warn("not function");var n=e.time,r=e.add((function(){e.time-n>=(i||0)&&(e.clear(r),t())}));return r},this.interval=function(t,i){if("function"!=typeof t)return console.warn("not function"),null;var n=e.time;return e.add((function(){e.time-n>=(i||0)&&(n=e.time,t())}))}}return c(t,[{key:"fps",value:function(t,e){this.frameFPS=1e3/(t||240),this.nextTime=this.time+this.frameFPS,this.useTimeout=void 0===e?this.useTimeout:e,this.useTimeout&&(this.req=function(e){return setTimeout(e,t)})}}]),t}()),Ct=function(){function t(){var e=this;s(this,t),this.children=[],this.autoSleep=200,this.addChild=function(t){-1===e.children.indexOf(t)?(e.children.push(t),e.updateTickerState()):e.start()},this.removeChild=function(t){e.children=e.children.filter((function(e){return e!==t})),e.updateTickerState()},this.kill=function(t){e.children=e.children.filter((function(e){var i=e.root.targets.map((function(e,i){if(-1===t.indexOf(e))return e;delete e._tweenOneVars}));e.root.targets=i;var n=!!i.filter((function(t){return t})).length;return n||e.kill(),n})),e.updateTickerState()},this.killAll=function(t){t&&(e.children.forEach((function(t){null==t||t.root.targets.forEach((function(t){t&&delete t._tweenOneVars}))})),e.children=[]),Tt.clear(e.tickerKey),e.tickerKey=void 0},this.getTotalTime=function(){for(var t=0,i=0;i<e.children.length;i++){var n=e.children[i],r=n.pausedState?0:n.startTime+n.totalTime;t=t?Math.max(r,t):r}return t},this.updateTickerState=function(){e.children.length&&e.children.some((function(t){return!(null==t?void 0:t.pausedState)&&(!(null==t?void 0:t.reverseState)&&t.progressTime<t.totalTime||(null==t?void 0:t.reverseState)&&t.progressTime>0)}))?e.start():e.killAll(!e.children.length)},this.start=function(){e.tickerKey||(e.tickerKey=Tt.add(e.render))},this.render=function(t){for(var i=t.time,n=t.elapsed,r=void 0===n?0:n,a=e.children,o=a.length,s=0;s<o;s++){var l=a[s];if(l){var h=l.startTime-r,u=l.startTime+l.totalTime+r;i>h&&i<u&&!l.pausedState&&l.render({time:i,elapsed:r})}}}}return c(t,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),t}();U.path=function(t,e){var i=e||{};if(nt)return"linear";for(var n=function(t){if("string"==typeof t){if(t.charAt(0).match(/m/i)){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}return document.querySelector(t)}if(t.style)return t;throw new Error("Error while parsing the path")}(t),r=n.getTotalLength(),a=i.rect||100,o=i.lengthPixel||200,s=[],l=0;l<o-1;l++)s.push(n.getPointAtLength(r/(o-1)*l));return s.push(n.getPointAtLength(o)),function(t,e,i,o){var l=U.linear(t,e,i,o),h=a*l;return 1-(s.filter((function(t){return t.x>=h}))[0]||n.getPointAtLength(l*r)).y/a}};var At=function(){function t(e){var i=this;s(this,t),this.item=e,this.vars={},this.startAt={},this.appearTo=0,this.props={},this.repeatNum=0,this.setEase=function(t){"function"!=typeof t?t.match(/,/g)?i.easing=U.path(t):i.easing=U[t]:i.easing=t},this.getTotalTime=function(){var t=i.props,e=t.duration,n=void 0===e?450:e,r=t.delay,a=void 0===r?0:r,o=t.repeat,s=void 0===o?0:o,l=t.repeatDelay,h=void 0===l?0:l;return-1===s?Number.MAX_VALUE:a+n*(s+1)+h*s},this.getEaseToRatio=function(t,e){var n=i.props.ease,r=void 0===n?"":n;return 0!==t&&1!==t||"function"==typeof r||r.match(/,/g)?i.easing(e?1-t:t,e?1:0,e?0:1,1):t},this.setRatioToVars=function(t){for(var e=i.vars,n=i.root,r=0;r<n.targets.length;r++)if(n.targets[r])for(var a in e){var o=e[a];if(o.plugins)"PathMotion"===a?n.vars[r].style=o.plugins[r].render(t):n.vars[r][a]=o.plugins[r].render(t);else{var s=o.vars,l=o.count,h=o.unit,u=i.start[r][a];n.vars[r][a]=dt(u,s,t,l,h)}}},this.onRegisterAnimate=function(){i.register=!0;for(var t=i.root,e=i.parent,n=i.startAt,r=[],a=0;a<t.targets.length;a++){var o=t.targets[a],s={};for(var l in i.vars){var h=i.vars[l];if(h.plugins){var u=new gt[h.array?"ArrayPlugin":l](h.value,l);u.target=o,u.root=t,u.parent=e,u.targetIndex=a,u.tweenVars=t.vars[a],u.index=i.index,u.startAt=i.startAt,s[l]=u.getAnimStart(),h.plugins.push(u)}else{var c,d,p=null!==(c=null!==(d=n[l])&&void 0!==d?d:t.attr?o.getAttribute(l):o[l])&&void 0!==c?c:ct(l),f="".concat(p).replace(/[^a-z|%]/g,""),v=h.unit;f&&f!==v&&console.warn("Different units, start unit ".concat(f,", to value unit ").concat(v,", remove start unit.")),s[l]=parseFloat(p)}}r.push(s)}i.start=r},this.overflowRatio=function(t){var e=t<0?0:t,n=i.props.duration;return e=e>n?n:e},this.render=function(t){var e=t.moment,n=t.fps,r=void 0===n?0:n,a=t.silence,o=t.render,s=i.parent,l=i.root,h=i.props,u=ht(l.targets),c=s.onChange,d=h.repeat,p=void 0===d?0:d,f=h.type,v=void 0===f?"to":f,m=h.duration,g=void 0===m?450:m,y=h.delay,b=void 0===y?0:y,w=h.repeatDelay,k=void 0===w?0:w,P=h.yoyo;p=-1===p?Number.MAX_VALUE:p;var x=e-b,E=Math.floor(x/(g+k))||0;x-=(g+k)*(E=(E=E>p?p:E)<0?0:E);var _=!!(P&&E%2),T="from"===v,C=(!_||!T)&&(_||T);x=C?g-x:x;var A=T?0:b,R=C?1:0;if(!i.register&&e>=A&&(i.onRegisterAnimate(),(C&&x<=0||!C&&x>=g&&g)&&(i.prevMoment=e,R=C?0:1),i.setRatioToVars(R),c({index:i.index,vars:l.vars})),i.register&&e>b-r&&e<i.totalTime+r){x=i.overflowRatio(x),R=C?1:0,e>=i.totalTime&&"onComplete"!==i.mode&&void 0!==i.prevMoment||void 0===i.prevMoment&&e>=i.totalTime&&g?(R=C?0:1,i.mode="onComplete",i.props.onComplete&&i.props.onComplete({mode:i.mode,index:i.index,moment:x,ratio:R,targets:u,vars:ht(l.vars)})):void 0===i.prevMoment||e<=0&&e>-r&&"onStart"!==i.mode&&i.prevMoment>e?(i.mode="onStart",i.props.onStart&&i.props.onStart({mode:i.mode,index:i.index,moment:x,ratio:R,targets:u,vars:ht(l.vars)})):(R=x/g,i.mode="onUpdate",i.props.onUpdate&&i.props.onUpdate({mode:i.mode,index:i.index,moment:x,ratio:R,targets:u,vars:ht(l.vars)})),p&&E!==i.repeatNum&&e&&"onUpdate"===i.mode&&(i.mode="onRepeat",i.props.onRepeat&&i.props.onRepeat({mode:i.mode,index:i.index,moment:x,ratio:R,targets:u,vars:ht(i.root.vars)})),i.setRatioToVars(i.getEaseToRatio(R,T)),p&&(i.repeatNum=E);var O={mode:i.mode,moment:x,repeat:E,ratio:R,targets:l.targets,vars:l.vars,index:i.index};a&&(O.silence=a),o&&(O.render=o),c(O),i.prevMoment=e}},this.startAt=e.startAt||{};var n={};for(var r in e){var a=e[r];if(r in at)n[r]=a;else{var o=(Array.isArray(a)||r.match(/color|fill|stroke/i)||r.match(/shadow/i)||"string"==typeof a&&a.split(/[\s|,]/).length>1)&&!(r in gt);if(r in gt||o)this.vars[r]={value:a,plugins:[],array:o};else{var h=parseFloat(a.toString().replace(/=/g,"")),u=a.toString().replace(/[^a-z|%]/g,""),c="="===a.toString().charAt(1)?a.toString().replace(/[^\+\=|\-\=]/gi,""):"",d=(this.startAt[r]||0).toString().replace(/[^a-z|%]/g,"");u!==d&&this.startAt[r]&&this.startAt[r]!==ct(r)&&console.warn("Warning: animation vars(".concat(a,") units(").concat(u||"px",") are not equal to startAt(").concat(d||"px",").")),this.vars[r]={vars:h,unit:u,count:c}}}}this.props=l(l({},at),n),this.setEase(this.props.ease)}return c(t,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),t}(),Rt=function t(e){var i=this;s(this,t),this.props=e,this.children=[],this.totalTime=0,this.totalTimeRegion=0,this.childTotalTime=0,this.childRegionTotalTime=0,this.progressTime=0,this.progressMoment=-1,this.startMoment=0,this.startTime=0,this.repeatNum=0,this.mode="onTimelineStart",this.regionStartTime=0,this.init=function(){for(var t=i.props,e=t.reverse,n=t.animation,r=t.moment,a=lt(n),o=0;o<a.length;o++){var s=a[o];"set"===s.type&&(s.duration=0);var l=new At(s);l.index=o;var h=o?ut(s,a[o-1]):0;s.appearTo=h,l.appearTo=h,i.addChild(l)}i.render({time:(e?i.totalTime:0)+i.startTime,elapsed:16.67}),i.totalTime||i.render({time:(e?i.totalTime:0)+i.startTime,elapsed:16.67}),r?i.goto(r):i.play()},this.addChild=function(t){t.parent=i,t.root=i.root,-1===i.children.indexOf(t)&&(i.children.push(t),i.setTotalTime())},this.setTotalTime=function(){i.childTotalTime=0,i.childRegionTotalTime=0;for(var t=0;t<i.children.length;t++){var e=i.children[t];if(e.appearTo!==i.childTotalTime){var n=e.appearTo+e.totalTime;n>i.childTotalTime&&(i.childTotalTime=n,i.childRegionTotalTime=n)}else i.childTotalTime+=e.totalTime,i.childRegionTotalTime+=e.totalTime}i.regionStartTime&&(i.childRegionTotalTime-=i.regionStartTime),i.regionEndTime&&(i.childRegionTotalTime=i.regionEndTime-i.regionStartTime);var r=i.props,a=r.repeat,o=void 0===a?0:a,s=r.repeatDelay,l=void 0===s?0:s,h=r.delay;i.totalTime=-1===o?Number.MAX_VALUE:h+i.childTotalTime*(o+1)+l*o,i.totalTimeRegion=-1===o?Number.MAX_VALUE:h+i.childRegionTotalTime*(o+1)+l*o},this.setStartTimeOrMoment=function(t){i.startTime=Tt.time,i.startMoment=t||i.progressMoment},this.reRenderCall=function(){i.render({time:i.startTime,elapsed:Tt.elapsed||Tt.frameFPS})},this.play=function(t){var e,n;t?null===(e=i.parent)||void 0===e||e.updateTickerState():null===(n=i.parent)||void 0===n||n.addChild(i)},this.paused=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.pausedState=t,i.setStartTimeOrMoment(),i.play(t)},this.reverse=function(t){i.reverseState=t,i.setStartTimeOrMoment(),i.play(i.pausedState)},this.goto=function(t,e){var n=t-i.regionStartTime;i.startTime=Tt.time,i.startMoment=n>i.totalTime?i.totalTime:n,i.progressMoment=i.startMoment,i.progressTime=n,i.play(i.pausedState),i.reRenderCall(),!!e!==i.pausedState&&i.paused(e)},this.kill=function(t){"number"==typeof t?(i.paused(),delete i.children[t],i.setTotalTime(),i.paused(!1)):i.children=[]},this.onChange=function(t){t.timelineMoment=i.progressMoment,i.onChangeChild(t)},this.render=function(t){var e=t.time,n=t.elapsed||Tt.frameFPS||0,r=i.totalTime,a=i.totalTimeRegion,o=i.childTotalTime,s=i.childRegionTotalTime,l=i.children,h=i.props,u=i.startTime,c=i.reverseState,d=i.pausedState,p=i.startMoment,f=i.onChangeTimeline,v=i.parent,m=i.root,g=i.prevMoment,y=i.regionStartTime,b=h.repeatDelay,w=void 0===b?0:b,k=h.yoyo,P=h.delay,x=h.repeat,E=void 0===x?0:x;E=-1===E?Number.MAX_VALUE:E;var _=e-u-P,T=c?p-_:_+p;if(!(T<-n)){var C=T<0?0:T;C=C>r?r:C,C=p<y?T:C,C=p>a?p:C;var A=E?Math.floor(C/(s+w)):0,R=C-(s+w)*(A=E&&A>E?E:A),O=!!(k&&A%2);R=y+(R=O?s-R:R);var S=c?!O:O;if(i.mode="onTimelineUpdate","number"!=typeof g&&(i.mode="onTimelineStart"),!("number"==typeof g&&(R>=o||S&&R<=0)&&o&&(i.mode="onTimelineRepeatComplete",R>=o+n||R<-n))){if(C>=r-P&&"number"==typeof g&&(i.mode="onTimelineComplete"),A!==i.repeatNum&&(i.mode="onTimelineRepeat",C>i.childTotalTime*A&&C<i.childTotalTime*A+n)){for(var M=l.length-1;M>=0;M--){var B=l[M];S||(B.prevMoment=void 0),B.render({moment:S?B.totalTime:0,fps:n})}f({moment:C,totalTime:r,repeat:A,mode:i.mode,targets:m.targets}),i.mode="onTimelineUpdate"}i.progressMoment=C,i.prevMoment=C,i.progressTime=_;for(var I=0;I<l.length;I++){var D=l[I],z=D.totalTime+D.appearTo,L=R>=D.appearTo-n&&R<z+n;if("onComplete"!==D.mode&&R>z+n&&(D.render({moment:D.totalTime,fps:n}),D.prevMoment=void 0),R<D.appearTo-n&&D.mode&&"onStart"!==D.mode&&(D.render({moment:0,fps:n,silence:!0}),D.prevMoment=void 0,D.mode=void 0),L){var F;if(R>z&&"onComplete"===D.mode)return;F=R>z?z:R,D.render({moment:F-D.appearTo,fps:n}),z||(D.render({moment:D.totalTime,fps:n,render:!0}),D.prevMoment=void 0)}}E&&(i.repeatNum=A),f({moment:C,totalTime:r,repeat:A,mode:i.mode,targets:m.targets}),(d||a&&T+P>=a&&!c||c&&T+P<=0)&&v.removeChild(i)}}};var n=this.props,r=n.paused,a=n.reverse;this.reverseState=a,this.pausedState=r,this.regionStartTime=e.regionStartTime||0,this.regionEndTime=e.regionEndTime};gt.push(bt),gt.push(_t),gt.push(yt);var Ot=0,St=new Ct,Mt=function(){function t(e,i){var n=this;s(this,t),this.targets=e,this.props=i,this.$reverse=!1,this.vars=[],this.init=function(){var t=d(p.mark((function t(e){var i;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=st(e),n.targets[0].tagName&&!n.attr&&(i.animation=lt(i.animation).map((function(t){var e={style:{}};for(var i in t)i in gt||i in at?e[i]=t[i]:e.style[i]=t[i];return Object.keys(e.style).length||delete e.style,t.duration&&(t.duration=Math.round(t.duration)),t.delay&&(t.delay=Math.round(t.delay)),t.appearTo&&(t.appearTo=Math.round(t.appearTo)),t.repeatDelay&&(t.repeatDelay=Math.round(t.repeatDelay)),e}))),n.animate=new Rt(i),n.animate.id="TweenOne_".concat(Ot),Ot++,n.animate.startTime=n.initTime,n.animate.onChangeChild=n.onChange,n.animate.onChangeTimeline=n.onChangeTimeline,n.animate.root=n,n.animate.parent=n.timeline,n.animate.init();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.renderToDom=function(){for(var t=0;t<n.vars.length;t++){var e=n.vars[t];for(var i in e){var r=e[i],a=n.targets[t];if(a)if(n.props.attr&&a.tagName&&a.setAttribute){if("style"===i)for(var o in r)a.style[o]=r[i];a.setAttribute(i,r)}else if(i in gt&&a.tagName){var s=gt[i].key;if("function"==typeof a[s])a[s](r.attr,r.path);else if(s&&"object"===u(r))for(var l in r){var h=r[l];a[s][l]=h.text||h}else s&&(a[s]=r)}else a[i]=r}}},this.onChange=function(t){"onComplete"===t.mode&&t.render&&n.renderToDom(),t.mode&&n.props.onChange&&!t.silence&&(t.targets=ht(t.targets),t.vars=ht(t.vars),n.props.onChange(t))},this.onChangeTimeline=function(t){n.renderToDom(),t.mode&&n.props.onChangeTimeline&&(t.targets=ht(t.targets),t.vars=ht(n.vars),n.props.onChangeTimeline(t))},this.goto=function(t,e){n.targets.forEach((function(t){t&&Object.keys(t._tweenOneVars||{}).forEach((function(e){delete t._tweenOneVars[e]}))})),n.animate.goto(t,e)},this.kill=function(t){n.animate.kill(t)},this.timeline=St,this.initTime=Tt.time,this.attr=i.attr,e.forEach((function(t){n.vars.push(t._tweenOneVars)})),this.init(i)}return c(t,[{key:"paused",set:function(t){this.animate.paused(t)},get:function(){return this.animate.pausedState}},{key:"reverse",set:function(t){this.$reverse=t,this.animate.reverse(t)},get:function(){return this.$reverse}},{key:"regionStartTime",set:function(t){this.animate.regionStartTime=t,this.animate.setTotalTime()},get:function(){return this.animate.regionStartTime}},{key:"regionEndTime",set:function(t){this.animate.regionEndTime=t,this.animate.setTotalTime()},get:function(){return this.animate.regionEndTime||this.animate.totalTime}}]),t}(),Bt=function(t,e){if(!t)return console.error("Error: targets is undefined.");"wake"!==Tt.state&&Tt.wake();var i=lt(t).map((function(t){return t._tweenOneVars=t._tweenOneVars||{},t})),n=i.filter((function(t){return t.tagName})),r=i.filter((function(t){return!t.tagName})),a=[];return n.length&&a.push(new Mt(n,e)),r.length&&a.push(new Mt(r,e)),ht(a)};Bt.kill=function(t){void 0===t?St.killAll(!0):St.kill(lt(t))},Bt.plugins=gt;var It=!("undefined"!=typeof window&&window.document&&window.document.createElement);function Dt(t){var e=[];return f.Children.forEach(t,(function(t){e.push(t)})),e}function zt(t,e){var i=null;return t&&t.forEach((function(t){!i&&t&&t.key===e&&(i=t)})),i}function Lt(t,e,i){var n;return n="function"==typeof t?t({key:e,index:i}):t,Array.isArray(n)?2===n.length?n:[n[0],n[0]]:[n,n]}var Ft={left:{opacity:[1,0],translateX:[0,-30]},top:{opacity:[1,0],translateY:[0,-30]},right:{opacity:[1,0],translateX:[0,30]},bottom:{opacity:[1,0],translateY:[0,30]},alpha:{opacity:[1,0]},scale:{opacity:[1,0],scale:[1,0]},scaleBig:{opacity:[1,0],scale:[1,2]},scaleX:{opacity:[1,0],scaleX:[1,0]},scaleY:{opacity:[1,0],scaleY:[1,0]}},Vt=["component","componentProps","interval","duration","delay","type","animConfig","ease","leaveReverse","forcedReplay","animatingClassName","onEnd","appear"],jt=function(){},Ut=v.exports.forwardRef((function(t,e){var i=t.component,n=void 0===i?"div":i,r=t.componentProps,a=void 0===r?{}:r,o=t.interval,s=void 0===o?100:o,u=t.duration,c=void 0===u?450:u,d=t.delay,p=void 0===d?0:d,f=t.type,b=void 0===f?"right":f,w=t.animConfig,k=void 0===w?null:w,P=t.ease,x=void 0===P?"easeOutQuart":P,E=t.leaveReverse,_=void 0!==E&&E,T=t.forcedReplay,C=void 0!==T&&T,A=t.animatingClassName,R=void 0===A?["queue-anim-entering","queue-anim-leaving"]:A,O=t.onEnd,S=void 0===O?jt:O,M=t.appear,B=void 0===M||M,I=m(t,Vt),D=v.exports.useRef({}),z=v.exports.useRef([]),L=v.exports.useRef([]),F=v.exports.useRef([]),V=v.exports.useRef([]),j=v.exports.useRef({}),U=v.exports.useRef({}),N=v.exports.useRef({}),H=v.exports.useRef({}),Z=v.exports.useRef(!1),X=v.exports.useRef([]),q=v.exports.useState(),G=g(q,2),W=G[0],Y=G[1],K=v.exports.useState({}),Q=g(K,2),$=Q[0],J=Q[1],tt=function(t,e,i){var n={};return Object.keys(t).forEach((function(r){Array.isArray(t[r])?n[r]=t[r][e]:(!i&&!e||i&&e)&&(n[r]=t[r])})),n},et=function(t,e,i){return Array.isArray(t)?t.map((function(t){return tt(t,e,i)})):tt(t,e,i)},it=function(t,e,i,n){return k?et(Lt(k,t,e)[i],n,i):(r=Lt(b,t,e)[i],et(Ft[r],n));var r},nt=function(t,e){var i=e.targets;i.className=i.className.replace(R[1],""),-1===i.className.indexOf(R[0])&&(i.className="".concat(i.className," ").concat(R[0]).trim()),z.current.indexOf(t)>=0&&z.current.splice(z.current.indexOf(t),1),D.current[t]=!0},rt=function(t,e){if(!(F.current.indexOf(t)>=0)){var i=e.targets;i.className=i.className.replace(R[0],"").trim(),delete H.current[t],S({key:t,type:"enter",target:i})}},at=function(t,e){var i=e.targets;i.className=i.className.replace(R[0],""),-1===i.className.indexOf(R[1])&&(i.className="".concat(i.className," ").concat(R[1]).trim())},ot=function(e,i){if(Dt(t.children).findIndex((function(t){return t&&t.key===e})),!(Dt(t.children).findIndex((function(t){return t&&t.key===e}))>=0)){if(delete D.current[e],delete H.current[e],X.current=X.current.filter((function(t){return t.key!==e})),F.current.indexOf(e)>=0&&F.current.splice(F.current.indexOf(e),1),!F.current.some((function(t){return $[t]}))){var n=Dt(t.children);Y(n),J(l({},D.current)),V.current.forEach((function(t){delete N.current[t]}))}var r=i.targets;r.className=r.className.replace(R[1],"").trim(),S({key:e,type:"leave",target:r})}},st=function(t,e){var i=Lt(s,t,e)[0],n=Lt(p,t,e)[0];j.current[t]=Tt.timeout((function(){!function(t){$[t]=!0,Tt.clear(j.current[t]),delete j.current[t],J(l({},$))}(t)}),i*e+n)},lt=function(t){Tt.clear(j.current[t]),delete j.current[t]},ht=function(t,e,i,n){var r=function(t,e,i){var n="enter"===i?0:1,r="enter"===i?1:0,a=it(t,e,n,"enter"===i?0:1),o="enter"!==i||!C&&D.current[t]?null:it(t,e,n,r),s=Lt(x,t,e)[n],l=Lt(c,t,e)[n];return Array.isArray(x)&&(x.length>2||Array.isArray(x[0]))&&(s=s.map((function(t){return 100*t})),s="M0,100C".concat(s[0],",").concat(100-s[1],",").concat(s[2],",").concat(100-s[3],",100,0")),{startAnim:o,animate:a,ease:s,duration:l}}(t,e,n),a=function(e){("enter"===n?nt:at)(t,e)},o=function(e){("enter"===n?rt:ot)(t,e)};if(Array.isArray(r.animate)){var s=r.animate.length-1;return r.animate.map((function(t,e){return l(l({},t),{},{startAt:r.startAnim?r.startAnim[e]:void 0,duration:r.duration/s,delay:e||"leave"!==n?0:i,onStart:e?void 0:a,onComplete:e===s?o:void 0})}))}return l(l({},r.animate),{},{startAt:r.startAnim||void 0,ease:r.ease,duration:r.duration,onStart:a,onComplete:o,delay:i})};return v.exports.useEffect((function(){return function(){Object.keys(H.current).forEach((function(t){var e=H.current[t];e&&e.kill()}))}}),[]),v.exports.useEffect((function(){var e,i,n,r,a,o=Dt(t.children).filter((function(t){return t})),s=X.current.filter((function(t){return t})),h=(e=o,n=[],r={},a=[],s.forEach((function(t){t&&(zt(e,t.key)?(a.length&&(r[t.key]=a,a=[]),i=t.key):t.key&&a.push(t))})),i||(n=n.concat(a)),e.forEach((function(t){t&&(r.hasOwnProperty(t.key)&&(n=n.concat(r[t.key])),n.push(t),t.key===i&&(n=n.concat(a)))})),n),u=[],c=[];if(B||Z.current)s.forEach((function(t){if(t){var e=t.key;!zt(o,e)&&e&&(c.push(e),Tt.clear(j.current[e]),delete j.current[e])}})),o.forEach((function(t){if(t){var e=t.key;(!zt(s,e)&&e||(!N.current[e]||"leave"===N.current[e]||z.current.indexOf(e)>=0)&&-1===c.indexOf(e))&&u.push(e)}}));else{var d={};h.forEach((function(t){t&&t.key&&(d[t.key]=!0)})),X.current=h,D.current=l({},d),J(d)}z.current=u,L.current=[].concat(u),F.current=c,V.current=[].concat(c),Y(h)}),[t.children]),v.exports.useLayoutEffect((function(){if(X.current=W||[],B||Z.current){var t=h(z.current),e=h(F.current);t.forEach(st),e.forEach(lt)}W&&(Z.current=!0)}),[W]),v.exports.useLayoutEffect((function(){W&&W.forEach((function(t){var e=t.key,i=U.current[e];if(i){var n,r=F.current.indexOf(e),a=Lt(s,e,r),o=Lt(p,e,r);if(r>=0){if("leave"===N.current[e])return;var h=_?F.current.length-r-1:r,u=a[1]*h+o[1];n=ht(e,r,u,"leave"),N.current[e]="leave"}else{if("enter"===N.current[e]||-1===z.current.indexOf(e))return;r=L.current.indexOf(e);var c=a[0]*r+o[0];n=ht(e,r,"leave"===N.current[e]?c:0,"enter"),N.current[e]="enter"}if(H.current[e]&&H.current[e].kill(),C){var d=l(l({},Array.isArray(n)?n[0].startAt:n.startAt),{},{type:"set"});Bt(i,{animation:d})}H.current[e]=Bt(i,{animation:n})}}))}),[$,W]),v.exports.useMemo((function(){if(It)return v.exports.createElement(n,l(l(l({},I),a),{},{ref:e}));var t=Dt(W).map((function(t){return t&&t.key?$[t.key]&&v.exports.cloneElement(t,{ref:function(e){U.current[t.key]=e instanceof Element?e:y.exports.findDOMNode(e),e||delete U.current[t.key]},key:t.key}):t})),i=l(l(l({},I),a),{},{ref:e});return v.exports.createElement(n,i,t)}),[$,W])})),Nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M308.6 545.7c-19.8 2-57.1 10.7-77.4 28.6-61 53-24.5 150 99 150 71.8 0 143.5-45.7 199.8-119-80.2-38.9-148.1-66.8-221.4-59.6zm460.5 67c100.1 33.4 154.7 43 166.7 44.8A445.9 445.9 0 00960 512c0-247.4-200.6-448-448-448S64 264.6 64 512s200.6 448 448 448c155.9 0 293.2-79.7 373.5-200.5-75.6-29.8-213.6-85-286.8-120.1-69.9 85.7-160.1 137.8-253.7 137.8-158.4 0-212.1-138.1-137.2-229 16.3-19.8 44.2-38.7 87.3-49.4 67.5-16.5 175 10.3 275.7 43.4 18.1-33.3 33.4-69.9 44.7-108.9H305.1V402h160v-56.2H271.3v-31.3h193.8v-80.1s0-13.5 13.7-13.5H557v93.6h191.7v31.3H557.1V402h156.4c-15 61.1-37.7 117.4-66.2 166.8 47.5 17.1 90.1 33.3 121.8 43.9z"}}]},name:"alipay-circle",theme:"outlined"},Ht=function(t,e){return v.exports.createElement(q,l(l({},t),{},{ref:e,icon:Nt}))};Ht.displayName="AlipayCircleOutlined";var Zt=v.exports.forwardRef(Ht),Xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},qt=function(t,e){return v.exports.createElement(q,l(l({},t),{},{ref:e,icon:Xt}))};qt.displayName="LockOutlined";var Gt=v.exports.forwardRef(qt),Wt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},Yt=function(t,e){return v.exports.createElement(q,l(l({},t),{},{ref:e,icon:Wt}))};Yt.displayName="MobileOutlined";var Kt=v.exports.forwardRef(Yt),Qt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zM315.7 291.5c27.3 0 49.5 22.1 49.5 49.4s-22.1 49.4-49.5 49.4a49.4 49.4 0 110-98.8zM366.9 578c-13.6 42.3-10.2 26.7-64.4 144.5l-78.5-49s87.7-79.8 105.6-116.2c19.2-38.4-21.1-58.9-21.1-58.9l-60.2-37.5 32.7-50.2c45.4 33.7 48.7 36.6 79.2 67.2 23.8 23.9 20.7 56.8 6.7 100.1zm427.2 55c-15.3 143.8-202.4 90.3-202.4 90.3l10.2-41.1 43.3 9.3c80 5 72.3-64.9 72.3-64.9V423c.6-77.3-72.6-85.4-204.2-38.3l30.6 8.3c-2.5 9-12.5 23.2-25.2 38.6h176v35.6h-99.1v44.5h98.7v35.7h-98.7V622c14.9-4.8 28.6-11.5 40.5-20.5l-8.7-32.5 46.5-14.4 38.8 94.9-57.3 23.9-10.2-37.8c-25.6 19.5-78.8 48-171.8 45.4-99.2 2.6-73.7-112-73.7-112l2.5-1.3H472c-.5 14.7-6.6 38.7 1.7 51.8 6.8 10.8 24.2 12.6 35.3 13.1 1.3.1 2.6.1 3.9.1v-85.3h-101v-35.7h101v-44.5H487c-22.7 24.1-43.5 44.1-43.5 44.1l-30.6-26.7c21.7-22.9 43.3-59.1 56.8-83.2-10.9 4.4-22 9.2-33.6 14.2-11.2 14.3-24.2 29-38.7 43.5.5.8-50-28.4-50-28.4 52.2-44.4 81.4-139.9 81.4-139.9l72.5 20.4s-5.9 14-18.4 35.6c290.3-82.3 307.4 50.5 307.4 50.5s19.1 91.8 3.8 235.7z"}}]},name:"taobao-circle",theme:"outlined"},$t=function(t,e){return v.exports.createElement(q,l(l({},t),{},{ref:e,icon:Qt}))};$t.displayName="TaobaoCircleOutlined";var Jt=v.exports.forwardRef($t),te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-44.4 672C353.1 736 236 680.4 236 588.9c0-47.8 30.2-103.1 82.3-155.3 69.5-69.6 150.6-101.4 181.1-70.8 13.5 13.5 14.8 36.8 6.1 64.6-4.5 14 13.1 6.3 13.1 6.3 56.2-23.6 105.2-25 123.1.7 9.6 13.7 8.6 32.8-.2 55.1-4.1 10.2 1.3 11.8 9 14.1 31.7 9.8 66.9 33.6 66.9 75.5.2 69.5-99.7 156.9-249.8 156.9zm207.3-290.8a34.9 34.9 0 00-7.2-34.1 34.68 34.68 0 00-33.1-10.7 18.24 18.24 0 01-7.6-35.7c24.1-5.1 50.1 2.3 67.7 21.9 17.7 19.6 22.4 46.3 14.9 69.8a18.13 18.13 0 01-22.9 11.7 18.18 18.18 0 01-11.8-22.9zm106 34.3s0 .1 0 0a21.1 21.1 0 01-26.6 13.7 21.19 21.19 0 01-13.6-26.7c11-34.2 4-73.2-21.7-101.8a104.04 104.04 0 00-98.9-32.1 21.14 21.14 0 01-25.1-16.3 21.07 21.07 0 0116.2-25.1c49.4-10.5 102.8 4.8 139.1 45.1 36.3 40.2 46.1 95.1 30.6 143.2zm-334.5 6.1c-91.4 9-160.7 65.1-154.7 125.2 5.9 60.1 84.8 101.5 176.2 92.5 91.4-9.1 160.7-65.1 154.7-125.3-5.9-60.1-84.8-101.5-176.2-92.4zm80.2 141.7c-18.7 42.3-72.3 64.8-117.8 50.1-43.9-14.2-62.5-57.7-43.3-96.8 18.9-38.4 68-60.1 111.5-48.8 45 11.7 68 54.2 49.6 95.5zm-93-32.2c-14.2-5.9-32.4.2-41.2 13.9-8.8 13.8-4.7 30.2 9.3 36.6 14.3 6.5 33.2.3 42-13.8 8.8-14.3 4.2-30.6-10.1-36.7zm34.9-14.5c-5.4-2.2-12.2.5-15.4 5.8-3.1 5.4-1.4 11.5 4.1 13.8 5.5 2.3 12.6-.3 15.8-5.8 3-5.6 1-11.8-4.5-13.8z"}}]},name:"weibo-circle",theme:"outlined"},ee=function(t,e){return v.exports.createElement(q,l(l({},t),{},{ref:e,icon:te}))};ee.displayName="WeiboCircleOutlined";var ie=v.exports.forwardRef(ee),ne=["options","fieldProps","proFieldProps","valueEnum"];function re(){return(re=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function ae(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function oe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(i),!0).forEach((function(e){se(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function se(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function le(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},a=Object.keys(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}var he=f.forwardRef((function(t,e){var i=t.options,n=t.fieldProps,r=t.proFieldProps,a=t.valueEnum,o=le(t,ne);return f.createElement(H,re({ref:e,valueType:"checkbox",mode:"edit",valueEnum:Z(a,void 0),fieldProps:oe({options:i},n),proFieldProps:r},o))})),ue=N(f.forwardRef((function(t,e){var i=t.fieldProps,n=t.children;return f.createElement(b,re({ref:e},i),n)})),{valuePropName:"checked"});ue.Group=he;var ce=ue,de=["logo","message","title","subTitle","actions","children"];function pe(){return(pe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function fe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ve(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function me(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},a=Object.keys(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function ge(t){var e=t.logo,i=t.message,n=t.title,r=t.subTitle,a=t.actions,o=t.children,s=me(t,de),l=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(i),!0).forEach((function(e){ve(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):fe(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({searchConfig:{submitText:"登录"},render:function(t,e){return e.pop()},submitButtonProps:{size:"large",style:{width:"100%"}}},s.submitter),h=v.exports.useContext(w.ConfigContext).getPrefixCls("pro-form-login"),u=function(t){return"".concat(h,"-").concat(t)},c=v.exports.useMemo((function(){return e?"string"==typeof e?f.createElement("img",{src:e}):e:null}),[e]);return f.createElement("div",{className:u("container")},f.createElement("div",{className:u("top")},n||c?f.createElement("div",{className:u("header")},c?f.createElement("span",{className:u("logo")},c):null,n?f.createElement("span",{className:u("title")},n):null):null,r?f.createElement("div",{className:u("desc")},r):null),f.createElement("div",{className:u("main")},f.createElement(W,pe({isKeyPressSubmit:!0,submitter:l},s),i,o),a?f.createElement("div",{className:u("other")},a):null))}var ye={exports:{}},be=ye.exports=(function(){for(var t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"]}(),{timer:0,state:"stop",animations:[],add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i={callback:t,fps:e,n:60/e,param:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i:0};return this.animations.push(i),this.animations.length>=1&&this.start(),this},getIndex:function(t){for(var e=0;e<this.animations.length;e++)if(this.animations[e].callback===t)return e;return-1},remove:function(t){if(!(this.getIndex(t)<0))return this.deleteMap(t),0===this.animations.length&&this.stop(),this},deleteMap:function(t){var e=this.getIndex(t),i=this.animations[e];for(var n in i)delete i[n];this.animations.splice(e,1)},start:function(){if("start"!==this.state)return this.state="start",this.tick(),this},stop:function(){if("stop"!==this.state)return this.state="stop",cancelAnimationFrame(this.timer),this},tick:function(){var t=this;this.timer=requestAnimationFrame((function(){t.tick()}));for(var e=0;e<this.animations.length;e++){var i=this.animations[e],n=i.callback,r=i.param;i.i++,i.i>=i.n&&(n(r),i.i=0)}}}),we={exports:{}},ke=we.exports=function(){var t=3.1415926,e={PI:t,PIx2:2*t,PI_2:t/2,PI_180:t/180,N180_PI:180/t,Infinity:-999,isInfinity:function(t){return t===this.Infinity||t===1/0},randomAToB:function(t,e,i){return 2<arguments.length&&void 0!==i&&i?Math.floor(Math.random()*(e-t))+t:t+Math.random()*(e-t)},randomFloating:function(t,e,i){return this.randomAToB(t-e,t+e,i)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(t,e){return e=1<arguments.length&&void 0!==e?e:4,e=Math.pow(10,e),Math.floor(t*e)/e},degreeTransform:function(e){return e*t/180},toColor16:function(t){return"#"+t.toString(16)}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(t=Object.getPrototypeOf(t))?o(t,e,i):void 0}var s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},h=(r(u,[{key:"getValue",value:function(t){return t=0<arguments.length&&void 0!==t&&t,this.isArray?x.getRandFromArray(this.a):this.center?e.randomFloating(this.a,this.b,t):e.randomAToB(this.a,this.b,t)}}],[{key:"setSpanValue",value:function(t,e,i){return t instanceof u?t:void 0===e?new u(t):void 0===i?new u(t,e):new u(t,e,i)}},{key:"getSpanValue",value:function(t){return t instanceof u?t.getValue():t}}]),u);function u(t,e,i){n(this,u),x.isArray(t)?(this.isArray=!0,this.a=t):(this.isArray=!1,this.a=x.initValue(t,1),this.b=x.initValue(e,this.a),this.center=x.initValue(i,!1))}var c=function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},d=function(t,e){return[1,0,0,0,1,0,t,e,1]},p=function(t){var e=Math.cos(t);return[e,-(t=Math.sin(t)),0,t,e,0,0,0,1]},f=function(t,e){return[t,0,0,0,e,0,0,0,1]},v=function(t,e){var i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],h=t[7],u=t[8],c=e[0],d=e[1],p=e[2],f=e[3],v=e[4],m=e[5],g=e[6];return[i*c+n*f+r*g,i*d+n*v+r*(t=e[7]),i*p+n*m+r*(e=e[8]),a*c+o*f+s*g,a*d+o*v+s*t,a*p+o*m+s*e,l*c+h*f+u*g,l*d+h*v+u*t,l*p+h*m+u*e]},m={createCanvas:function(t,e,i,n){var r=3<arguments.length&&void 0!==n?n:"absolute";return(n=document.createElement("canvas")).id=t,n.width=e,n.height=i,n.style.opacity=0,n.style.position=r,this.transform(n,-500,-500,0,0),n},createDiv:function(t,e,i){var n=document.createElement("div");return n.id=t,n.style.position="absolute",this.resize(n,e,i),n},resize:function(t,e,i){t.style.width=e+"px",t.style.height=i+"px",t.style.marginLeft=-e/2+"px",t.style.marginTop=-i/2+"px"},transform:function(t,e,i,n,r){t.style.willChange="transform";var a="translate("+e+"px, "+i+"px) scale("+n+") rotate("+r+"deg)";this.css3(t,"transform",a)},transform3d:function(t,e,i,n,r){t.style.willChange="transform",r="translate3d("+e+"px, "+i+"px, 0) scale("+n+") rotate("+r+"deg)",this.css3(t,"backfaceVisibility","hidden"),this.css3(t,"transform",r)},css3:function(t,e,i){var n=e.charAt(0).toUpperCase()+e.substr(1);t.style["Webkit"+n]=i,t.style["Moz"+n]=i,t.style["O"+n]=i,t.style["ms"+n]=i,t.style[""+e]=i}},g={},y={},b=0,w=function(t,e,i){return t.drawImage(e,i.x,i.y),e=t.getImageData(i.x,i.y,i.width,i.height),t.clearRect(i.x,i.y,i.width,i.height),e},k=function(t,e,i){var n="string"==typeof t?t:t.src;g[n]?e(g[n],i):((t=new Image).onload=function(t){g[n]=t.target,e(g[n],i)},t.src=n)},P=function(t,e,i){var n,r,a=t.src;return y[a]||(n=c(t.width),r=c(t.height),(r=m.createCanvas("proton_canvas_cache_"+ ++b,n,r)).getContext("2d").drawImage(t,0,0,t.width,t.height),y[a]=r),e&&e(y[a],i),y[a]},x={initValue:function(t,e){return null!=t?t:e},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyArray:function(t){t&&(t.length=0)},toArray:function(t){return this.isArray(t)?t:[t]},getRandFromArray:function(t){return t?t[Math.floor(t.length*Math.random())]:null},emptyObject:function(t,e){var i,n=1<arguments.length&&void 0!==e?e:null;for(i in t)n&&-1<n.indexOf(i)||delete t[i]},classApply:function(t,e){return new((e=1<arguments.length&&void 0!==e?e:null)?t.bind.apply(t,[null].concat(e)):t)},setVectorVal:function(t,e){(e=1<arguments.length&&void 0!==e?e:null)&&(this.hasProp(e,"x")&&(t.p.x=e.x),this.hasProp(e,"y")&&(t.p.y=e.y),this.hasProp(e,"vx")&&(t.v.x=e.vx),this.hasProp(e,"vy")&&(t.v.y=e.vy),this.hasProp(e,"ax")&&(t.a.x=e.ax),this.hasProp(e,"ay")&&(t.a.y=e.ay),this.hasProp(e,"p")&&t.p.copy(e.p),this.hasProp(e,"v")&&t.v.copy(e.v),this.hasProp(e,"a")&&t.a.copy(e.a),this.hasProp(e,"position")&&t.p.copy(e.position),this.hasProp(e,"velocity")&&t.v.copy(e.velocity),this.hasProp(e,"accelerate")&&t.a.copy(e.accelerate))},hasProp:function(t,e){return!!t&&void 0!==t[e]},setProp:function(t,e){for(var i in e)t.hasOwnProperty(i)&&(t[i]=h.getSpanValue(e[i]));return t},getImageData:function(t,e,i){return w(t,e,i)},destroyAll:function(t,e){for(var i=1<arguments.length&&void 0!==e?e:null,n=t.length;n--;){try{t[n].destroy(i)}catch(r){}delete t[n]}t.length=0},assign:function(t,e){if("function"==typeof Object.assign)return Object.assign(t,e);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},E={},_={_index:0,_cache:{},id:function(t){return void 0!==E[t]&&null!==E[t]||(E[t]=0),t+"_"+E[t]++},getId:function(t){var e=this.getIdFromCache(t);return e||(e="PUID_"+this._index++,this._cache[e]=t,e)},getIdFromCache:function(t){var e,i=void 0;for(i in this._cache){if((e=this._cache[i])===t)return i;if(this.isBody(e,t)&&e.src===t.src)return i}return null},isBody:function(t,e){return"object"===(void 0===t?"undefined":i(t))&&"object"===(void 0===e?"undefined":i(e))&&t.isInner&&e.isInner},getTarget:function(t){return this._cache[t]}},T=(r(C,[{key:"get",value:function(t,e,i){var n=void 0;return i=i||t.__puid||_.getId(t),(n=this.cache[i]&&0<this.cache[i].length?this.cache[i].pop():this.createOrClone(t,e)).__puid=t.__puid||i,n}},{key:"expire",value:function(t){return this.getCache(t.__puid).push(t)}},{key:"createOrClone",value:function(t,e){return this.total++,this.create?this.create(t,e):"function"==typeof t?x.classApply(t,e):t.clone()}},{key:"getCount",value:function(){var t,e=0;for(t in this.cache)e+=this.cache[t].length;return e++}},{key:"destroy",value:function(){for(var t in this.cache)this.cache[t].length=0,delete this.cache[t]}},{key:"getCache",value:function(t){return t=0<arguments.length&&void 0!==t?t:"default",this.cache[t]||(this.cache[t]=[]),this.cache[t]}}]),C);function C(t){n(this,C),this.total=0,this.cache={}}var A=(r(R,[{key:"update",value:function(t,e){this.add(t,e);var i=this.getEmitter();switch(t=this.getRenderer(),e="",this.type){case 2:e+="emitter:"+this.proton.emitters.length+"<br>",i&&(e+="em speed:"+i.emitSpeed+"<br>"),i&&(e+="pos:"+this.getEmitterPos(i));break;case 3:i&&(e+="initializes:"+i.initializes.length+"<br>"),i&&(e+='<span style="display:inline-block;">'+this.concatArr(i.initializes)+"</span><br>"),i&&(e+="behaviours:"+i.behaviours.length+"<br>"),i&&(e+='<span style="display:inline-block;">'+this.concatArr(i.behaviours)+"</span><br>");break;case 4:t&&(e+=t.name+"<br>"),t&&(e+="body:"+this.getCreatedNumber(t)+"<br>");break;default:e+="particles:"+this.proton.getCount()+"<br>",e+="pool:"+this.proton.pool.getCount()+"<br>",e+="total:"+this.proton.pool.total}this.container.innerHTML=e}},{key:"add",value:function(t,e){var i=this;if(!this.container){this.type=1,this.container=document.createElement("div"),this.container.style.cssText=["position:absolute;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this.container.addEventListener("click",(function(t){i.type++,4<i.type&&(i.type=1)}),!1);var n=void 0,r=void 0;switch(t){case 2:n="#201",r="#f08";break;case 3:n="#020",r="#0f0";break;default:n="#002",r="#0ff"}this.container.style["background-color"]=n,this.container.style.color=r}this.container.parentNode||(e=e||this.body||document.body).appendChild(this.container)}},{key:"getEmitter",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:"getRenderer",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:"concatArr",value:function(t){var e="";if(!t||!t.length)return e;for(var i=0;i<t.length;i++)e+=(t[i].name||"").substr(0,1)+".";return e}},{key:"getCreatedNumber",value:function(t){return t.pool.total||t.cpool&&t.cpool.total||0}},{key:"getEmitterPos",value:function(t){return Math.round(t.p.x)+","+Math.round(t.p.y)}}]),R);function R(t){n(this,R),this.proton=t,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var O=(r(S,[{key:"addEventListener",value:function(t,e){return this._listeners?this.removeEventListener(t,e):this._listeners={},this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),e}},{key:"removeEventListener",value:function(t,e){if(this._listeners&&this._listeners[t])for(var i=this._listeners[t],n=i.length,r=0;r<n;r++)if(i[r]===e){1===n?delete this._listeners[t]:i.splice(r,1);break}}},{key:"removeAllEventListeners",value:function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null}},{key:"dispatchEvent",value:function(t,e){var i=!1,n=this._listeners;if(t&&n){var r=n[t];if(!r)return i;for(var a=void 0,o=r.length;o--;)a=r[o],i=i||a(e)}return!!i}},{key:"hasEventListener",value:function(t){var e=this._listeners;return!(!e||!e[t])}}],[{key:"bind",value:function(t){t.prototype.dispatchEvent=S.prototype.dispatchEvent,t.prototype.hasEventListener=S.prototype.hasEventListener,t.prototype.addEventListener=S.prototype.addEventListener,t.prototype.removeEventListener=S.prototype.removeEventListener,t.prototype.removeAllEventListeners=S.prototype.removeAllEventListeners}}]),S);function S(){n(this,S),this._listeners=null}var M=(r(B,[{key:"calculate",value:function(t,e,i){this.eulerIntegrate(t,e,i)}},{key:"eulerIntegrate",value:function(t,e,i){t.sleep||(t.old.p.copy(t.p),t.old.v.copy(t.v),t.a.multiplyScalar(1/t.mass),t.v.add(t.a.multiplyScalar(e)),t.p.add(t.old.v.multiplyScalar(e)),i&&t.v.multiplyScalar(i),t.a.clear())}}]),B);function B(t){n(this,B),this.type=t}var I=(r(D,[{key:"addRenderer",value:function(t){t.init(this),this.renderers.push(t)}},{key:"removeRenderer",value:function(t){var e=this.renderers.indexOf(t);this.renderers.splice(e,1),t.remove(this)}},{key:"addEmitter",value:function(t){this.emitters.push(t),(t.parent=this).dispatchEvent(D.EMITTER_ADDED,t)}},{key:"removeEmitter",value:function(t){var e=this.emitters.indexOf(t);this.emitters.splice(e,1),t.parent=null,this.dispatchEvent(D.EMITTER_REMOVED,t)}},{key:"update",value:function(){"auto"===this._fps?(this.dispatchEvent(D.PROTON_UPDATE),D.USE_CLOCK?(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(D.DEFAULT_INTERVAL),this.dispatchEvent(D.PROTON_UPDATE_AFTER)):(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(D.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(D.PROTON_UPDATE_AFTER)))}},{key:"emittersUpdate",value:function(t){for(var e=this.emitters.length;e--;)this.emitters[e].update(t)}},{key:"amendChangeTabsBug",value:function(){D.amendChangeTabsBug&&.5<this.elapsed&&(this.then=(new Date).getTime(),this.elapsed=0)}},{key:"getCount",value:function(){for(var t=0,e=this.emitters.length;e--;)t+=this.emitters[e].particles.length;return t}},{key:"getAllParticles",value:function(){for(var t=[],e=this.emitters.length;e--;)t=t.concat(this.emitters[e].particles);return t}},{key:"destroyAllEmitters",value:function(){x.destroyAll(this.emitters)}},{key:"destroy",value:function(t){function e(){i.time=0,i.then=0,i.pool.destroy(),x.destroyAll(i.emitters),x.destroyAll(i.renderers,i.getAllParticles())}var i=this;0<arguments.length&&void 0!==t&&t?setTimeout(e,200):e()}},{key:"fps",set:function(t){this._fps=t,this._interval="auto"===t?D.DEFAULT_INTERVAL:e.floor(1/t,7)},get:function(){return this._fps}}]),D);function D(t){n(this,D),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new A(this),this.pool=new T(80),this.integrationType=x.initValue(t,D.EULER),this.integrator=new M(this.integrationType),this._fps="auto",this._interval=D.DEFAULT_INTERVAL}I.USE_CLOCK=!1,I.MEASURE=100,I.EULER="euler",I.RK2="runge-kutta2",I.PARTICLE_CREATED="PARTICLE_CREATED",I.PARTICLE_UPDATE="PARTICLE_UPDATE",I.PARTICLE_SLEEP="PARTICLE_SLEEP",I.PARTICLE_DEAD="PARTICLE_DEAD",I.EMITTER_ADDED="EMITTER_ADDED",I.EMITTER_REMOVED="EMITTER_REMOVED",I.PROTON_UPDATE="PROTON_UPDATE",I.PROTON_UPDATE_AFTER="PROTON_UPDATE_AFTER",I.DEFAULT_INTERVAL=.0167,I.amendChangeTabsBug=!0,O.bind(I);var z=(r(L,[{key:"reset",value:function(){this.r=255,this.g=255,this.b=255}}]),L);function L(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255;n(this,L),this.r=t,this.g=e,this.b=i}var F={easeLinear:function(t){return t},easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInSine:function(t){return 1-Math.cos(t*e.PI_2)},easeOutSine:function(t){return Math.sin(t*e.PI_2)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return--t*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},getEasing:function(t){return"function"==typeof t?t:this[t]||this.easeLinear}},V=(r(j,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"getGradient",value:function(){return 0!==this.x?Math.atan2(this.y,this.x):0<this.y?e.PI_2:this.y<0?-e.PI_2:void 0}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)}},{key:"addXY",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"sub",value:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"divideScalar",value:function(t){return 0!==t?(this.x/=t,this.y/=t):this.set(0,0),this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"rotate",value:function(t){var e=this.x,i=this.y;return this.x=e*Math.cos(t)+i*Math.sin(t),this.y=-e*Math.sin(t)+i*Math.cos(t),this}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x;return e*e+(t=this.y-t.y)*t}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"clear",value:function(){return this.x=0,this.y=0,this}},{key:"clone",value:function(){return new j(this.x,this.y)}}]),j);function j(t,e){n(this,j),this.x=t||0,this.y=e||0}var U=(r(N,[{key:"getDirection",value:function(){return Math.atan2(this.v.x,-this.v.y)*e.N180_PI}},{key:"reset",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=F.easeLinear,this.rgb.reset(),x.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:"update",value:function(t,e){this.sleep||(this.age+=t,this.applyBehaviours(t,e)),this.age<this.life?(e=this.easing(this.age/this.life),this.energy=Math.max(1-e,0)):this.destroy()}},{key:"applyBehaviours",value:function(t,e){var i=this.behaviours.length,n=void 0;for(n=0;n<i;n++)this.behaviours[n]&&this.behaviours[n].applyBehaviour(this,t,e)}},{key:"addBehaviour",value:function(t){this.behaviours.push(t),t.hasOwnProperty("parents")&&t.parents.push(this),t.initialize(this)}},{key:"addBehaviours",value:function(t){var e=t.length,i=void 0;for(i=0;i<e;i++)this.addBehaviour(t[i])}},{key:"removeBehaviour",value:function(t){-1<(t=this.behaviours.indexOf(t))&&(this.behaviours.splice(t,1).parents=null)}},{key:"removeAllBehaviours",value:function(){x.emptyArray(this.behaviours)}},{key:"destroy",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),N);function N(t){n(this,N),this.id="",this.old={},this.data={},this.behaviours=[],this.p=[],this.v=[],this.a=[],this.rgb={},this.name="Particle",this.id=_.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new V,this.v=new V,this.a=new V,this.old.p=new V,this.old.v=new V,this.old.a=new V,this.rgb=new z,this.reset(),t&&x.setProp(this,t)}var H={hexToRgb:function(t){return t="#"===t.charAt(0)?t.substring(1,7):t,{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},rgbToHex:function(t){return"rgb("+t.r+", "+t.g+", "+t.b+")"},getHex16FromParticle:function(t){return 65536*Number(t.rgb.r)+256*Number(t.rgb.g)+Number(t.rgb.b)}},Z=(r(X,[{key:"set",value:function(t,e){return this.r=t,this.tha=e,this}},{key:"setR",value:function(t){return this.r=t,this}},{key:"setTha",value:function(t){return this.tha=t,this}},{key:"copy",value:function(t){return this.r=t.r,this.tha=t.tha,this}},{key:"toVector",value:function(){return new V(this.getX(),this.getY())}},{key:"getX",value:function(){return this.r*Math.sin(this.tha)}},{key:"getY",value:function(){return-this.r*Math.cos(this.tha)}},{key:"normalize",value:function(){return this.r=1,this}},{key:"equals",value:function(t){return t.r===this.r&&t.tha===this.tha}},{key:"clear",value:function(){return this.r=0,this.tha=0,this}},{key:"clone",value:function(){return new X(this.r,this.tha)}}]),X);function X(t,e){n(this,X),this.r=Math.abs(t)||0,this.tha=e||0}var q={create:function(t){var e=new Float32Array(9);return t&&this.set(t,e),e},set:function(t,e){for(var i=0;i<9;i++)e[i]=t[i];return e},multiply:function(t,e,i){var n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[6],h=t[7],u=e[0],c=e[1],d=e[2],p=e[3],f=e[4];return t=e[6],e=e[7],i[0]=u*n+c*o,i[1]=u*r+c*s,i[2]=a*d,i[3]=p*n+f*o,i[4]=p*r+f*s,i[6]=t*n+e*o+l,i[7]=t*r+e*s+h,i},inverse:function(t,e){var i=t[0],n=t[1],r=t[3],a=t[4],o=t[6],s=t[7],l=-r;return t=s*r-a*o,r=1/(i*a+n*l),e[0]=a*r,e[1]=-n*r,e[3]=l*r,e[4]=i*r,e[6]=t*r,e[7]=(-s*i+n*o)*r,e},multiplyVec2:function(t,e,i){var n=e[0];return e=e[1],i[0]=n*t[0]+e*t[3]+t[6],i[1]=n*t[1]+e*t[4]+t[7],i}},G=(s(W,h),r(W,[{key:"getValue",value:function(){var t=x.getRandFromArray(this._arr);return"random"===t||"Random"===t?e.randomColor():t}}],[{key:"createArraySpan",value:function(t){return t?t instanceof W?t:new W(t):null}}]),W);function W(t){n(this,W);var e=l(this,(W.__proto__||Object.getPrototypeOf(W)).call(this));return e._arr=x.toArray(t),e}var Y=(r(K,[{key:"contains",value:function(t,e){return t<=this.right&&t>=this.x&&e<=this.bottom&&e>=this.y}}]),K);function K(t,e,i,r){n(this,K),this.x=t,this.y=e,this.width=i,this.height=r,this.bottom=this.y+this.height,this.right=this.x+this.width}var Q=(r($,[{key:"init",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:"getValue",value:function(t){return this.startTime+=t,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),1===this.numPan.b?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),$);function $(t,e){n(this,$),this.numPan=h.setSpanValue(x.initValue(t,1)),this.timePan=h.setSpanValue(x.initValue(e,1)),this.startTime=0,this.nextTime=0,this.init()}var J=(r(tt,[{key:"reset",value:function(){}},{key:"init",value:function(t,e){e?this.initialize(e):this.initialize(t)}},{key:"initialize",value:function(){}}]),tt);function tt(){n(this,tt)}var et=(s(it,J),r(it,[{key:"initialize",value:function(t){this.lifePan.a===1/0?t.life=1/0:t.life=this.lifePan.getValue()}}]),it);function it(t,e,i){n(this,it);var r=l(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return r.lifePan=h.setSpanValue(t,e,i),r.name="Life",r}var nt=(r(rt,[{key:"getPosition",value:function(){}},{key:"crossing",value:function(){}}]),rt);function rt(){n(this,rt),this.vector=new V(0,0),this.random=0,this.crossType="dead",this.alert=!0}var at=(s(ot,nt),r(ot,[{key:"getPosition",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:"crossing",value:function(){this.alert&&(console.error("Sorry, PointZone does not support crossing method!"),this.alert=!1)}}]),ot);function ot(t,e){n(this,ot);var i=l(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this));return i.x=t,i.y=e,i}var st=(s(lt,J),r(lt,[{key:"reset",value:function(t){this.zone=x.initValue(t,new at)}},{key:"initialize",value:function(t){this.zone.getPosition(),t.p.x=this.zone.vector.x,t.p.y=this.zone.vector.y}}]),lt);function lt(t){n(this,lt);var e=l(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this));return e.zone=x.initValue(t,new at),e.name="Position",e}var ht=(s(ut,J),r(ut,[{key:"reset",value:function(t,e,i){this.rPan=h.setSpanValue(t),this.thaPan=h.setSpanValue(e),this.type=x.initValue(i,"vector")}},{key:"normalizeVelocity",value:function(t){return t*I.MEASURE}},{key:"initialize",value:function(t){var i;"p"===this.type||"P"===this.type||"polar"===this.type?(i=new Z(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*e.PI_180),t.v.x=i.getX(),t.v.y=i.getY()):(t.v.x=this.normalizeVelocity(this.rPan.getValue()),t.v.y=this.normalizeVelocity(this.thaPan.getValue()))}}]),ut);function ut(t,e,i){n(this,ut);var r=l(this,(ut.__proto__||Object.getPrototypeOf(ut)).call(this));return r.rPan=h.setSpanValue(t),r.thaPan=h.setSpanValue(e),r.type=x.initValue(i,"vector"),r.name="Velocity",r}var ct=(s(dt,J),r(dt,[{key:"initialize",value:function(t){t.mass=this.massPan.getValue()}}]),dt);function dt(t,e,i){n(this,dt);var r=l(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this));return r.massPan=h.setSpanValue(t,e,i),r.name="Mass",r}var pt=(s(ft,J),r(ft,[{key:"reset",value:function(t,e,i){this.radius=h.setSpanValue(t,e,i)}},{key:"initialize",value:function(t){t.radius=this.radius.getValue(),t.data.oldRadius=t.radius}}]),ft);function ft(t,e,i){n(this,ft);var r=l(this,(ft.__proto__||Object.getPrototypeOf(ft)).call(this));return r.radius=h.setSpanValue(t,e,i),r.name="Radius",r}var vt=(s(mt,J),r(mt,[{key:"initialize",value:function(t){var e=this.image.getValue();t.body="string"==typeof e?{width:this.w,height:this.h,src:e,isInner:!0,inner:!0}:e}},{key:"setSpanValue",value:function(t){return t instanceof G?t:new G(t)}}]),mt);function mt(t,e,i){n(this,mt);var r=l(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this));return r.image=r.setSpanValue(t),r.w=x.initValue(e,20),r.h=x.initValue(i,r.w),r.name="Body",r}var gt=(r(yt,[{key:"reset",value:function(t,e){this.life=x.initValue(t,1/0),this.easing=F.getEasing(e)}},{key:"normalizeForce",value:function(t){return t.multiplyScalar(I.MEASURE)}},{key:"normalizeValue",value:function(t){return t*I.MEASURE}},{key:"initialize",value:function(){}},{key:"calculate",value:function(t,e){this.age+=e,this.age>=this.life||this.dead?(this.energy=0,this.dead=!0,this.destroy()):(t=this.easing(t.age/t.life),this.energy=Math.max(1-t,0))}},{key:"destroy",value:function(){for(var t=this.parents.length;t--;)this.parents[t].removeBehaviour(this);this.parents.length=0}}]),yt);function yt(t,e){n(this,yt),this.life=x.initValue(t,1/0),this.easing=F.getEasing(e),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id="Behaviour_"+yt.id++,this.name="Behaviour"}gt.id=0;var bt=(s(wt,gt),r(wt,[{key:"reset",value:function(t,e,i,n){this.force=this.normalizeForce(new V(t,e)),i&&o(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"reset",this).call(this,i,n)}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),t.a.add(this.force)}}]),wt);function wt(t,e,i,r){return n(this,wt),(r=l(this,(wt.__proto__||Object.getPrototypeOf(wt)).call(this,i,r))).force=r.normalizeForce(new V(t,e)),r.name="Force",r}var kt=(s(Pt,gt),r(Pt,[{key:"reset",value:function(t,e,i,n,r){this.targetPosition=x.initValue(t,new V),this.radius=x.initValue(i,1e3),this.force=x.initValue(this.normalizeValue(e),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new V,this.lengthSq=0,n&&o(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"reset",this).call(this,n,r)}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(t.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),t.a.add(this.attractionForce))}}]),Pt);function Pt(t,e,i,r,a){return n(this,Pt),(a=l(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).call(this,r,a))).targetPosition=x.initValue(t,new V),a.radius=x.initValue(i,1e3),a.force=x.initValue(a.normalizeValue(e),100),a.radiusSq=a.radius*a.radius,a.attractionForce=new V,a.lengthSq=0,a.name="Attraction",a}var xt=(s(Et,gt),r(Et,[{key:"reset",value:function(t,e,i,n,r){this.panFoce=new V(t,e),this.panFoce=this.normalizeForce(this.panFoce),this.delay=i,n&&o(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"reset",this).call(this,n,r)}},{key:"initialize",value:function(t){t.data.time=0}},{key:"applyBehaviour",value:function(t,i,n){this.calculate(t,i,n),t.data.time+=i,t.data.time>=this.delay&&(t.a.addXY(e.randomAToB(-this.panFoce.x,this.panFoce.x),e.randomAToB(-this.panFoce.y,this.panFoce.y)),t.data.time=0)}}]),Et);function Et(t,e,i,r,a){return n(this,Et),(a=l(this,(Et.__proto__||Object.getPrototypeOf(Et)).call(this,r,a))).reset(t,e,i),a.time=0,a.name="RandomDrift",a}var _t=(s(Tt,bt),r(Tt,[{key:"reset",value:function(t,e,i){o(Tt.prototype.__proto__||Object.getPrototypeOf(Tt.prototype),"reset",this).call(this,0,t,e,i)}}]),Tt);function Tt(t,e,i){return n(this,Tt),(i=l(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).call(this,0,t,e,i))).name="Gravity",i}var Ct=(s(At,gt),r(At,[{key:"reset",value:function(t,e,i,n,r){this.emitter=x.initValue(t,null),this.mass=x.initValue(e,!0),this.callback=x.initValue(i,null),this.collisionPool=[],this.delta=new V,n&&o(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"reset",this).call(this,n,r)}},{key:"applyBehaviour",value:function(t,e,i){var n,r,a,o,s,l,h=(this.emitter?this.emitter.particles:this.pool).slice(i),u=h.length,c=void 0,d=void 0;for(d=0;d<u;d++)(c=h[d])!==t&&(this.delta.copy(c.p),this.delta.sub(t.p),(n=this.delta.lengthSq())<=(l=t.radius+c.radius)*l&&(r=l-Math.sqrt(n),r+=.5,a=t.mass+c.mass,o=this.mass?c.mass/a:.5,s=this.mass?t.mass/a:.5,t.p.add(this.delta.clone().normalize().multiplyScalar(r*-o)),c.p.add(this.delta.normalize().multiplyScalar(r*s)),this.callback&&this.callback(t,c)))}}]),At);function At(t,e,i,r,a){return n(this,At),(a=l(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,r,a))).reset(t,e,i),a.name="Collision",a}var Rt=(s(Ot,gt),r(Ot,[{key:"reset",value:function(t,e,i,n){this.zone=t,this.zone.crossType=x.initValue(e,"dead"),i&&o(Ot.prototype.__proto__||Object.getPrototypeOf(Ot.prototype),"reset",this).call(this,i,n)}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),this.zone.crossing(t)}}]),Ot);function Ot(t,e,i,r){return n(this,Ot),(r=l(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this,i,r))).reset(t,e),r.name="CrossZone",r}var St=(s(Mt,gt),r(Mt,[{key:"reset",value:function(t,e,i,n){this.same=null==e,this.a=h.setSpanValue(x.initValue(t,1)),this.b=h.setSpanValue(e),i&&o(Mt.prototype.__proto__||Object.getPrototypeOf(Mt.prototype),"reset",this).call(this,i,n)}},{key:"initialize",value:function(t){t.data.alphaA=this.a.getValue(),this.same?t.data.alphaB=t.data.alphaA:t.data.alphaB=this.b.getValue()}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),t.alpha=t.data.alphaB+(t.data.alphaA-t.data.alphaB)*this.energy,t.alpha<.001&&(t.alpha=0)}}]),Mt);function Mt(t,e,i,r){return n(this,Mt),(r=l(this,(Mt.__proto__||Object.getPrototypeOf(Mt)).call(this,i,r))).reset(t,e),r.name="Alpha",r}var Bt=(s(It,gt),r(It,[{key:"reset",value:function(t,e,i,n){this.same=null==e,this.a=h.setSpanValue(x.initValue(t,1)),this.b=h.setSpanValue(e),i&&o(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"reset",this).call(this,i,n)}},{key:"initialize",value:function(t){t.data.scaleA=this.a.getValue(),t.data.oldRadius=t.radius,t.data.scaleB=this.same?t.data.scaleA:this.b.getValue()}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),t.scale=t.data.scaleB+(t.data.scaleA-t.data.scaleB)*this.energy,t.scale<1e-4&&(t.scale=0),t.radius=t.data.oldRadius*t.scale}}]),It);function It(t,e,i,r){return n(this,It),(r=l(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,i,r))).reset(t,e),r.name="Scale",r}var Dt=(s(zt,gt),r(zt,[{key:"reset",value:function(t,e,i,n,r){this.same=null==e,this.a=h.setSpanValue(x.initValue(t,"Velocity")),this.b=h.setSpanValue(x.initValue(e,0)),this.style=x.initValue(i,"to"),n&&o(zt.prototype.__proto__||Object.getPrototypeOf(zt.prototype),"reset",this).call(this,n,r)}},{key:"initialize",value:function(t){t.rotation=this.a.getValue(),t.data.rotationA=this.a.getValue(),this.same||(t.data.rotationB=this.b.getValue())}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),this.same?"V"!==this.a.a&&"Velocity"!==this.a.a&&"v"!==this.a.a||(t.rotation=t.getDirection()):"to"===this.style||"TO"===this.style||"_"===this.style?t.rotation+=t.data.rotationB+(t.data.rotationA-t.data.rotationB)*this.energy:t.rotation+=t.data.rotationB}}]),zt);function zt(t,e,i,r,a){return n(this,zt),(a=l(this,(zt.__proto__||Object.getPrototypeOf(zt)).call(this,r,a))).reset(t,e,i),a.name="Rotate",a}var Lt=(s(Ft,gt),r(Ft,[{key:"reset",value:function(t,e,i,n){this.a=G.createArraySpan(t),this.b=G.createArraySpan(e),i&&o(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"reset",this).call(this,i,n)}},{key:"initialize",value:function(t){t.color=this.a.getValue(),t.data.colorA=H.hexToRgb(t.color),this.b&&(t.data.colorB=H.hexToRgb(this.b.getValue()))}},{key:"applyBehaviour",value:function(t,e,i){this.b?(this.calculate(t,e,i),t.rgb.r=t.data.colorB.r+(t.data.colorA.r-t.data.colorB.r)*this.energy,t.rgb.g=t.data.colorB.g+(t.data.colorA.g-t.data.colorB.g)*this.energy,t.rgb.b=t.data.colorB.b+(t.data.colorA.b-t.data.colorB.b)*this.energy,t.rgb.r=Math.floor(t.rgb.r),t.rgb.g=Math.floor(t.rgb.g),t.rgb.b=Math.floor(t.rgb.b)):(t.rgb.r=t.data.colorA.r,t.rgb.g=t.data.colorA.g,t.rgb.b=t.data.colorA.b)}}]),Ft);function Ft(t,e,i,r){return n(this,Ft),(r=l(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,i,r))).reset(t,e),r.name="Color",r}var Vt="changing",jt=(s(Ut,gt),r(Ut,[{key:"setAngleAndForce",value:function(t,i){this.force=Vt,this.angle=e.PI/2,"right"===t?this.angle=e.PI/2:"left"===t?this.angle=-e.PI/2:"random"===t?this.angle="random":t instanceof h?(this.angle="span",this.span=t):t&&(this.angle=t),"changing"===String(i).toLowerCase()||"chang"===String(i).toLowerCase()||"auto"===String(i).toLowerCase()?this.force=Vt:i&&(this.force=i)}},{key:"reset",value:function(t,i,n,r){this.angle=e.PI/2,this.setAngleAndForce(t,i),n&&o(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),"reset",this).call(this,n,r)}},{key:"initialize",value:function(t){"random"===this.angle?t.data.cangle=e.randomAToB(-e.PI,e.PI):"span"===this.angle&&(t.data.cangle=this.span.getValue()),t.data.cyclone=new V(0,0)}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),e=void 0,i=t.v.getGradient(),"random"===this.angle||"span"===this.angle?i+=t.data.cangle:i+=this.angle,e=this.force===Vt?t.v.length()/100:this.force,t.data.cyclone.x=e*Math.cos(i),t.data.cyclone.y=e*Math.sin(i),t.data.cyclone=this.normalizeForce(t.data.cyclone),t.a.add(t.data.cyclone)}}]),Ut);function Ut(t,e,i,r){return n(this,Ut),(r=l(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).call(this,i,r))).setAngleAndForce(t,e),r.name="Cyclone",r}var Nt=(s(Ht,kt),r(Ht,[{key:"reset",value:function(t,e,i,n,r){o(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"reset",this).call(this,t,e,i,n,r),this.force*=-1}}]),Ht);function Ht(t,e,i,r,a){return n(this,Ht),(a=l(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,t,e,i,r,a))).force*=-1,a.name="Repulsion",a}var Zt=(s(Xt,gt),r(Xt,[{key:"reset",value:function(t,e,i,n){this.distanceVec=new V,this.centerPoint=x.initValue(t,new V),this.force=x.initValue(this.normalizeValue(e),100),i&&o(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"reset",this).call(this,i,n)}},{key:"initialize",value:function(){}},{key:"applyBehaviour",value:function(t,e){this.distanceVec.set(this.centerPoint.x-t.p.x,this.centerPoint.y-t.p.y);var i,n=this.distanceVec.lengthSq();0!==n&&(i=this.distanceVec.length(),i=this.force*e/(n*i),t.v.x+=i*this.distanceVec.x,t.v.y+=i*this.distanceVec.y)}}]),Xt);function Xt(t,e,i,r){return n(this,Xt),(r=l(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this,i,r))).distanceVec=new V,r.centerPoint=x.initValue(t,new V),r.force=x.initValue(r.normalizeValue(e),100),r.name="GravityWell",r}var qt={initialize:function(t,e,i){var n=i.length,r=void 0;for(r=0;r<n;r++)i[r]instanceof J?i[r].init(t,e):this.init(t,e,i[r]);this.bindEmitter(t,e)},init:function(t,e,i){x.setProp(e,i),x.setVectorVal(e,i)},bindEmitter:function(t,i){t.bindEmitter&&(i.p.add(t.p),i.v.add(t.v),i.a.add(t.a),i.v.rotate(e.degreeTransform(t.rotation)))}},Gt=(s(Wt,U),r(Wt,[{key:"emit",value:function(t,e){this.stoped=!1,this.emitTime=0,this.totalTime=x.initValue(t,1/0),!0===e||"life"===e||"destroy"===e?this.life="once"===t?1:this.totalTime:isNaN(e)||(this.life=e),this.rate.init()}},{key:"stop",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:"preEmit",value:function(t){var e=this.stoped,i=this.emitTime,n=this.totalTime;for(this.stoped=!1,this.emitTime=0,this.totalTime=t,this.rate.init();.0167<t;)t-=.0167,this.update(.0167);this.stoped=e,this.emitTime=i+Math.max(t,0),this.totalTime=n}},{key:"removeAllParticles",value:function(){for(var t=this.particles.length;t--;)this.particles[t].dead=!0}},{key:"addSelfInitialize",value:function(t){t.init?t.init(this):this.initAll()}},{key:"addInitialize",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=e.length;n--;)this.initializes.push(e[n])}},{key:"removeInitialize",value:function(t){-1<(t=this.initializes.indexOf(t))&&this.initializes.splice(t,1)}},{key:"removeAllInitializers",value:function(){x.emptyArray(this.initializes)}},{key:"addBehaviour",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=arguments.length;n--;){var r=e[n];this.behaviours.push(r),r.parents&&r.parents.push(this)}}},{key:"removeBehaviour",value:function(t){var e=this.behaviours.indexOf(t);return this.behaviours.splice(e,1),t.parents&&(e=t.parents.indexOf(t),t.parents.splice(e,1)),e}},{key:"removeAllBehaviours",value:function(){x.emptyArray(this.behaviours)}},{key:"update",value:function(t){this.age+=t,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(t),this.integrate(t)}},{key:"integrate",value:function(t){if(this.parent){var e=1-this.damping;this.parent.integrator.calculate(this,t,e);var i=void 0,n=void 0;for(i=this.particles.length-1;0<=i;i--)(n=this.particles[i]).update(t,i),this.parent.integrator.calculate(n,t,e),this.dispatch("PARTICLE_UPDATE",n),n.dead&&(this.dispatch("PARTICLE_DEAD",n),this.parent.pool.expire(n),this.particles.splice(i,1))}}},{key:"dispatch",value:function(t,e){this.parent&&this.parent.dispatchEvent(t,e),this.bindEvent&&this.dispatchEvent(t,e)}},{key:"emitting",value:function(t){if("once"===this.totalTime){var e=void 0,i=this.rate.getValue(99999);for(0<i&&(this.emitSpeed=i),e=0;e<i;e++)this.createParticle();this.totalTime="none"}else if(this.emitTime+=t,this.emitTime<this.totalTime){var n=this.rate.getValue(t),r=void 0;for(0<n&&(this.emitSpeed=n),r=0;r<n;r++)this.createParticle()}}},{key:"createParticle",value:function(t,e){var i=this.parent.pool.get(U);return this.setupParticle(i,t,e),this.dispatch("PARTICLE_CREATED",i),i}},{key:"setupParticle",value:function(t,e,i){var n=this.initializes,r=this.behaviours;e&&(n=x.toArray(e)),i&&(r=x.toArray(i)),t.reset(),qt.initialize(this,t,n),t.addBehaviours(r),(t.parent=this).particles.push(t)}},{key:"remove",value:function(){this.stop(),x.destroyAll(this.particles)}},{key:"destroy",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),Wt);function Wt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return n(this,Wt),(t=l(this,(Wt.__proto__||Object.getPrototypeOf(Wt)).call(this,t))).particles=[],t.behaviours=[],t.initializes=[],t.emitTime=0,t.emitSpeed=0,t.totalTime=-1,t.damping=.006,t.bindEmitter=!0,t.rate=new Q(1,.1),t.name="Emitter",t.id=_.id(t.name),t}O.bind(Gt);var Yt=(s(Kt,Gt),r(Kt,[{key:"addSelfBehaviour",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=void 0,r=e.length;for(n=0;n<r;n++){var a=e[n];this.selfBehaviours.push(a),a.initialize(this)}}},{key:"removeSelfBehaviour",value:function(t){-1<(t=this.selfBehaviours.indexOf(t))&&this.selfBehaviours.splice(t,1)}},{key:"update",value:function(t){if(o(Kt.prototype.__proto__||Object.getPrototypeOf(Kt.prototype),"update",this).call(this,t),!this.sleep){var e=this.selfBehaviours.length,i=void 0;for(i=0;i<e;i++)this.selfBehaviours[i].applyBehaviour(this,t,i)}}}]),Kt);function Kt(t){return n(this,Kt),(t=l(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this,t))).selfBehaviours=[],t}var Qt=(s($t,Gt),r($t,[{key:"initEventHandler",value:function(){var t=this;this.mousemoveHandler=function(e){return t.mousemove.call(t,e)},this.mousedownHandler=function(e){return t.mousedown.call(t,e)},this.mouseupHandler=function(e){return t.mouseup.call(t,e)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)}},{key:"emit",value:function(){this._allowEmitting=!0}},{key:"stop",value:function(){this._allowEmitting=!1}},{key:"mousemove",value:function(t){t.layerX||0===t.layerX?(this.p.x+=(t.layerX-this.p.x)*this.ease,this.p.y+=(t.layerY-this.p.y)*this.ease):!t.offsetX&&0!==t.offsetX||(this.p.x+=(t.offsetX-this.p.x)*this.ease,this.p.y+=(t.offsetY-this.p.y)*this.ease),this._allowEmitting&&o($t.prototype.__proto__||Object.getPrototypeOf($t.prototype),"emit",this).call(this,"once")}},{key:"destroy",value:function(){o($t.prototype.__proto__||Object.getPrototypeOf($t.prototype),"destroy",this).call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)}}]),$t);function $t(t,e,i){return n(this,$t),(i=l(this,($t.__proto__||Object.getPrototypeOf($t)).call(this,i))).mouseTarget=x.initValue(t,window),i.ease=x.initValue(e,.7),i._allowEmitting=!1,i.initEventHandler(),i}var Jt=(r(te,[{key:"setStroke",value:function(t,e){t=0<arguments.length&&void 0!==t?t:"#000000",e=1<arguments.length&&void 0!==e?e:1,this.stroke={color:t,thinkness:e}}},{key:"initHandler",value:function(){var t=this;this._protonUpdateHandler=function(){t.onProtonUpdate.call(t)},this._protonUpdateAfterHandler=function(){t.onProtonUpdateAfter.call(t)},this._emitterAddedHandler=function(e){t.onEmitterAdded.call(t,e)},this._emitterRemovedHandler=function(e){t.onEmitterRemoved.call(t,e)},this._particleCreatedHandler=function(e){t.onParticleCreated.call(t,e)},this._particleUpdateHandler=function(e){t.onParticleUpdate.call(t,e)},this._particleDeadHandler=function(e){t.onParticleDead.call(t,e)}}},{key:"init",value:function(t){(this.parent=t).addEventListener("PROTON_UPDATE",this._protonUpdateHandler),t.addEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),t.addEventListener("EMITTER_ADDED",this._emitterAddedHandler),t.addEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),t.addEventListener("PARTICLE_CREATED",this._particleCreatedHandler),t.addEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),t.addEventListener("PARTICLE_DEAD",this._particleDeadHandler)}},{key:"resize",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.parent.removeEventListener("PROTON_UPDATE",this._protonUpdateHandler),this.parent.removeEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),this.parent.removeEventListener("EMITTER_ADDED",this._emitterAddedHandler),this.parent.removeEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),this.parent.removeEventListener("PARTICLE_CREATED",this._particleCreatedHandler),this.parent.removeEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),this.parent.removeEventListener("PARTICLE_DEAD",this._particleDeadHandler),this.parent=null}},{key:"onProtonUpdate",value:function(){}},{key:"onProtonUpdateAfter",value:function(){}},{key:"onEmitterAdded",value:function(){}},{key:"onEmitterRemoved",value:function(){}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(){}},{key:"onParticleDead",value:function(){}}]),te);function te(t,e){n(this,te),this.pool=new T,this.element=t,this.stroke=e,this.circleConf={isCircle:!0},this.initHandler(),this.name="BaseRenderer"}var ee=(s(ie,Jt),r(ie,[{key:"resize",value:function(t,e){this.element.width=t,this.element.height=e}},{key:"onProtonUpdate",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:"onParticleCreated",value:function(t){t.body?k(t.body,this.addImg2Body,t):t.color=t.color||"#ff0000"}},{key:"onParticleUpdate",value:function(t){t.body?t.body instanceof Image&&this.drawImage(t):this.drawCircle(t)}},{key:"onParticleDead",value:function(t){t.body=null}},{key:"addImg2Body",value:function(t,e){e.body=t}},{key:"drawImage",value:function(t){var i,n=t.body.width*t.scale|0,r=t.body.height*t.scale|0,a=t.p.x-n/2,o=t.p.y-r/2;t.color?(t.data.buffer||(t.data.buffer=this.createBuffer(t.body)),(i=t.data.buffer.getContext("2d")).clearRect(0,0,t.data.buffer.width,t.data.buffer.height),i.globalAlpha=t.alpha,i.drawImage(t.body,0,0),i.globalCompositeOperation="source-atop",i.fillStyle=H.rgbToHex(t.rgb),i.fillRect(0,0,t.data.buffer.width,t.data.buffer.height),i.globalCompositeOperation="source-over",i.globalAlpha=1,this.context.drawImage(t.data.buffer,0,0,t.data.buffer.width,t.data.buffer.height,a,o,n,r)):(this.context.save(),this.context.globalAlpha=t.alpha,this.context.translate(t.p.x,t.p.y),this.context.rotate(e.degreeTransform(t.rotation)),this.context.translate(-t.p.x,-t.p.y),this.context.drawImage(t.body,0,0,t.body.width,t.body.height,a,o,n,r),this.context.globalAlpha=1,this.context.restore())}},{key:"drawCircle",value:function(t){t.rgb?this.context.fillStyle="rgba("+t.rgb.r+","+t.rgb.g+","+t.rgb.b+","+t.alpha+")":this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:"createBuffer",value:function(t){if(t instanceof Image){var e=t.width+"_"+t.height,i=this.bufferCache[e];return i||((i=document.createElement("canvas")).width=t.width,i.height=t.height,this.bufferCache[e]=i),i}}}]),ie);function ie(t){return n(this,ie),(t=l(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,t))).stroke=null,t.context=t.element.getContext("2d"),t.bufferCache={},t.name="CanvasRenderer",t}var ne=(s(re,Jt),r(re,[{key:"onParticleCreated",value:function(t){t.body?k(t.body,this.addImg2Body,t):(t.body=this.pool.get(this.circleConf,t),this.element.appendChild(t.body))}},{key:"onParticleUpdate",value:function(t){this.bodyReady(t)&&(this.transform3d?m.transform3d(t.body,t.p.x,t.p.y,t.scale,t.rotation):m.transform(t.body,t.p.x,t.p.y,t.scale,t.rotation),t.body.style.opacity=t.alpha,t.body.isCircle&&(t.body.style.backgroundColor=t.color||"#ff0000"))}},{key:"onParticleDead",value:function(t){this.bodyReady(t)&&(this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null)}},{key:"bodyReady",value:function(t){return"object"===i(t.body)&&t.body&&!t.body.isInner}},{key:"addImg2Body",value:function(t,e){e.dead||(e.body=this.pool.get(t,e),m.resize(e.body,t.width,t.height),this.element.appendChild(e.body))}},{key:"createBody",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t,e)}},{key:"createCircle",value:function(t){var e=m.createDiv(t.id+"_dom",2*t.radius,2*t.radius);return e.style.borderRadius=t.radius+"px",this.stroke&&(e.style.borderColor=this.stroke.color,e.style.borderWidth=this.stroke.thinkness+"px"),e.isCircle=!0,e}},{key:"createSprite",value:function(t,e){var i="string"==typeof t?t:t.src;return(t=m.createDiv(e.id+"_dom",t.width,t.height)).style.backgroundImage="url("+i+")",t}}]),re);function re(t){n(this,re);var e=l(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,t));return e.stroke=null,e.pool.create=function(t,i){return e.createBody(t,i)},e.addImg2Body=e.addImg2Body.bind(e),e.transform3d=!1,e.name="DomRenderer",e}var ae=(s(oe,Jt),r(oe,[{key:"onParticleCreated",value:function(t){t.body?this.createSprite(t):this.createCircle(t),this.element.addChild(t.body)}},{key:"onParticleUpdate",value:function(t){t.body&&(t.body.x=t.p.x,t.body.y=t.p.y,t.body.alpha=t.alpha,t.body.scaleX=t.body.scaleY=t.scale,t.body.rotation=t.rotation)}},{key:"onParticleDead",value:function(t){t.body&&(t.body.parent&&t.body.parent.removeChild(t.body),this.pool.expire(t.body),t.body=null),t.graphics&&this.pool.expire(t.graphics)}},{key:"createSprite",value:function(t){t.body=this.pool.get(t.body),t.body.parent||t.body.image&&(t.body.regX=t.body.image.width/2,t.body.regY=t.body.image.height/2)}},{key:"createCircle",value:function(t){var e=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?e.beginStroke(this.stroke):e.beginStroke("#000000")),e.beginFill(t.color||"#ff0000").drawCircle(0,0,t.radius);var i=this.pool.get(createjs.Shape,[e]);t.body=i,t.graphics=e}}]),oe);function oe(t,e){return n(this,oe),(t=l(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,t))).stroke=e,t.name="EaselRenderer",t}var se=(s(le,Jt),r(le,[{key:"resize",value:function(t,e){this.element.width=t,this.element.height=e}},{key:"createImageData",value:function(t){this.rectangle=t||new Y(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onProtonUpdate",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:"onProtonUpdateAfter",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(t){this.imageData&&this.setPixel(this.imageData,Math.floor(t.p.x-this.rectangle.x),Math.floor(t.p.y-this.rectangle.y),t)}},{key:"setPixel",value:function(t,e,i,n){var r=n.rgb;e<0||e>this.element.width||i<0||i>this.elementwidth||(e=4*((i>>0)*t.width+(e>>0)),t.data[e]=r.r,t.data[1+e]=r.g,t.data[2+e]=r.b,t.data[3+e]=255*n.alpha)}},{key:"onParticleDead",value:function(){}}]),le);function le(t,e){return n(this,le),(t=l(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,t))).context=t.element.getContext("2d"),t.imageData=null,t.rectangle=null,t.rectangle=e,t.createImageData(e),t.name="PixelRenderer",t}var he=void 0,ue=(s(ce,Jt),r(ce,[{key:"setPIXI",value:function(t){try{he=t||{Sprite:{}},this.createFromImage=he.Sprite.from||he.Sprite.fromImage}catch(e){}}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(t){t.body?t.body=this.pool.get(t.body,t):t.body=this.pool.get(this.circleConf,t),this.blendMode&&(t.body.blendMode=this.blendMode),this.element.addChild(t.body)}},{key:"onParticleUpdate",value:function(t){this.transform(t,t.body),!0!==this.setColor&&!0!==this.color||(t.body.tint=H.getHex16FromParticle(t))}},{key:"onParticleDead",value:function(t){this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null}},{key:"destroy",value:function(t){o(ce.prototype.__proto__||Object.getPrototypeOf(ce.prototype),"destroy",this).call(this),this.pool.destroy();for(var e=t.length;e--;){var i=t[e];i.body&&this.element.removeChild(i.body)}}},{key:"transform",value:function(t,i){i.x=t.p.x,i.y=t.p.y,i.alpha=t.alpha,i.scale.x=t.scale,i.scale.y=t.scale,i.rotation=t.rotation*e.PI_180}},{key:"createBody",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t)}},{key:"createSprite",value:function(t){return(t=t.isInner?this.createFromImage(t.src):new he.Sprite(t)).anchor.x=.5,t.anchor.y=.5,t}},{key:"createCircle",value:function(t){var e,i=new he.Graphics;return this.stroke&&(e=this.stroke instanceof String?this.stroke:0,i.beginStroke(e)),i.beginFill(t.color||36077),i.drawCircle(0,0,t.radius),i.endFill(),i}}]),ce);function ce(t,e){n(this,ce);var i=l(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,t));return i.stroke=e,i.color=!1,i.setColor=!1,i.blendMode=null,i.pool.create=function(t,e){return i.createBody(t,e)},i.setPIXI(window.PIXI),i.name="PixiRenderer",i}var de=(r(pe,[{key:"set",value:function(t,e){0===e?q.set(t,this.mats[0]):q.multiply(this.mats[e-1],t,this.mats[e]),this.size=Math.max(this.size,e+1)}},{key:"push",value:function(t){0===this.size?q.set(t,this.mats[0]):q.multiply(this.mats[this.size-1],t,this.mats[this.size]),this.size++}},{key:"pop",value:function(){0<this.size&&this.size--}},{key:"top",value:function(){return this.mats[this.size-1]}}]),pe);function pe(){n(this,pe),this.mats=[];for(var t=this.size=0;t<20;t++)this.mats.push(q.create([0,0,0,0,0,0,0,0,0]))}function fe(t){return n(this,fe),(t=l(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,t))).gl=t.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),t.gl||alert("Sorry your browser do not suppest WebGL!"),t.initVar(),t.setMaxRadius(),t.initShaders(),t.initBuffers(),t.gl.blendEquation(t.gl.FUNC_ADD),t.gl.blendFunc(t.gl.SRC_ALPHA,t.gl.ONE_MINUS_SRC_ALPHA),t.gl.enable(t.gl.BLEND),t.addImg2Body=t.addImg2Body.bind(t),t.name="WebGLRenderer",t}function ve(t){return n(this,ve),(t=l(this,(ve.__proto__||Object.getPrototypeOf(ve)).call(this,t))).name="CustomRenderer",t}s(fe,Jt),r(fe,[{key:"init",value:function(t){o(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"init",this).call(this,t),this.resize(this.element.width,this.element.height)}},{key:"resize",value:function(t,e){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/t,this.smat[4]=1/e,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,t,e),this.element.width=t,this.element.height=e}},{key:"setMaxRadius",value:function(t){this.circleCanvasURL=this.createCircle(t)}},{key:"getVertexShader",value:function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join("\n")}},{key:"getFragmentShader",value:function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join("\n")}},{key:"initVar",value:function(){this.mstack=new de,this.umat=q.create([2,0,1,0,-2,0,-1,1,1]),this.smat=q.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:"blendEquation",value:function(t){this.gl.blendEquation(this.gl[t])}},{key:"blendFunc",value:function(t,e){this.gl.blendFunc(this.gl[t],this.gl[e])}},{key:"getShader",value:function(t,e,i){return i=i?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER),t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(alert(t.getShaderInfoLog(i)),null)}},{key:"initShaders",value:function(){var t=this.getShader(this.gl,this.getFragmentShader(),!0),e=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,e),this.gl.attachShader(this.sprogram,t),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:"initBuffers",value:function(){var t;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);var e=void 0,i=[];for(e=0;e<100;e++)i.push(e);for(t=new Uint16Array(i),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW),i=[],e=0;e<100;e++)i.push(e,e+1,e+2);t=new Uint16Array(i),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW)}},{key:"createCircle",value:function(t){this.circleCanvasRadius=c(x.initValue(t,32));var e=m.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius);return(t=e.getContext("2d")).beginPath(),t.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),t.closePath(),t.fillStyle="#FFF",t.fill(),e.toDataURL()}},{key:"drawImg2Canvas",value:function(t){var e=t.body.width,i=t.body.height,n=c(t.body.width),r=c(t.body.height),a=t.body.width/n,o=t.body.height/r;this.texturebuffers[t.data.src]||(this.texturebuffers[t.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),t.data.texture=this.texturebuffers[t.data.src][0],t.data.vcBuffer=this.texturebuffers[t.data.src][1],t.data.tcBuffer=this.texturebuffers[t.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,a,0,0,o,o,o]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,i,e,i]),this.gl.STATIC_DRAW),r=t.data.canvas.getContext("2d").getImageData(0,0,n,r),this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,r),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),t.data.textureLoaded=!0,t.data.textureWidth=e,t.data.textureHeight=i}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(t){t.data.textureLoaded=!1,t.data.tmat=q.create(),t.data.tmat[8]=1,t.data.imat=q.create(),t.data.imat[8]=1,t.body?k(t.body,this.addImg2Body,t):(k(this.circleCanvasURL,this.addImg2Body,t),t.data.oldScale=t.radius/this.circleCanvasRadius)}},{key:"addImg2Body",value:function(t,e){e.dead||(e.body=t,e.data.src=t.src,e.data.canvas=P(t),e.data.oldScale=1,this.drawImg2Canvas(e))}},{key:"onParticleUpdate",value:function(t){t.data.textureLoaded&&(this.updateMatrix(t),this.gl.uniform3f(this.sprogram.color,t.rgb.r/255,t.rgb.g/255,t.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:"onParticleDead",value:function(){}},{key:"updateMatrix",value:function(t){var i=d(-t.data.textureWidth/2,-t.data.textureHeight/2),n=d(t.p.x,t.p.y),r=t.rotation*e.PI_180,a=p(r);r=t.scale*t.data.oldScale,r=f(r,r),r=v(i,r),r=v(r,a),r=v(r,n),q.inverse(r,t.data.imat),r[2]=t.alpha,this.mstack.push(r)}}]),O=fe,s(ve,Jt),Jt=ve;var me=(s(ge,nt),r(ge,[{key:"getPosition",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:"getDirection",value:function(t,e){var i=this.dy,n=-this.dx;return 0<(i*t+n*e+this.dot)*(0==n?1:n)}},{key:"getDistance",value:function(t,e){return(this.dy*t+-this.dx*e+this.dot)/Math.sqrt(this.xxyy)}},{key:"getSymmetric",value:function(t){var e=t.getGradient(),i=2*(this.getGradient()-e),n=t.x;return e=t.y,t.x=n*Math.cos(i)-e*Math.sin(i),t.y=n*Math.sin(i)+e*Math.cos(i),t}},{key:"getGradient",value:function(){return Math.atan2(this.dy,this.dx)}},{key:"rangeOut",value:function(t){if(Math.abs(this.getGradient())<=e.PI/4){if(t.p.x<=this.maxx&&t.p.x>=this.minx)return!0}else if(t.p.y<=this.maxy&&t.p.y>=this.miny)return!0;return!1}},{key:"getLength",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:"crossing",value:function(t){"dead"===this.crossType?">"===this.direction||"R"===this.direction||"right"===this.direction||"down"===this.direction?this.rangeOut(t)&&this.getDirection(t.p.x,t.p.y)&&(t.dead=!0):this.rangeOut(t)&&(this.getDirection(t.p.x,t.p.y)||(t.dead=!0)):"bound"===this.crossType?this.rangeOut(t)&&this.getDistance(t.p.x,t.p.y)<=t.radius&&(0===this.dx?t.v.x*=-1:0===this.dy?t.v.y*=-1:this.getSymmetric(t.v)):"cross"===this.crossType&&this.alert&&(console.error("Sorry, LineZone does not support cross method!"),this.alert=!1)}}]),ge);function ge(t,e,i,r,a){n(this,ge);var o=l(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this));return 0<=i-t?(o.x1=t,o.y1=e,o.x2=i,o.y2=r):(o.x1=i,o.y1=r,o.x2=t,o.y2=e),o.dx=o.x2-o.x1,o.dy=o.y2-o.y1,o.minx=Math.min(o.x1,o.x2),o.miny=Math.min(o.y1,o.y2),o.maxx=Math.max(o.x1,o.x2),o.maxy=Math.max(o.y1,o.y2),o.dot=o.x2*o.y1-o.x1*o.y2,o.xxyy=o.dx*o.dx+o.dy*o.dy,o.gradient=o.getGradient(),o.length=o.getLength(),o.direction=x.initValue(a,">"),o}var ye=(s(be,nt),r(be,[{key:"getPosition",value:function(){return this.angle=e.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:"setCenter",value:function(t,e){this.center.x=t,this.center.y=e}},{key:"crossing",value:function(t){var e=t.p.distanceTo(this.center);"dead"===this.crossType?e-t.radius>this.radius&&(t.dead=!0):"bound"===this.crossType?e+t.radius>=this.radius&&this.getSymmetric(t):"cross"===this.crossType&&this.alert&&(console.error("Sorry, CircleZone does not support cross method!"),this.alert=!1)}},{key:"getSymmetric",value:function(t){var e=t.v.getGradient(),i=2*(this.getGradient(t)-e),n=t.v.x;e=t.v.y,t.v.x=n*Math.cos(i)-e*Math.sin(i),t.v.y=n*Math.sin(i)+e*Math.cos(i)}},{key:"getGradient",value:function(t){return-e.PI_2+Math.atan2(t.p.y-this.center.y,t.p.x-this.center.x)}}]),be);function be(t,e,i){n(this,be);var r=l(this,(be.__proto__||Object.getPrototypeOf(be)).call(this));return r.x=t,r.y=e,r.radius=i,r.angle=0,r.center={x:t,y:e},r}var we=(s(ke,nt),r(ke,[{key:"getPosition",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:"crossing",value:function(t){"dead"===this.crossType?((t.p.x+t.radius<this.x||t.p.x-t.radius>this.x+this.width)&&(t.dead=!0),(t.p.y+t.radius<this.y||t.p.y-t.radius>this.y+this.height)&&(t.dead=!0)):"bound"===this.crossType?(t.p.x-t.radius<this.x?(t.p.x=this.x+t.radius,t.v.x*=-1):t.p.x+t.radius>this.x+this.width&&(t.p.x=this.x+this.width-t.radius,t.v.x*=-1),t.p.y-t.radius<this.y?(t.p.y=this.y+t.radius,t.v.y*=-1):t.p.y+t.radius>this.y+this.height&&(t.p.y=this.y+this.height-t.radius,t.v.y*=-1)):"cross"===this.crossType&&(t.p.x+t.radius<this.x&&t.v.x<=0?t.p.x=this.x+this.width+t.radius:t.p.x-t.radius>this.x+this.width&&0<=t.v.x&&(t.p.x=this.x-t.radius),t.p.y+t.radius<this.y&&t.v.y<=0?t.p.y=this.y+this.height+t.radius:t.p.y-t.radius>this.y+this.height&&0<=t.v.y&&(t.p.y=this.y-t.radius))}}]),ke);function ke(t,e,i,r){n(this,ke);var a=l(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this));return a.x=t,a.y=e,a.width=i,a.height=r,a}function Pe(t,e,i,r){n(this,Pe);var a=l(this,(Pe.__proto__||Object.getPrototypeOf(Pe)).call(this));return a.reset(t,e,i,r),a}return s(Pe,nt),r(Pe,[{key:"reset",value:function(t,e,i,n){this.imageData=t,this.x=x.initValue(e,0),this.y=x.initValue(i,0),this.d=x.initValue(n,2),this.vectors=[],this.setVectors()}},{key:"setVectors",value:function(){var t=void 0,e=void 0,i=this.imageData.width,n=this.imageData.height;for(t=0;t<i;t+=this.d)for(e=0;e<n;e+=this.d){var r=4*((e>>0)*i+(t>>0));0<this.imageData.data[3+r]&&this.vectors.push({x:t+this.x,y:e+this.y})}return this.vector}},{key:"getBound",value:function(t,e){return t=4*((e>>0)*this.imageData.width+(t>>0)),0<this.imageData.data[3+t]}},{key:"getPosition",value:function(){var t=x.getRandFromArray(this.vectors);return this.vector.copy(t)}},{key:"getColor",value:function(t,e){return t-=this.x,t=4*(((e-=this.y)>>0)*this.imageData.width+(t>>0)),{r:this.imageData.data[t],g:this.imageData.data[1+t],b:this.imageData.data[2+t],a:this.imageData.data[3+t]}}},{key:"crossing",value:function(t){"dead"===this.crossType?this.getBound(t.p.x-this.x,t.p.y-this.y)?t.dead=!0:t.dead=!1:"bound"===this.crossType&&(this.getBound(t.p.x-this.x,t.p.y-this.y)||t.v.negate())}}]),s=Pe,r={addEventListener:function(t,e){t.addEventListener("PROTON_UPDATE_AFTER",(function(){return e()}))},getStyle:function(t){return"rgba("+(t=H.hexToRgb(0<arguments.length&&void 0!==t?t:"#ff0000")).r+", "+t.g+", "+t.b+", 0.5)"},drawZone:function(t,e,i,n){var r=e.getContext("2d"),a=this.getStyle();this.addEventListener(t,(function(){n&&r.clearRect(0,0,e.width,e.height),i instanceof at?(r.beginPath(),r.fillStyle=a,r.arc(i.x,i.y,10,0,2*Math.PI,!0),r.fill(),r.closePath()):i instanceof me?(r.beginPath(),r.strokeStyle=a,r.moveTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.stroke(),r.closePath()):i instanceof we?(r.beginPath(),r.strokeStyle=a,r.drawRect(i.x,i.y,i.width,i.height),r.stroke(),r.closePath()):i instanceof ye&&(r.beginPath(),r.strokeStyle=a,r.arc(i.x,i.y,i.radius,0,2*Math.PI,!0),r.stroke(),r.closePath())}))},drawEmitter:function(t,e,i,n){var r=e.getContext("2d"),a=this.getStyle();this.addEventListener(t,(function(){n&&r.clearRect(0,0,e.width,e.height),r.beginPath(),r.fillStyle=a,r.arc(i.p.x,i.p.y,10,0,2*Math.PI,!0),r.fill(),r.closePath()}))}},I.Particle=U,I.Pool=T,I.Util=x,I.ColorUtil=H,I.MathUtil=e,I.Vector2D=I.Vector=V,I.Polar2D=I.Polar=Z,I.ArraySpan=G,I.Rectangle=Y,I.Rate=Q,I.ease=F,I.Span=h,I.Mat3=q,I.getSpan=function(t,e,i){return new h(t,e,i)},I.createArraySpan=G.createArraySpan,I.Initialize=I.Init=J,I.Life=I.L=et,I.Position=I.P=st,I.Velocity=I.V=ht,I.Mass=I.M=ct,I.Radius=I.R=pt,I.Body=I.B=vt,I.Behaviour=gt,I.Force=I.F=bt,I.Attraction=I.A=kt,I.RandomDrift=I.RD=xt,I.Gravity=I.G=_t,I.Collision=Ct,I.CrossZone=Rt,I.Alpha=St,I.Scale=I.S=Bt,I.Rotate=Dt,I.Color=Lt,I.Repulsion=Nt,I.Cyclone=jt,I.GravityWell=Zt,I.Emitter=Gt,I.BehaviourEmitter=Yt,I.FollowEmitter=Qt,I.Zone=nt,I.LineZone=me,I.CircleZone=ye,I.PointZone=at,I.RectZone=we,I.ImageZone=s,I.CanvasRenderer=ee,I.DomRenderer=ne,I.EaselRenderer=ae,I.PixiRenderer=ue,I.PixelRenderer=se,I.WebGLRenderer=I.WebGlRenderer=O,I.CustomRenderer=Jt,I.Debug=r,x.assign(I,F),I}(),Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ee=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_e=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Te=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Ce=function(){function t(){xe(this,t),this.list=[]}return Ee(t,[{key:"set",value:function(t,e){this.list.push({probability:t,target:e,a:0,b:1}),this.calculation()}},{key:"calculation",value:function(){for(var t=0,e=0;e<this.list.length;e++)t+=this.list[e].probability;for(var i=0;i<this.list.length;i++){var n=this.list[i],r=n.probability/t;n.a=0===i?0:this.list[i-1].b,n.b=n.a+r}}},{key:"getResult",value:function(){for(var t=Math.random(),e=0;e<this.list.length;e++){var i=this.list[e];if(t<=i.b&&t>i.a)return i.target}return this.list[0].target}}]),t}(),Ae=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._iid=0,i._oid=0,i.size={width:0,height:0},i.canvasRef=f.createRef(),i}return _e(e,t),Ee(e,[{key:"componentDidMount",value:function(){var t=this;this._oid=setTimeout((function(){t.initCanvas(),t.resize=t.resize.bind(t),window.addEventListener("resize",t.resize)}),100);var e=this.getCanvas();this.props.onCanvasDidMount&&this.props.onCanvasDidMount(e)}},{key:"initCanvas",value:function(){var t=this.getCanvas();this.props.globalCompositeOperation&&(t.getContext("2d").globalCompositeOperation=this.props.globalCompositeOperation);var e=this.setCanvasSize(t),i=e.width,n=e.height;this.heartbeatDetectionCanvasSize(t),this.props.onCanvasInited(t,i,n)}},{key:"getCanvas",value:function(){return this.canvasRef.current}},{key:"heartbeatDetectionCanvasSize",value:function(t){var e=this;this._iid=setInterval((function(){if(e.canvasRef.current&&e.canvasRef.current.clientHeight!==e.size.height){var i=e.setCanvasSize(t),n=i.width,r=i.height;e.props.onResize&&e.props.onResize(n,r)}}),100)}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.resize),clearInterval(this._iid),clearTimeout(this._oid)}catch(t){}}},{key:"resize",value:function(){var t=this.getCanvas(),e=this.setCanvasSize(t),i=e.width,n=e.height;this.props.onResize&&this.props.onResize(i,n)}},{key:"setCanvasSize",value:function(t){var e=this.canvasRef.current.clientWidth,i=this.canvasRef.current.clientHeight;return this.size.width=e,this.size.height=i,t.width=e,t.height=i,{width:e,height:i}}},{key:"handleWaypointEnter",value:function(){be.start()}},{key:"handleWaypointLeave",value:function(){be.stop()}},{key:"getStyle",value:function(){var t=this.props.bg,e={width:"100%",height:"100%"};return!0===t?e=Object.assign(e,{position:"absolute",zIndex:-1,top:0,left:0}):t&&"object"===(void 0===t?"undefined":Pe(t))&&(e=Object.assign(e,t)),e}},{key:"handleMouseDown",value:function(t){this.props.onMouseDown&&this.props.onMouseDown(t)}},{key:"render",value:function(){return f.createElement("canvas",{className:"particles-bg-canvas-self",ref:this.canvasRef,onMouseDown:this.handleMouseDown.bind(this),style:this.getStyle()})}}]),e}(f.Component);
/*!
* RAFManager v0.1.0
*
* Copyright 2018-2018, ajiemath <ajiemath@gmail.com>
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/function Re(t,e){var i,n=void 0;return t?"rgba("+(n=(i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:{}).r+","+n.g+","+n.b+", "+e+")":null}var Oe=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),this.createMiniEmitter(t),be.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(t,e,i){var n=this,r=t.getContext("2d");this.proton=new ke;var a=new ke.Emitter;a.rate=new ke.Rate(this.props.num?new ke.Span(this.props.num):new ke.Span(4,9),new ke.Span(.8,1.3)),a.addInitialize(new ke.Mass(1)),a.addInitialize(new ke.Radius(1,50)),a.addInitialize(new ke.Life(5,6)),a.addInitialize(new ke.Velocity(new ke.Span(5,8),new ke.Span(30,70),"polar")),a.addBehaviour(new ke.Alpha(1,0)),a.addBehaviour(new ke.Color(["#36aaf3","#fd769c","#94ff22","#ffa545","#ffffff"])),a.addBehaviour(new ke.Scale(.7,1)),a.addBehaviour(new ke.Gravity(3)),a.addBehaviour(new ke.Collision(a)),a.addBehaviour(this.customDeadBehaviour(t)),a.addBehaviour(new ke.CrossZone(new ke.RectZone(0,0,t.width,t.height),"bound")),a.p.x=Math.min(500,Math.max(t.width/2-400,50)),a.p.y=t.height/2+50,a.emit(),this.proton.addEmitter(a);var o=new ke.CanvasRenderer(t);o.onProtonUpdate=function(){r.fillStyle=Re(n.props.color,.2)||"rgba(255, 255, 255, 0.2)",r.fillRect(0,0,t.width,t.height)},this.proton.addRenderer(o)}},{key:"customDeadBehaviour",value:function(t){var e=this;return{initialize:function(t){},applyBehaviour:function(i){i.p.y+i.radius>=t.height&&i.radius>9&&(e.miniEmitteing(i),i.dead=!0)}}}},{key:"createMiniEmitter",value:function(t){var e=new ke.Emitter;e.rate=new ke.Rate(new ke.Span(3,6),new ke.Span(1,2)),e.addInitialize(new ke.Mass(1)),e.radiusInitialize=new ke.Radius,e.addInitialize(e.radiusInitialize),e.addInitialize(new ke.Life(.5,1)),e.addInitialize(new ke.V(new ke.Span(1.5,3),new ke.Span(0,70,!0),"polar")),e.colorBehaviour=new ke.Color("#ffffff"),e.addBehaviour(new ke.Alpha(1,0)),e.addBehaviour(e.colorBehaviour),e.addBehaviour(new ke.Gravity(4)),e.addBehaviour(new ke.Collision(e)),e.addBehaviour(new ke.CrossZone(new ke.RectZone(0,0,t.width,t.height),"bound")),this.proton.addEmitter(e),this.miniEmitter=e}},{key:"miniEmitteing",value:function(t){var e=this.miniEmitter;e.radiusInitialize.reset(.05*t.radius,.2*t.radius),e.colorBehaviour.reset(t.color),e.p.x=t.p.x,e.p.y=t.p.y,e.emit("once")}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Se=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),be.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(t,e,i){this.proton=new ke;var n=new ke.Emitter;n.rate=new ke.Rate(this.props.num?new ke.Span(this.props.num):new ke.Span(5,8),new ke.Span(.1,.25)),n.addInitialize(new ke.Mass(1)),n.addInitialize(new ke.Radius(20,200)),n.addInitialize(new ke.Life(2,4)),n.addInitialize(new ke.Position(new ke.RectZone(0,0,e,i))),n.addBehaviour(new ke.Alpha(0,1,1/0,ke.easeOutCubic)),n.addBehaviour(new ke.Scale(1,0,1/0,ke.easeOutCubic)),n.addBehaviour(new ke.Color(this.colors,"random")),n.emit(),this.proton.addEmitter(n);var r=new ke.CanvasRenderer(t);this.proton.addRenderer(r)}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Me=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),be.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"getProp",value:function(t,e){var i=(this.props.config||{})[t]||e;return Array.isArray(i)?new ke.Span(i[0],i[1]):i}},{key:"getArrProp",value:function(t,e){var i=(this.props.config||{})[t]||e;return i?Array.isArray(i)?i:[i,i]:null}},{key:"createProton",value:function(t,e,i){var n=this.getProp("num",[5,8]),r=this.getProp("rps",[.1,.2]),a=this.getProp("mass",1),o=this.getProp("radius",[10,30]),s=this.getProp("life",[2,3]),l=this.getProp("body"),h=this.getProp("position"),u=this.getProp("v",[2,3]),c=this.getProp("tha",[-15,15]),d=this.getArrProp("alpha"),p=this.getArrProp("scale"),f=this.getArrProp("color"),v=this.getProp("cross","dead"),m=this.getProp("random"),g=this.getArrProp("rotate"),y=this.getProp("g"),b=this.getArrProp("f"),w=this.getProp("emitter");this.proton=new ke;var k=void 0;(k="follow"===w?new ke.FollowEmitter:new ke.Emitter).rate=new ke.Rate(n,r),k.addInitialize(new ke.Mass(a)),k.addInitialize(new ke.Radius(o)),k.addInitialize(new ke.Life(s)),k.addInitialize(new ke.Velocity(u,c,"polar")),l&&k.addInitialize(new ke.Body(l));var P=void 0;"all"===h||"screen"===h?P=new ke.Position(new ke.RectZone(0,0,t.width,t.height)):"object"===(void 0===h?"undefined":Pe(h))?P=new ke.Position(new ke.RectZone(h.x,h.y,h.width,h.height)):(k.p.x=t.width/2,k.p.y=t.height/2),k.addInitialize(P);var x=d?new ke.Alpha(d[0],d[1]):new ke.Alpha(0,1),E=p?new ke.Scale(p[0],p[1]):new ke.Scale(1,.2),_=f?new ke.Color(f[0],f[1]):new ke.Color(this.colors);k.addBehaviour(x),k.addBehaviour(E),l||k.addBehaviour(_),g&&(!0===g[0]||"rotate"===g[0]?k.addBehaviour(new ke.Rotate):k.addBehaviour(new ke.Rotate(g[0],g[1])));var T=new ke.RectZone(0,0,t.width,t.height),C=new ke.CrossZone(T,v);k.addBehaviour(C),m&&k.addBehaviour(new ke.RandomDrift(m,m,.05)),y&&k.addBehaviour(new ke.G(y)),b&&k.addBehaviour(new ke.F(b[0],b[1])),k.emit(),this.proton.addEmitter(k);var A=this.createRenderer(t);this.proton.addRenderer(A),this.emitter=k,this.crossZoneBehaviour=C}},{key:"createRenderer",value:function(t){var e=t.width,i=t.height,n=t.getContext("2d"),r=new ke.CanvasRenderer(t),a=this.getProp("onUpdate");a&&(r.onProtonUpdate=function(){a(n,e,i)});var o=this.getProp("onParticleCreated");o&&(r.onParticleCreated=function(t){o(n,t)});var s=this.getProp("onParticleUpdate");return s&&(r.onParticleUpdate=function(t){s(n,t)}),r}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"handleMouseDown",value:function(t){var e=this.getProp("onMouseDown");e&&e(t)}},{key:"render",value:function(){var t=this.props.globalCompositeOperation||this.props.operation||"source-over";return f.createElement(Ae,{bg:this.props.bg,onMouseDown:this.handleMouseDown.bind(this),globalCompositeOperation:t,onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Be=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"onCanvasDidMount",value:function(t){this.props.color&&(t.style.backgroundColor=this.props.color)}},{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),be.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,i){this.proton=new ke;var n=new ke.Emitter;n.damping=.008,n.rate=new ke.Rate(this.props.num?this.props.num:250),n.addInitialize(new ke.Mass(1)),n.addInitialize(new ke.Radius(4)),n.addInitialize(new ke.Velocity(new ke.Span(1.5),new ke.Span(0,360),"polar"));var r={x:e/2,y:i/2},a=new ke.Attraction(r,0,0),o=new ke.CrossZone(new ke.RectZone(0,0,t.width,t.height),"cross");n.addBehaviour(new ke.Color("random")),n.addBehaviour(a,o),n.addBehaviour(new ke.RandomDrift(10,10,.05)),n.p.x=t.width/2,n.p.y=t.height/2,n.emit("once"),this.proton.addEmitter(n),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=o}},{key:"createRenderer",value:function(t){var e=this,i=t.getContext("2d"),n=new ke.CanvasRenderer(t);return n.onProtonUpdate=function(){i.fillStyle=Re(e.props.color,.02)||"rgba(0, 0, 0, 0.02)",i.fillRect(0,0,t.width,t.height)},n.onParticleUpdate=function(t){i.beginPath(),i.strokeStyle=t.color,i.lineWidth=1,i.moveTo(t.old.p.x,t.old.p.y),i.lineTo(t.p.x,t.p.y),i.closePath(),i.stroke()},n}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Ie=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.hue=0,i.index=0,i.colorTemplate="hsla(hue,80%,50%, 0.75)",i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"onCanvasDidMount",value:function(t){this.props.color&&(t.style.backgroundColor=this.props.color)}},{key:"onCanvasInited",value:function(t,e,i){this.canvas=t,this.createProton(t,e,i),be.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,i){this.proton=new ke;var n=new ke.Emitter;n.damping=.008,n.rate=new ke.Rate(this.props.num?this.props.num:150),n.addInitialize(new ke.Mass(1)),n.addInitialize(new ke.Radius(8)),n.addInitialize(new ke.V(new ke.Span(.1,.5),new ke.Span(0,360),"polar")),n.addInitialize(new ke.Position(new ke.CircleZone(t.width/2,t.height/2,100)));var r=new ke.CrossZone(new ke.RectZone(0,0,t.width,t.height),"cross");n.addBehaviour(r),this.repulsion=new ke.Repulsion({x:t.width/2,y:t.height/2-100},3,300),this.attraction=new ke.Attraction({x:t.width/2,y:t.height/2},3,200),n.addBehaviour(this.attraction,this.repulsion),n.addBehaviour(new ke.Color("random")),n.addBehaviour(new ke.RandomDrift(20,15,.15)),n.emit("once"),this.proton.addEmitter(n),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=r}},{key:"createRenderer",value:function(t){var e=this,i=t.getContext("2d"),n=new ke.CanvasRenderer(t);return n.onProtonUpdate=function(){e.hue+=1,i.fillStyle=Re(e.props.color,.02)||"rgba(0, 0, 0, 0.02)",i.fillRect(0,0,t.width,t.height)},n.onParticleCreated=function(t){t.data.begin=ke.MathUtil.randomAToB(1,120),t.data.tha=ke.MathUtil.randomAToB(0,2*Math.PI)},n.onParticleUpdate=function(t){var n=t.data.begin+e.hue;t.color=e.colorTemplate.replace("hue",n%360);var r=.25*t.radius*Math.cos(t.data.tha+=.01)+.75*t.radius;i.beginPath(),i.fillStyle=t.color,i.arc(t.p.x,t.p.y,r,0,2*Math.PI,!0),i.closePath(),i.fill()},n}},{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"renderProton",value:function(){var t=this.canvas;this.proton.update(),this.index%200==0&&(this.attraction.targetPosition.x=Math.random()*t.width,this.attraction.targetPosition.y=Math.random()*t.height,this.repulsion.targetPosition.x=Math.random()*t.width,this.repulsion.targetPosition.y=Math.random()*t.height),this.index++}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),De=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.colors=["#fad390","#81ecec","#ffffff","#badc58","#f9ca24","#FEA47F"],i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasDidMount",value:function(t){}},{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),be.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t+300,this.crossZoneBehaviour.zone.height=e+300,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,i){this.proton=new ke;var n=new ke.Emitter;n.rate=new ke.Rate(this.props.num?this.props.num:50),n.damping=0,n.addInitialize(new ke.Mass(1)),n.addInitialize(new ke.Radius(4,70)),n.addInitialize(new ke.Velocity(new ke.Span(2,10),new ke.Span(0),"polar")),n.addInitialize(new ke.Position(new ke.LineZone(0,t.height,t.width,t.height)));var r=new ke.CrossZone(new ke.RectZone(-150,-150,t.width+300,t.height+300),"cross");n.addBehaviour(r),n.addBehaviour(new ke.Alpha(ke.getSpan(.1,.55))),n.addBehaviour(new ke.Color(this.colors)),n.emit("once"),this.proton.addEmitter(n);var a=this.createRenderer(t);this.proton.addRenderer(a),this.crossZoneBehaviour=r,n.preEmit(2)}},{key:"createRenderer",value:function(t){var e=t.getContext("2d"),i=new ke.CustomRenderer;return i.onProtonUpdate=function(){e.clearRect(0,0,t.width,t.height)},i.onParticleCreated=function(t){var e=t.radius||60,i=ke.MathUtil.randomAToB(100,200,"int");t.data.w=e,t.data.h=i},i.onParticleUpdate=function(t){var i=t.data.w,n=t.data.h;e.save(),e.globalAlpha=t.alpha,e.fillStyle=t.color,e.translate(t.p.x,t.p.y),e.rotate(ke.MathUtil.degreeTransform(t.rotation)),e.translate(-t.p.x,-t.p.y),e.beginPath(),e.rect(t.p.x-i/2,t.p.y-n/2,i,n),e.closePath(),e.fill(),e.globalAlpha=1,e.restore()},i}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"lighter",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),ze=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),be.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,i){this.proton=new ke;var n=new ke.Emitter;n.rate=new ke.Rate(this.props.num?new ke.Span(this.props.num):new ke.Span(100),new ke.Span(.05,.2)),n.addInitialize(new ke.Mass(1)),n.addInitialize(new ke.Radius(1,4)),n.addInitialize(new ke.Life(1/0));var r=new ke.Position(new ke.RectZone(0,0,e,i));n.addInitialize(r),n.addInitialize(new ke.Velocity(new ke.Span(.3,.6),new ke.Span(0,360),"polar")),n.addBehaviour(new ke.Alpha(ke.getSpan(.2,.9))),n.addBehaviour(new ke.Color(this.props.color||"#333")),this.crossZoneBehaviour=new ke.CrossZone(new ke.RectZone(0,0,e,i),"cross"),n.addBehaviour(this.crossZoneBehaviour),n.emit("once"),n.damping=0,this.proton.addEmitter(n),this.proton.addRenderer(this.createRenderer(t,n))}},{key:"createRenderer",value:function(t,e){var i=this,n=t.getContext("2d"),r=new ke.CanvasRenderer(t);return r.onProtonUpdateAfter=function(){for(var t=e.particles,r=0;r<t.length;r++)for(var a=r+1;a<t.length;a++){var o=t[r],s=t[a],l=o.p.distanceTo(s.p);if(l<140){var h=.5*(1-l/140);n.strokeStyle=Re(i.props.color,h)||"rgba(3, 3, 3, "+h+")",n.beginPath(),n.moveTo(o.p.x,o.p.y),n.lineTo(s.p.x,s.p.y),n.closePath(),n.stroke()}}},r}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Le=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.colors=["#74b9ff","#e84393","#6c5ce7","#00b894","#fdcb6e","#006266","#1B1464"],i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),be.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,i){this.proton=new ke;var n=new ke.Emitter;n.rate=new ke.Rate(this.props.num||20),n.damping=.008,n.addInitialize(new ke.Mass(1)),n.addInitialize(new ke.Radius(30,600)),n.addInitialize(new ke.Velocity(new ke.Span(.5),new ke.Span(0,360),"polar")),n.addInitialize(new ke.Position(new ke.RectZone(0,0,t.width,t.height)));var r=new ke.CrossZone(new ke.RectZone(0,0,t.width,t.height),"cross");n.addBehaviour(r),n.addBehaviour(new ke.Alpha(ke.getSpan(.35,.55))),n.addBehaviour(new ke.Color(this.getColor())),n.addBehaviour(new ke.RandomDrift(50,50,.5)),n.emit("once"),this.proton.addEmitter(n);var a=new ke.CanvasRenderer(t);this.proton.addRenderer(a),this.crossZoneBehaviour=r}},{key:"getColor",value:function(){var t=this.colors;return this.props.color&&(t=Array.isArray(this.props.color)?this.props.color:[this.props.color]),t}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"darken",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Fe=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"onCanvasDidMount",value:function(t){}},{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),this.renderProton()}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,i){this.proton=new ke;var n=new ke.Emitter;n.damping=.008,n.rate=new ke.Rate(this.props.num?this.props.num:50),n.addInitialize(new ke.Mass(1)),n.addInitialize(new ke.Radius(5,9)),n.addInitialize(new ke.Velocity(new ke.Span(1.5),new ke.Span(0,360),"polar")),n.addInitialize(new ke.Position(new ke.RectZone(0,0,e,i)));var r={x:e/2,y:i/2},a=new ke.Attraction(r,0,0),o=new ke.CrossZone(new ke.RectZone(0,0,t.width,t.height),"bound");n.addBehaviour(new ke.Color(this.props.color||"#bbb")),n.addBehaviour(a,o),n.addBehaviour(new ke.RandomDrift(15,15,.05)),n.emit("once"),this.proton.addEmitter(n),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=o}},{key:"createRenderer",value:function(t){var e=t.getContext("2d"),i=new ke.CanvasRenderer(t);i.onProtonUpdate=function(){e.clearRect(0,0,t.width,t.height)},i.onParticleCreated=function(t){t.data.points=[],t.data.index=0},i.onParticleUpdate=function(t){a(t),t.data.index%8==0&&n(t),r(t),t.data.index++};var n=function(t){t.data.points.unshift(t.p.y),t.data.points.unshift(t.p.x),t.data.points.length>10&&(t.data.points.pop(),t.data.points.pop())},r=function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),e.closePath(),e.fill()},a=function(t){e.beginPath(),e.strokeStyle=t.color,e.moveTo(t.p.x,t.p.y);for(var i=t.data.points.length,n=0;n<i;n+=2){var r=t.data.points[n],a=t.data.points[n+1];e.lineWidth=o(n,i),e.lineTo(r,a),e.stroke()}},o=function(t,e){if(e<=2)return 1;var i=5/(2/e-1),n=i*((t+2)/e)+(1-i);return n>>=0};return i}},{key:"renderProton",value:function(){var t=this;be.add((function(){t.proton.update()}))}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Ve=["#f6b93b","#18dcff","#cd84f1","#ED4C67","#ffffff","#b71540","#32ff7e","#ff3838"],je=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"onCanvasInited",value:function(t,e,i){this.createProton(t),this.createEmitter({canvas:t,x:e/2,y:i/2,mainEmitter:!0,zone:"bound"}),be.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(t){this.proton=new ke;var e=this.createRenderer(t);this.proton.addRenderer(e)}},{key:"createRenderer",value:function(t){var e=t.getContext("2d"),i=new ke.CustomRenderer;i.onProtonUpdate=function(){e.clearRect(0,0,t.width,t.height)},i.onParticleCreated=function(t){t.data.count=ke.MathUtil.randomAToB(3,10,!0)},i.onParticleUpdate=function(t){e.save(),e.globalAlpha=t.alpha,e.fillStyle=t.color,e.translate(t.p.x,t.p.y),e.rotate(ke.MathUtil.degreeTransform(t.rotation)),e.translate(-t.p.x,-t.p.y),e.beginPath(),n(t,t.data.count),e.closePath(),e.fill(),e.globalAlpha=1,e.restore()},i.onParticleDead=function(t){};var n=function(t,i){if(i>=7)e.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0);else for(var n=t.radius,r=0;r<=i;r++){var a=t.p.x+n*Math.cos(Math.PI/180*360/i*r),o=t.p.y+n*Math.sin(Math.PI/180*360/i*r);0===r?e.moveTo(a,o):e.lineTo(a,o)}};return i}},{key:"createEmitter",value:function(t){var e=t.mainEmitter,i=t.canvas,n=t.x,r=t.y,a=t.radius,o=t.color,s=void 0===o?Ve:o,l=t.zone,h=void 0===l?"dead":l,u=t.once,c=void 0===u?"all":u,d=t.alpha,p=void 0===d?.85:d,f=t.gravity,v=void 0===f?3.5:f,m=this.proton.pool.get(ke.Emitter);if(!m.completed){m.rate=new ke.Rate(this.props.num?new ke.Span(this.props.num):new ke.Span(4,9),new ke.Span(1.6,2.2));var g=e?new ke.Radius(10,110):new ke.Radius(3,a);m.addInitialize(new ke.Mass(1)),m.addInitialize(g),m.addInitialize(new ke.Life(3,6)),m.addInitialize(new ke.Velocity(new ke.Span(4,6),new ke.Span(-90,90),"polar")),m.addBehaviour(new ke.Alpha(p,.2)),m.addBehaviour(new ke.Color(s)),m.addBehaviour(new ke.Scale(1,.3)),m.addBehaviour(new ke.Rotate),m.addBehaviour(new ke.Gravity(v)),m.addBehaviour(this.customDeadBehaviour(i)),m.addBehaviour(new ke.CrossZone(new ke.RectZone(0,0,i.width,i.height),h))}m.p.x=n,m.p.y=r,"once"===c?m.emit("once"):m.emit(),this.proton.addEmitter(m)}},{key:"expireEmitter",value:function(t){var e=this;setTimeout((function(){t.completed=!0,e.proton.pool.expire(t),e.proton.removeEmitter(t)}),500)}},{key:"customDeadBehaviour",value:function(t){var e=this;return{initialize:function(t){t.data=t.data||{},t.data.oldRadius=t.radius,t.data.emitterCount=0},applyBehaviour:function(i){i.radius<5||i.data.emitterCount>=2||i.radius<=1/3*i.data.oldRadius&&(i.data.emitterCount++,e.createEmitter({canvas:t,x:i.p.x,y:i.p.y,radius:.5*i.radius,alpha:.5,gravity:5,color:i.color,once:"once"}))}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Ue=function(t){function e(t){xe(this,e);var i=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],i.renderProton=i.renderProton.bind(i),i}return _e(e,t),Ee(e,[{key:"componentWillUnmount",value:function(){try{be.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,i){this.createProton(t,e,i),be.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(t,e,i){this.proton=new ke;var n=new ke.Emitter;n.rate=new ke.Rate(this.props.num?new ke.Span(this.props.num):new ke.Span(4,8),new ke.Span(.1,.25)),n.addInitialize(new ke.Mass(1)),n.addInitialize(new ke.Radius(20,200)),n.addInitialize(new ke.Life(2,4)),n.addInitialize(new ke.Velocity(new ke.Span(4,7),new ke.Span(0,360),"polar")),n.addInitialize(new ke.Position(new ke.CircleZone(e/2,i/2,100))),n.addBehaviour(new ke.Alpha(1,0)),n.addBehaviour(new ke.Scale(.2,1)),n.addBehaviour(this.createCustomBehaviour()),n.addBehaviour(new ke.Color(this.colors,"random")),n.emit(),this.proton.addEmitter(n);var r=new ke.CanvasRenderer(t);this.proton.addRenderer(r)}},{key:"createCustomBehaviour",value:function(){return{initialize:function(t){t.f=new ke.Vector2D(0,0)},applyBehaviour:function(t){var e=t.v.length()/1e3,i=t.v.getGradient();i+=1.57,t.f.x=1e3*e*Math.cos(i),t.f.y=1e3*e*Math.sin(i),t.a.add(t.f)}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return f.createElement(Ae,{bg:this.props.bg,globalCompositeOperation:"xor",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(f.Component),Ne=function(t){function e(t){return xe(this,e),Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return _e(e,t),Ee(e,[{key:"getRandom",value:function(){var t=this.props,e=t.num,i=t.bg,n=t.color;return this.random||(this.random=new Ce,this.random.set(.25,f.createElement(Se,{num:e,bg:i,color:n})),this.random.set(.2,f.createElement(Oe,{num:e,bg:i,color:n})),this.random.set(.2,f.createElement(Be,{num:e,bg:i,color:n})),this.random.set(.16,f.createElement(Ie,{num:e,bg:i,color:n})),this.random.set(.18,f.createElement(Le,{num:e,bg:i,color:n})),this.random.set(.04,f.createElement(ze,{num:e,bg:i,color:n})),this.random.set(.1,f.createElement(je,{num:e,bg:i,color:n})),this.random.set(.08,f.createElement(De,{num:e,bg:i,color:n})),this.random.set(.18,f.createElement(Fe,{num:e,bg:i,color:n})),this.random.set(.15,f.createElement(Ue,{num:e,bg:i,color:n}))),this.random.getResult()}},{key:"getBgParticles",value:function(){var t=this.props,e=t.type,i=t.num,n=t.bg,r=t.color,a=t.config,o=void 0;switch(String(e).toLowerCase()){case"color":o=f.createElement(Se,{num:i,bg:n,color:r});break;case"ball":o=f.createElement(Oe,{num:i,bg:n,color:r});break;case"lines":o=f.createElement(Be,{num:i,bg:n,color:r});break;case"thick":o=f.createElement(Ie,{num:i,bg:n,color:r});break;case"circle":o=f.createElement(Le,{num:i,bg:n,color:r});break;case"cobweb":o=f.createElement(ze,{num:i,bg:n,color:r});break;case"polygon":o=f.createElement(je,{num:i,bg:n,color:r});break;case"square":o=f.createElement(De,{num:i,bg:n,color:r});break;case"tadpole":o=f.createElement(Fe,{num:i,bg:n,color:r});break;case"fountain":o=f.createElement(Ue,{num:i,bg:n,color:r});break;case"custom":o=f.createElement(Me,{bg:n,config:a});break;case"random":o=this.getRandom(i);break;default:o=f.createElement(Se,{num:i,bg:n,color:r})}return o}},{key:"render",value:function(){var t=this.getBgParticles();return f.createElement(f.Fragment,null,t)}}]),e}(v.exports.Component),He={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Ze=He;function Xe(t){this.mode=Ze.MODE_8BIT_BYTE,this.data=t}Xe.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var qe=Xe,Ge={L:1,M:0,Q:3,H:2},We=Ge;function Ye(t,e){this.totalCount=t,this.dataCount=e}Ye.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Ye.getRSBlocks=function(t,e){var i=Ye.getRsBlockTable(t,e);if(null==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=i.length/3,r=new Array,a=0;a<n;a++)for(var o=i[3*a+0],s=i[3*a+1],l=i[3*a+2],h=0;h<o;h++)r.push(new Ye(s,l));return r},Ye.getRsBlockTable=function(t,e){switch(e){case We.L:return Ye.RS_BLOCK_TABLE[4*(t-1)+0];case We.M:return Ye.RS_BLOCK_TABLE[4*(t-1)+1];case We.Q:return Ye.RS_BLOCK_TABLE[4*(t-1)+2];case We.H:return Ye.RS_BLOCK_TABLE[4*(t-1)+3];default:return}};var Ke=Ye;function Qe(){this.buffer=new Array,this.length=0}Qe.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};for(var $e=Qe,Je={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Je.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Je.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},ti=0;ti<8;ti++)Je.EXP_TABLE[ti]=1<<ti;for(ti=8;ti<256;ti++)Je.EXP_TABLE[ti]=Je.EXP_TABLE[ti-4]^Je.EXP_TABLE[ti-5]^Je.EXP_TABLE[ti-6]^Je.EXP_TABLE[ti-8];for(ti=0;ti<255;ti++)Je.LOG_TABLE[Je.EXP_TABLE[ti]]=ti;var ei=Je,ii=ei;function ni(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}ni.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=ii.gexp(ii.glog(this.get(i))+ii.glog(t.get(n)));return new ni(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=ii.glog(this.get(0))-ii.glog(t.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<t.getLength();n++)i[n]^=ii.gexp(ii.glog(t.get(n))+e);return new ni(i,0).mod(t)}};var ri=He,ai=ni,oi=ei,si=0,li=1,hi=2,ui=3,ci=4,di=5,pi=6,fi=7,vi={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;vi.getBCHDigit(e)-vi.getBCHDigit(vi.G15)>=0;)e^=vi.G15<<vi.getBCHDigit(e)-vi.getBCHDigit(vi.G15);return(t<<10|e)^vi.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;vi.getBCHDigit(e)-vi.getBCHDigit(vi.G18)>=0;)e^=vi.G18<<vi.getBCHDigit(e)-vi.getBCHDigit(vi.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return vi.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case si:return(e+i)%2==0;case li:return e%2==0;case hi:return i%3==0;case ui:return(e+i)%3==0;case ci:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case di:return e*i%2+e*i%3==0;case pi:return(e*i%2+e*i%3)%2==0;case fi:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new ai([1],0),i=0;i<t;i++)e=e.multiply(new ai([1,oi.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case ri.MODE_NUMBER:return 10;case ri.MODE_ALPHA_NUM:return 9;case ri.MODE_8BIT_BYTE:case ri.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case ri.MODE_NUMBER:return 12;case ri.MODE_ALPHA_NUM:return 11;case ri.MODE_8BIT_BYTE:return 16;case ri.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case ri.MODE_NUMBER:return 14;case ri.MODE_ALPHA_NUM:return 13;case ri.MODE_8BIT_BYTE:return 16;case ri.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var r=0;r<e;r++){for(var a=0,o=t.isDark(n,r),s=-1;s<=1;s++)if(!(n+s<0||e<=n+s))for(var l=-1;l<=1;l++)r+l<0||e<=r+l||0==s&&0==l||o==t.isDark(n+s,r+l)&&a++;a>5&&(i+=3+a-5)}for(n=0;n<e-1;n++)for(r=0;r<e-1;r++){var h=0;t.isDark(n,r)&&h++,t.isDark(n+1,r)&&h++,t.isDark(n,r+1)&&h++,t.isDark(n+1,r+1)&&h++,0!=h&&4!=h||(i+=3)}for(n=0;n<e;n++)for(r=0;r<e-6;r++)t.isDark(n,r)&&!t.isDark(n,r+1)&&t.isDark(n,r+2)&&t.isDark(n,r+3)&&t.isDark(n,r+4)&&!t.isDark(n,r+5)&&t.isDark(n,r+6)&&(i+=40);for(r=0;r<e;r++)for(n=0;n<e-6;n++)t.isDark(n,r)&&!t.isDark(n+1,r)&&t.isDark(n+2,r)&&t.isDark(n+3,r)&&t.isDark(n+4,r)&&!t.isDark(n+5,r)&&t.isDark(n+6,r)&&(i+=40);var u=0;for(r=0;r<e;r++)for(n=0;n<e;n++)t.isDark(n,r)&&u++;return i+=10*(Math.abs(100*u/e/e-50)/5)}},mi=qe,gi=Ke,yi=$e,bi=vi,wi=ni;function ki(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Pi=ki.prototype;Pi.addData=function(t){var e=new mi(t);this.dataList.push(e),this.dataCache=null},Pi.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},Pi.getModuleCount=function(){return this.moduleCount},Pi.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=gi.getRSBlocks(t,this.errorCorrectLevel),i=new yi,n=0,r=0;r<e.length;r++)n+=e[r].dataCount;for(r=0;r<this.dataList.length;r++){var a=this.dataList[r];i.put(a.mode,4),i.put(a.getLength(),bi.getLengthInBits(a.mode,t)),a.write(i)}if(i.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},Pi.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[i][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=ki.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},Pi.setupPositionProbePattern=function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},Pi.getBestMaskPattern=function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=bi.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},Pi.createMovieClip=function(t,e,i){var n=t.createEmptyMovieClip(e,i);this.make();for(var r=0;r<this.modules.length;r++)for(var a=1*r,o=0;o<this.modules[r].length;o++){var s=1*o;this.modules[r][o]&&(n.beginFill(0,100),n.moveTo(s,a),n.lineTo(s+1,a),n.lineTo(s+1,a+1),n.lineTo(s,a+1),n.endFill())}return n},Pi.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},Pi.setupPositionAdjustPattern=function(){for(var t=bi.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],r=t[i];if(null==this.modules[n][r])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[n+a][r+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o}},Pi.setupTypeNumber=function(t){for(var e=bi.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},Pi.setupTypeInfo=function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=bi.getBCHTypeInfo(i),r=0;r<15;r++){var a=!t&&1==(n>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(r=0;r<15;r++){a=!t&&1==(n>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!t},Pi.mapData=function(t,e){for(var i=-1,n=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[n][o-s]){var l=!1;a<t.length&&(l=1==(t[a]>>>r&1)),bi.getMask(e,n,o-s)&&(l=!l),this.modules[n][o-s]=l,-1==--r&&(a++,r=7)}if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}},ki.PAD0=236,ki.PAD1=17,ki.createData=function(t,e,i){for(var n=gi.getRSBlocks(t,e),r=new yi,a=0;a<i.length;a++){var o=i[a];r.put(o.mode,4),r.put(o.getLength(),bi.getLengthInBits(o.mode,t)),o.write(r)}var s=0;for(a=0;a<n.length;a++)s+=n[a].dataCount;if(r.getLengthInBits()>8*s)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*s+")");for(r.getLengthInBits()+4<=8*s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*s||(r.put(ki.PAD0,8),r.getLengthInBits()>=8*s));)r.put(ki.PAD1,8);return ki.createBytes(r,n)},ki.createBytes=function(t,e){for(var i=0,n=0,r=0,a=new Array(e.length),o=new Array(e.length),s=0;s<e.length;s++){var l=e[s].dataCount,h=e[s].totalCount-l;n=Math.max(n,l),r=Math.max(r,h),a[s]=new Array(l);for(var u=0;u<a[s].length;u++)a[s][u]=255&t.buffer[u+i];i+=l;var c=bi.getErrorCorrectPolynomial(h),d=new wi(a[s],c.getLength()-1).mod(c);o[s]=new Array(c.getLength()-1);for(u=0;u<o[s].length;u++){var p=u+d.getLength()-o[s].length;o[s][u]=p>=0?d.get(p):0}}var f=0;for(u=0;u<e.length;u++)f+=e[u].totalCount;var v=new Array(f),m=0;for(u=0;u<n;u++)for(s=0;s<e.length;s++)u<a[s].length&&(v[m++]=a[s][u]);for(u=0;u<r;u++)for(s=0;s<e.length;s++)u<o[s].length&&(v[m++]=o[s][u]);return v};var xi=ki;function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _i(){return(_i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function Ti(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ci(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ti(i,!0).forEach((function(e){Li(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ti(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ai(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},a=Object.keys(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function Ri(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Si(t,e,i){return e&&Oi(t.prototype,e),i&&Oi(t,i),t}function Mi(t,e){return!e||"object"!==Ei(e)&&"function"!=typeof e?Ii(t):e}function Bi(t){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ii(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Di(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zi(t,e)}function zi(t,e){return(zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Li(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Fi=v.exports,Vi=xi,ji=Ge;function Ui(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n<2048?(e+=String.fromCharCode(192|n>>6),e+=String.fromCharCode(128|63&n)):n<55296||n>=57344?(e+=String.fromCharCode(224|n>>12),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|63&n)):(i++,n=65536+((1023&n)<<10|1023&t.charCodeAt(i)),e+=String.fromCharCode(240|n>>18),e+=String.fromCharCode(128|n>>12&63),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|63&n))}return e}var Ni={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function Hi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[];return t.forEach((function(t,n){var r=null;t.forEach((function(a,o){if(!a&&null!==r)return i.push("M".concat(r+e," ").concat(n+e,"h").concat(o-r,"v1H").concat(r+e,"z")),void(r=null);if(o!==t.length-1)a&&null===r&&(r=o);else{if(!a)return;null===r?i.push("M".concat(o+e,",").concat(n+e," h1v1H").concat(o+e,"z")):i.push("M".concat(r+e,",").concat(n+e," h").concat(o+1-r,"v1H").concat(r+e,"z"))}}))})),i.join("")}function Zi(t,e){return t.slice().map((function(t,i){return i<e.y||i>=e.y+e.h?t:t.map((function(t,i){return(i<e.x||i>=e.x+e.w)&&t}))}))}function Xi(t,e){var i=t.imageSettings,n=t.size,r=t.includeMargin;if(null==i)return null;var a=r?4:0,o=e.length+2*a,s=Math.floor(.1*n),l=o/n,h=(i.width||s)*l,u=(i.height||s)*l,c=null==i.x?e.length/2-h/2:i.x*l,d=null==i.y?e.length/2-u/2:i.y*l,p=null;if(i.excavate){var f=Math.floor(c),v=Math.floor(d);p={x:f,y:v,w:Math.ceil(h+c-f),h:Math.ceil(u+d-v)}}return{x:c,y:d,h:u,w:h,excavation:p}}var qi=function(){try{(new Path2D).addPath(new Path2D)}catch(t){return!1}return!0}(),Gi=function(t){function e(){var t,i;Ri(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Li(Ii(i=Mi(this,(t=Bi(e)).call.apply(t,[this].concat(r)))),"_canvas",void 0),Li(Ii(i),"_image",void 0),Li(Ii(i),"state",{imgLoaded:!1}),Li(Ii(i),"handleImageLoad",(function(){i.setState({imgLoaded:!0})})),i}return Di(e,Fi.PureComponent),Si(e,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"componentWillReceiveProps",value:function(t){var e,i;(null===(e=this.props.imageSettings)||void 0===e?void 0:e.src)!==(null===(i=t.imageSettings)||void 0===i?void 0:i.src)&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var t=this.props,e=t.value,i=t.size,n=t.level,r=t.bgColor,a=t.fgColor,o=t.includeMargin,s=t.imageSettings,l=new Vi(-1,ji[n]);if(l.addData(Ui(e)),l.make(),null!=this._canvas){var h=this._canvas,u=h.getContext("2d");if(!u)return;var c=l.modules;if(null===c)return;var d=o?4:0,p=c.length+2*d,f=Xi(this.props,c);null!=s&&null!=f&&null!=f.excavation&&(c=Zi(c,f.excavation));var v=window.devicePixelRatio||1;h.height=h.width=i*v;var m=i/p*v;u.scale(m,m),u.fillStyle=r,u.fillRect(0,0,p,p),u.fillStyle=a,qi?u.fill(new Path2D(Hi(c,d))):c.forEach((function(t,e){t.forEach((function(t,i){t&&u.fillRect(i+d,e+d,1,1)}))})),this.state.imgLoaded&&this._image&&null!=f&&u.drawImage(this._image,f.x+d,f.y+d,f.w,f.h)}}},{key:"render",value:function(){var t=this,e=this.props;e.value;var i=e.size;e.level,e.bgColor,e.fgColor;var n=e.style;e.includeMargin;var r=e.imageSettings,a=Ai(e,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),o=Ci({height:i,width:i},n),s=null,l=r&&r.src;return null!=r&&null!=l&&(s=Fi.createElement("img",{src:l,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(e){return t._image=e}})),Fi.createElement(Fi.Fragment,null,Fi.createElement("canvas",_i({style:o,height:i,width:i,ref:function(e){return t._canvas=e}},a)),s)}}]),e}();Li(Gi,"defaultProps",Ni);var Wi=function(t){function e(){return Ri(this,e),Mi(this,Bi(e).apply(this,arguments))}return Di(e,Fi.PureComponent),Si(e,[{key:"render",value:function(){var t=this.props,e=t.value,i=t.size,n=t.level,r=t.bgColor,a=t.fgColor,o=t.includeMargin,s=t.imageSettings,l=Ai(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),h=new Vi(-1,ji[n]);h.addData(Ui(e)),h.make();var u=h.modules;if(null===u)return null;var c=o?4:0,d=u.length+2*c,p=Xi(this.props,u),f=null;null!=s&&null!=p&&(null!=p.excavation&&(u=Zi(u,p.excavation)),f=Fi.createElement("image",{xlinkHref:s.src,height:p.h,width:p.w,x:p.x+c,y:p.y+c,preserveAspectRatio:"none"}));var v=Hi(u,c);return Fi.createElement("svg",_i({shapeRendering:"crispEdges",height:i,width:i,viewBox:"0 0 ".concat(d," ").concat(d)},l),Fi.createElement("path",{fill:r,d:"M0,0 h".concat(d,"v").concat(d,"H0z")}),Fi.createElement("path",{fill:a,d:v}),f)}}]),e}();Li(Wi,"defaultProps",Ni);var Yi=function(t){var e=t.renderAs,i=Ai(t,["renderAs"]),n="svg"===e?Wi:Gi;return Fi.createElement(n,i)};Yi.defaultProps=Ci({renderAs:"canvas"},Ni);var Ki=Yi;var Qi="_login_15uuw_1";const $i={marginLeft:"16px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer"},Ji=()=>{const[t,s]=v.exports.useState("account"),[l,h]=v.exports.useState(!1),u=P(),c={num:[4,7],rps:.1,radius:[5,40],life:[1.5,3],v:[2,3],tha:[-40,40],alpha:[.6,0],scale:[1,.1],position:"all",color:["random","#ff0000"],cross:"dead",random:15,g:5,onParticleUpdate:(t,e)=>{t.beginPath(),t.rect(e.p.x,e.p.y,2*e.radius,2*e.radius),t.fillStyle=e.color,t.fill(),t.closePath()}},d=async s=>{var l,c;h(!0),(async t=>J("/api/login",{method:"POST",data:t}))((l=((t,e)=>{for(var i in e||(e={}))r.call(e,i)&&o(t,i,e[i]);if(n)for(var i of n(e))a.call(e,i)&&o(t,i,e[i]);return t})({},s),c={loginType:t},e(l,i(c)))).then((t=>{var e,i;h(!1),Q(null==(e=t.data)?void 0:e.role),localStorage.token=null==(i=t.data)?void 0:i.token,$.saveCurrentUser(null==t?void 0:t.data),C.success(t.message||"登陆成功"),u.push("/home")})).finally((()=>{h(!1)}))};return f.createElement(x,null,(()=>f.createElement("div",{style:{height:"100vh",background:"snow"},className:Qi},f.createElement(Y,{content:"金皮卡",fontColor:"gold",fontSize:18,gapX:100,gapY:100,style:{height:"100%"}},f.createElement(ge,{logo:tt,title:"Jin Pi Ka",subTitle:"通用的vite-react后台项目",onFinish:d,submitter:{render:e=>["qrcode"!==t&&f.createElement(E,{type:"primary",size:"large",key:"submit",style:{width:"100%"},loading:l,onClick:()=>{var t,i;return null==(i=null==(t=e.form)?void 0:t.submit)?void 0:i.call(t)}},"登录")]},actions:f.createElement(_,null,"其他登录方式",f.createElement(Zt,{style:$i}),f.createElement(Jt,{style:$i}),f.createElement(ie,{style:$i}))},f.createElement(Ut,{delay:300},f.createElement("div",{key:"tab"},f.createElement(T,{activeKey:t,onChange:t=>{s(t),h(!1)}},f.createElement(T.TabPane,{key:"phone",tab:"手机号登录"}),f.createElement(T.TabPane,{key:"account",tab:"账号密码登录"}),f.createElement(T.TabPane,{key:"qrcode",tab:"二维码登陆"}))),"account"===t&&f.createElement(f.Fragment,null,f.createElement(X,{name:"userName",fieldProps:{size:"large",prefix:f.createElement(K,{className:"prefixIcon"})},placeholder:"用户名: user",rules:[{required:!0,message:"请输入用户名!"}]}),f.createElement(X.Password,{name:"password",fieldProps:{size:"large",prefix:f.createElement(Gt,{className:"prefixIcon"})},placeholder:"密码: q123456",rules:[{required:!0,message:"请输入密码！"}]})),"phone"===t&&f.createElement(f.Fragment,null,f.createElement(X,{fieldProps:{size:"large",prefix:f.createElement(Kt,{className:"prefixIcon"})},name:"mobile",placeholder:"手机号",rules:[{required:!0,message:"请输入手机号！"},{pattern:/^1\d{10}$/,message:"手机号格式错误！"}]}),f.createElement(G,{fieldProps:{size:"large",prefix:f.createElement(Gt,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"请输入验证码",captchaTextRender:(t,e)=>t?`${e} 获取验证码`:"获取验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码！"}],onGetCaptcha:async()=>{C.success("获取验证码成功！验证码为：1234")}})),"qrcode"===t&&f.createElement(f.Fragment,null,f.createElement(A,null,f.createElement(Ki,{style:{width:"100%",height:"100%"},level:"M",value:"https://gitee.com/jinxin0517/vite-react-ts-admin"}))),f.createElement("div",{key:"loginBtn",style:{marginBottom:24}},f.createElement(ce,{noStyle:!0,name:"autoLogin"},"自动登录"),f.createElement("a",{style:{float:"right"}},"忘记密码"))))),f.createElement(Ne,{type:"custom",config:c,bg:{zIndex:0,position:"absolute",top:"0px",left:"0px",pointerEvents:"none"}}))))};export{Ji as default};
