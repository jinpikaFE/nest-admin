var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;"undefined"!=typeof require&&require;import{c as s,d as l,e as u,f as h,g as c,h as d,i as p,j as f,R as v,r as m,k as g,l as y,n as b,o as w,p as k,u as x,O as P,q as E,s as _,T,t as C,v as O}from"./vendor.6b110da5.js";import{c as S,P as A,r as R,a as M,b as I}from"./index.de14bc76.js";import{A as B}from"./index.10b1c10a.js";import{P as D}from"./index.d8cb9eb3.js";import{W as z,U as L,s as F,l as V}from"./login.c2496364.js";import{h as j}from"./untils.fef0d0c5.js";import"./index.ade18ff5.js";function U(){}var N=/#([0-9a-f]{6}|[0-9a-f]{3})|((rgb|hsl)[a]?)+\(\d+\,[\s+]?\d+\%?\,[\s+]?\d+\%?(\,[\s+]?[0|1](\.?[0-9]+)?)?\)/,H=!("undefined"!=typeof window&&window.document&&window.document.createElement),X=Date.now;var Z={type:"to",duration:450,delay:0,repeat:0,repeatDelay:0,appearTo:0,yoyo:!1,ease:"easeInOutQuad",onStart:U,onUpdate:U,onComplete:U,onRepeat:U,startAt:{}},q={animation:{},paused:!1,reverse:!1,delay:0,repeat:0,repeatDelay:0,yoyo:!1,moment:null,resetStyle:!1,regionStartTime:0,regionEndTime:void 0,onChange:U,onChangeTimeline:U},Y=function(t){var e={};return Object.keys(q).forEach((function(n){e[n]=void 0===t[n]?q[n]:t[n]})),e.delay&&(e.delay=Math.round(e.delay)),t.repeatDelay&&(e.repeatDelay=Math.round(e.repeatDelay)),e},G=function(t){if(Array.isArray(t)||!t)return t;if(t.length){var e=Array.prototype.slice.call(t);return e.length?[t]:e}return[t]},W=function(t){return 1===t.length?t[0]:t},K=function(t,e){var n,r=e.appearTo,i=void 0===r?0:r,a=e.delay,o=void 0===a?0:a,s=e.duration,l=void 0===s?450:s,u=e.repeat,h=e.repeatDelay;if("string"==typeof i)return 0;var c=0;return"number"==typeof t.appearTo?t.appearTo:("string"==typeof t.appearTo&&"="===t.appearTo.charAt(1)&&(c=parseFloat(t.appearTo.replace("=",""))),n=i+o+l+c,-1===u?n=Number.MAX_VALUE:u&&(n=i+o+l*(u+1)+(h||0)*u+c),n)},Q=function(t){switch(t){case"opacity":case"scaleX":case"scaleY":case"scale":return 1;default:return 0}},$=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;return"+="===r||"-="===r?t+e*n+(i||0):(e-t)*n+t+(i||0)},J={margin:1,padding:1,borderWidth:1,borderRadius:1};function tt(t){var e=t.target,n=t.computedStyle,r=t.style,i=t.value,a=t.startUnit,o=t.endUnit,s=t.fixed,l=t.isOriginWidth,u=t.useCurrentTarget;if(H)return i;var h=/(?:Left|Right|Width|X)/i.test(r)||l;h="padding"===r||"marign"===r||h;var c,d,p,f=-1!==r.indexOf("border")||-1!==r.indexOf("translate")||"transformOrigin"===r||u?e:e.parentNode||document.body;switch(f=s?document.body:f,a){case"%":c=parseFloat(i)/100*(h?f.clientWidth:f.clientHeight);break;case"vw":c=parseFloat(i)*document.body.clientWidth/100;break;case"vh":c=parseFloat(i)*document.body.clientHeight/100;break;case"em":n?c=parseFloat(i)*parseFloat(n.fontSize):(p="em",c=parseFloat(i));break;case"rem":n?(d=window.getComputedStyle(document.getElementsByTagName("html")[0]),c=parseFloat(i)*parseFloat(d.fontSize)):(p="rem",c=parseFloat(i));break;default:c=parseFloat(i)}switch(o){case"%":c=c?100*c/(h?f.clientWidth:f.clientHeight):0;break;case"vw":c=parseFloat(i)/document.body.clientWidth*100;break;case"vh":c=parseFloat(i)/document.body.clientHeight*100;break;case"em":n?c=parseFloat(i)/parseFloat(n.fontSize):(p="em",c=parseFloat(i));break;case"rem":n?(d=d||window.getComputedStyle(document.getElementsByTagName("html")[0]),c=parseFloat(i)/parseFloat(d.fontSize)):(p="rem",c=parseFloat(i))}return p&&console.warn("Warning: Element is not 'DOM, can not use '".concat(p,"', automatically convert to animation units.")),c}function et(t){if("string"==typeof t)return t;var e=t.perspective,n=t.rotate,r=t.rotateX,i=t.rotateY,a=t.scaleX,o=t.scaleY,s=t.scaleZ,l=t.skewX,u=t.skewY,h="string"==typeof t.translateX?t.translateX:"".concat(t.translateX,"px"),c="string"==typeof t.translateY?t.translateY:"".concat(t.translateY,"px"),d="string"==typeof t.translateZ?t.translateZ:"".concat(t.translateZ,"px"),p=l||u?"skew(".concat(l,"deg,").concat(u,"deg)"):"",f=n?"rotate(".concat(n,"deg)"):"",v=1!==a||1!==o||1!==s?"scale3d(".concat(a,",").concat(o,",").concat(s,")"):"",m=r?"rotateX(".concat(r,"deg)"):"",g=i?"rotateY(".concat(i,"deg)"):"",y=e?"perspective(".concat(e,"px)"):"",b=v||f||m||g||p?"":"translate(0px, 0px)",w=t.translateZ?"translate3d(".concat(h,",").concat(c,",").concat(d,")"):(t.translateX||t.translateY)&&"translate(".concat(h,",").concat(c,")")||b;return"".concat(y," ").concat(w," ").concat(v," ").concat(f," ").concat(m," ").concat(g," ").concat(p).trim()}var nt,rt={brightness:1,contrast:1,grayScale:0,hueRotate:"0deg",sepia:0,invert:0},it=new function t(){var e=this;s(this,t),this.push=function(t){G(t).forEach((function(t){e[t.className]=t}))},this.register=this.push},at={};Object.defineProperty(at,"__esModule",{value:!0}),at.toCssLowerCase=function(t){return t.replace(/[A-Z]/,(function(t){return"-"+t.toLocaleLowerCase()}))},at.toStyleUpperCase=Et,at.toFixed=_t,at.createMatrix=function(t){if("undefined"==typeof document)return null;var e=["WebKitCSS","MozCSS","DOM","MsCSS","MSCSS","OCSS","CSS"].filter((function(t){return t+"Matrix"in window}));if(e.length)return new window[e[0]+"Matrix"](t);return console.warn("Browsers do not support matrix."),""};var ot=at.checkStyleName=function(t){if("undefined"==typeof document)return null;if("filter"!==t&&t in document.body.style)return t;var e=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"].filter((function(t){return""+t+e in document.body.style}));return n[0]?""+n[0]+e:null},st=at.getGsapType=function(t){var e=t;return e="z"===(e="y"===(e="x"===e?"translateX":e)?"translateY":e)?"translateZ":e},lt=at.parseColor=Tt,ut=at.parseShadow=function(t,e){var n=e&&Et(e);if(!t)return"boxShadow"===n?[0,0,0,0,0,0,0,0]:[0,0,0,0,0,0,0];var r=t.replace(/,\s+/gi,",").split(/\s+/).filter((function(t){return t})),i=r.indexOf("inset");i>=0&&r.splice(i,1);var a=r.find((function(t){return bt[t]||t.match(/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})|(rgb|hsl)+(?:a)?\((.*)\)/i)}))||"black",o=r.indexOf(a);r.splice(o,1);var s=Tt(a);s[3]="number"==typeof s[3]?s[3]:1,"boxShadow"===n&&r.length<4&&r.push(0);return r.concat(s,i>=0?["inset"]:[])},ht=at.getColor=function(t){var e=4===t.length?"rgba":"rgb",n=t.map((function(t,e){return e<3?Math.round(t):t}));return e+"("+n.join(",")+")"};at.isTransform=Ct;var ct=at.isConvert=function(t){var e=Ct(t);return Pt.filter.indexOf(e)>=0?"filter":e},dt=at.splitFilterToObject=function(t){if("none"===t||!t||""===t)return null;var e=t.replace(/\s+/g,"").split(")").filter((function(t){return t})),n={};return e.forEach((function(t){var e=t.split("(");n[e[0]]=e[1]})),n};at.getMatrix=Ot;var pt=at.getTransform=function(t){var e=t&&"none"!==t&&""!==t?t:"matrix(1, 0, 0, 1, 0, 0)";if(!e.match("matrix"))return function(t){var e={translateX:0,translateY:0,translateZ:0,rotate:0,rotateX:0,rotateY:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,skewY:0,perspective:0};return(t.trim().match(/(\w+)\([^\)]+\)/gi)||[]).forEach((function(t){var n=t.split("("),r=n[0].trim(),i=n[1].replace(")","").trim();i.match(/%|em|rem/gi)&&console.warn("value("+i+") must be absolute, not relative, has been converted to absolute."),i=i.replace(/px|deg|\)/gi,""),Pt.transformGroup[r]&&"rotate"!==r?(i=i.split(",").map((function(t){return parseFloat(t)})),"scale3d"===r||"translate3d"===r?["X","Y","Z"].forEach((function(t,n){var a=r.substring(0,r.length-2);e[""+a+t]=i[n]||e[""+a+t]})):"rotate3d"===r?(e.rotateX=i[0]&&i[3]||e.rotateX,e.rotateY=i[1]&&i[3]||e.rotateY,e.rotate=i[2]&&i[3]||e.rotate):["X","Y"].forEach((function(t,n){e[""+r+t]=i[n]||e[""+r+t]}))):"rotateZ"===r?e.rotate=parseFloat(i)||e.rotate:e[r]=parseFloat(i)||e[r]})),e}(t);var n=Ot(e),r=n.m11,i=n.m12,a=n.m13,o=n.m14,s=n.m21,l=n.m22,u=n.m23,h=n.m24,c=n.m31,d=n.m32,p=n.m33,f=n.m34,v=n.m43,m=void 0,g=void 0,y=void 0,b={},w=Math.atan2(u,p),k=Math.tan(s),x=Math.tan(i),P=void 0,E=void 0;b.rotateX=_t(w*kt)||0,w&&(P=Math.cos(-w),E=Math.sin(-w),m=s*P+c*E,g=l*P+d*E,y=u*P+p*E,c=s*-E+c*P,d=l*-E+d*P,p=u*-E+p*P,f=h*-E+f*P,s=m,l=g,u=y);w=Math.atan2(-a,p),b.rotateY=_t(w*kt)||0,w&&(P=Math.cos(-w),E=Math.sin(-w),g=i*P-d*E,y=a*P-p*E,d=i*E+d*P,p=a*E+p*P,f=o*E+f*P,r=m=r*P-c*E,i=g,a=y);w=Math.atan2(i,r),b.rotate=_t(w*kt)||0,w&&(P=Math.cos(w),E=Math.sin(w),m=r*P+i*E,g=s*P+l*E,y=c*P+d*E,i=i*P-r*E,l=l*P-s*E,d=d*P-c*E,r=m,s=g,c=y);b.rotateX&&Math.abs(b.rotateX)+Math.abs(b.rotate)>359.9&&(b.rotateX=b.rotate=0,b.rotateY=180-b.rotateY||0);return b.scaleX=_t(Math.sqrt(r*r+i*i+a*a)),b.scaleY=_t(Math.sqrt(l*l+u*u)),b.scaleZ=_t(Math.sqrt(c*c+d*d+p*p)),b.skewX=k===-x?0:k,b.skewY=x===-k?0:x,b.perspective=f?1/(f<0?-f:f):0,b.translateX=n.m41,b.translateY=n.m42,b.translateZ=v,b},ft=at.stylesToCss=function(t,e){var n=void 0;vt[t]||"number"!=typeof e?"content"!==t||gt.test(e)||(n="'"+e.replace(/'/g,"\\'")+"'"):n=" "+e+"px";return n||e};at.getUnit=function(t,e){var n=e&&e.toString().replace(/[^a-z|%]/gi,""),r="";t.indexOf("translate")>=0||t.indexOf("perspective")>=0||t.indexOf("blur")>=0?r="px":(t.indexOf("skew")>=0||t.indexOf("rotate")>=0)&&(r="deg");return n||r},at.getValues=function(t,e,n){return t+"("+e+(n||"")+")"},at.findStyleByName=St,at.mergeStyle=function(t,e){if(!t||""===t)return e;if(!e||""===e)return t;var n=t.replace(/\s/g,"").split(")").filter((function(t){return""!==t&&t})).map((function(t){return t+")"}));return e.replace(/\s/g,"").split(")").filter((function(t){return t!==""&&t})).forEach((function(t){var e=t.split("(")[0],r=St(n,e);if(r){var i=n.indexOf(r);n[i]=t+")"}else n.push(t+")")})),n.forEach((function(t,e){t.indexOf("perspective")>=0&&e&&(n.splice(e,1),n.unshift(t))})),n.join(" ").trim()};var vt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];Object.keys(vt).forEach((function(t){mt.forEach((function(e){vt[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(e,t)]=vt[t]}))}));var gt=/^(normal|none|(\b(url\([^)]*\)|chapter_counter|attr\([^)]*\)|(no-)?(open|close)-quote|inherit)((\b\s*)|$|\s+))+)$/,yt="undefined"!=typeof document&&!(!navigator||!(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0)),bt={aqua:[0,255,255,1],lime:[0,255,0,1],silver:[192,192,192,1],black:[0,0,0,1],maroon:[128,0,0,1],teal:[0,128,128,1],blue:[0,0,255,1],navy:[0,0,128,1],white:[255,255,255,1],fuchsia:[255,0,255,1],olive:[128,128,0,1],yellow:[255,255,0,1],orange:[255,165,0,1],gray:[128,128,128,1],purple:[128,0,128,1],green:[0,128,0,1],red:[255,0,0,1],pink:[255,192,203,1],cyan:[0,255,255,1],transparent:[255,255,255,0]},wt=function(t,e,n){var r=t>1?t-1:t;return 255*(6*(r=t<0?t+1:r)<1?e+(n-e)*r*6:r<.5?n:3*r<2?e+(n-e)*(2/3-r)*6:e)+.5|0},kt=180/Math.PI,xt={_lists:{transformsBase:["translate","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ","rotate"],transforms3D:["translate3d","translateZ","scaleZ","rotateX","rotateY","perspective"]},transformGroup:{translate:1,translate3d:1,scale:1,scale3d:1,rotate:1,rotate3d:1,skew:1},filter:["grayScale","sepia","hueRotate","invert","brightness","contrast","blur"],filterConvert:{grayScale:"grayscale",hueRotate:"hue-rotate"}};xt._lists.transformsBase=yt?xt._lists.transformsBase:xt._lists.transformsBase.concat(xt._lists.transforms3D);var Pt=nt=at.cssList=xt;function Et(t){return t.replace(/-(.?)/g,(function(t){return t.replace("-","").toLocaleUpperCase()}))}function _t(t,e){var n=e?Math.pow(10,e):1e5,r=0|t,i=t-r,a=t;if(i){var o=(i*n+(t<0?-.5:.5)|0)/n,s=0|o;a=(t<0&&!(r+s)?"-":"")+(r+s)+"."+(o.toString().split(".")[1]||"")}return parseFloat(a)}function Tt(t){var e=void 0,n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=t,u=/(?:\d|\-\d|\.\d|\-\.\d)+/g;return l?"number"==typeof l?e=[l>>16,l>>8&255,255&l]:(","===l.charAt(l.length-1)&&(l=l.substr(0,l.length-1)),bt[l]?e=bt[l]:"#"===l.charAt(0)?(4===l.length&&(n=l.charAt(1),r=l.charAt(2),i=l.charAt(3),l="#"+n+n+r+r+i+i),e=[(l=parseInt(l.substr(1),16))>>16,l>>8&255,255&l,1]):"hsl"===l.substr(0,3)?(e=l.match(u),a=Number(e[0])%360/360,o=Number(e[1])/100,n=2*(s=Number(e[2])/100)-(r=s<=.5?s*(o+1):s+o-s*o),e.length>3&&(e[3]=Number(e[3])),e[0]=wt(a+1/3,n,r),e[1]=wt(a,n,r),e[2]=wt(a-1/3,n,r)):e=l.match(u)||bt.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3?e[3]=Number(e[3]):e[3]=1):e=bt.black,e}function Ct(t){return Pt._lists.transformsBase.indexOf(t)>=0?"transform":t}function Ot(t){var e=t.match(/(?:\-|\b)[\d\-\.e]+\b/gi),n={};return 6===e.length?(n.m11=parseFloat(e[0]),n.m12=parseFloat(e[1]),n.m13=0,n.m14=0,n.m21=parseFloat(e[2]),n.m22=parseFloat(e[3]),n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=parseFloat(e[4]),n.m42=parseFloat(e[5]),n.m43=0,n.m44=0):e.forEach((function(t,e){var r=e%4+1,i=Math.floor(e/4)+1;n["m"+i+r]=parseFloat(t)})),n}function St(t,e){var n=null;return t&&t.forEach((function(t){if(!n){var r=t.split("(")[0],i=r in Pt.transformGroup&&e.substring(0,e.length-1).indexOf(r)>=0,a=e in Pt.transformGroup&&r.substring(0,r.length-1).indexOf(e)>=0,o=r in Pt.transformGroup&&e in Pt.transformGroup&&(r.substring(0,r.length-2)===e||e.substring(0,e.length-2)===r);(r===e||i||a||o)&&(n=t)}})),n}var At=function t(e){var n=this;s(this,t),this.props=e,this.tweenVars={},this.start={},this.startAt={},this.propsData={data:{},type:{},unit:{},count:{},splitStr:{},isTransform:{}},this.setDefaultData=function(){var t=n.props;for(var e in t){var r=t[e],i=r.split&&r.split(/\s+|,/).length>1||e.match(/color|fill|stroke/i)||e.match(/shadow/i);if(("background"===e||"backgroundImage"===e)&&r.match(/[a-z|-]+\(([\s\S]*?)\)/gi))n.propsData.data[e]={value:r,plugin:it.GradientsPlugin};else if(i)n.propsData.data[e]={value:r,plugin:it.ArrayPlugin};else{var a=st(e),o=n.getTweenData(a,t[e]);n.propsData.data[a]=o.data[a],n.propsData.type[a]=o.type[a],n.propsData.unit[a]=o.unit[a],n.propsData.count[a]=o.count[a],n.propsData.isTransform[a]="transform"===ct(a),o.splitStr[a]&&(n.propsData.splitStr[a]=o.splitStr[a])}}},this.getTweenData=function(t,e){var n={data:{},isTransform:{},type:{},unit:{},count:{},splitStr:{}},r=e;n.data[t]=r;var i="string"==typeof n.data[t];n.unit[t]=i?n.data[t].replace(/[^a-z|%]/g,""):"",n.count[t]=i?n.data[t].replace(/[^+|=|-]/g,""):"";var a=i?parseFloat(n.data[t].replace(/[a-z|%|=]/g,"")):n.data[t];return n.data[t]=a||0===a?a:n.data[t],n},this.getAnimStart=function(){var t,e,r=n.target,i=n.root,a=n.targetIndex,o=n.propsData,s=n.startAt,u=n.start,h=n.tweenVars,c={};for(var d in s)c[st(d)]=s[d];for(var p in n.computedStyle=n.computedStyle||function(t){return t&&"undefined"!=typeof window&&document.defaultView?document.defaultView.getComputedStyle(t):{}}(r),h.style=h.style||{},o.data){var f,v,m=o.data[p];if(m.plugin){var g=new m.plugin(m.value,p);g.target=r,g.root=i,g.parent=parent,g.index=n.index,g.targetIndex=a,g.tweenVars=i.vars[a]||{},g.startAt=n.startAt,g.computedStyle=n.computedStyle,m.plugin=g,u[p]=g.getAnimStart()}else{var y=ct(p),b=null!==(f=null!==(v=c[p])&&void 0!==v?v:u[y])&&void 0!==f?f:n.computedStyle[y];b&&"none"!==b&&"auto"!==b||(b="");var w=void 0,k=void 0;if("transform"===y){if(t=t||(u.transform?l({},u.transform):null),p in c)(t=t||pt())[p]=c[p],"scale"===p&&(t.scaleX=c[p],t.scaleY=c[p]);else{b=n.computedStyle[n.transformName],w=o.unit[p],t=t||pt(b);var x=/%|vw|vh|em|rem/i;w&&w.match(x)&&(t[p]=t[p]&&t[p].toString().match(x)?parseFloat(t[p]):tt({target:r,computedStyle:n.computedStyle,style:p,value:t[p],endUnit:w}))}u.transform=t}else if("filter"===y){var P,E=nt.filterConvert[p]||p;if(e=e||u[y]||null,p in c?(e=e||{})[E]=c[p]:(b=n.computedStyle[n.filterName],w=o.unit[p],(e=e||(b&&"none"!==b&&"auto"!==b?dt(b):{}))[E]=e[E]||rt[p]||0),k=(b=e[E]||0).toString().replace(/[^a-z|%]/g,""),(w=n.propsData.unit[p])!==k)e[E]=tt({target:r,computedStyle:n.computedStyle,style:y,value:parseFloat(b),startUnit:k,endUnit:w,fixed:"fixed"===(null===(P=n.computedStyle)||void 0===P?void 0:P.position)});u[y]=e}else{var _;if((w=o.unit[y])!==(k="string"==typeof b?b.replace(/[^a-z|%]/g,""):""))b=tt({target:r,computedStyle:n.computedStyle,style:y,value:parseFloat(b),startUnit:k,endUnit:w,fixed:"fixed"===(null===(_=n.computedStyle)||void 0===_?void 0:_.position)});u[y]=parseFloat(b||0)}}}return u},this.render=function(t){var e=n.propsData,r=n.start,i=n.tweenVars.style||{};r.transform&&!i[n.transformName]&&(i[n.transformName]=l({},r.transform)),r.filter&&!i[n.filterName]&&(i[n.filterName]=l({},r.filter));var a=i[n.transformName],o=i[n.filterName],s=e.data,u=e.unit,h=e.count,c=e.isTransform;for(var d in s){var p=s[d];if(p.plugin)i[d]=p.plugin.render(t);else{var f=c[d],v=f?r.transform[d]:r[d],m=u[d],g=h[d];if(f){if(m&&m.match(/%|vw|vh|em|rem/i))v=parseFloat(v),"="===g.charAt(1)?a[d]=v+p*t+(m||0):a[d]=(p-v)*t+v+(m||0);else if("scale"===d){var y=r.transform.scaleX,b=r.transform.scaleY;"="===g.charAt(1)?(a.scaleX=y+p*t,a.scaleY=b+p*t):(a.scaleX=(p-y)*t+y,a.scaleY=(p-b)*t+b)}else"="===g.charAt(1)?a[d]=v+p*t:a[d]=(p-v)*t+v;a.text=et(i.transform)}else if(nt.filter.indexOf(d)>=0){var w=nt.filterConvert[d]||d;for(var k in v=parseFloat(r.filter[w])||0,"="===g.charAt(1)?o[d]=v+p*t+(m||0):o[w]=(p-v)*t+v+(m||0),o.text="",o)"text"!==k&&(o.text="".concat(o.text," ").concat(k,"(").concat(o[k],")").trim())}else{var x=ft(d,0);x="number"==typeof x?0:x.replace(/[^a-z|%]/g,""),m=m||x,"string"==typeof p?i[d]=p:"="===g.charAt(1)?i[d]=v+p*t+m:i[d]=(p-v)*t+v+m}}}return i},this.transformName=ot("transform"),this.filterName=ot("filter")||"filter",this.setDefaultData()};At.key="style",At.className="style";var Rt=function t(e,n){var r=this;s(this,t),this.value=e,this.key=n,this.start=[],this.tweenVars={},this.vars={},this.propsData={data:[],unit:[],count:[]},this.setDefaultData=function(t,e){var n=r.propsData,i=r.value,a=u(i);"color"===t&&(a[3]=a[3]||1),n.type=t,n.data=a.map((function(t){return parseFloat(t)||0===parseFloat(t)?parseFloat(t):t})),n.unit=a.map((function(t){return t.toString().replace(/[^a-z|%]/g,"")})),n.count=a.map((function(t){return t.toString().replace(/[^+|=|-]/g,"")})),e&&(n.splitStr=e)},this.convertToMarksArray=function(t,e,n,i){var a=(n||"").toString().replace(/[^a-z|%]/g,""),o="number"==typeof i?t[i]:void 0;return a===o?parseFloat(n):parseFloat(n)||0===parseFloat(n)?tt({target:r.target,computedStyle:r.computedStyle,style:e,value:n,startUnit:a,endUnit:o,isOriginWidth:"transformOrigin"===e&&!i}):n},this.getAnimStart=function(){var t,e=r.startAt,n=r.target,i=r.key,a=r.propsData,o=r.computedStyle,s=r.tweenVars,c=l({},e);c="shadow"===a.type&&c[i]?ut(c[i],i):c,c="color"===a.type&&c[i]?lt(c[i]):c,c="string"===a.type&&c[i]?c[i].split(/[\s|,]/):c;var d,p,f,v,m=null!==(t=s[i])&&void 0!==t?t:(o||n)[i];(m&&"none"!==m&&"auto"!==m||(m=""),c[i]||(c[i]="shadow"===a.type?ut(m||"",i):m,c[i]="color"===a.type&&c[i]?lt(c[i]):c[i],c[i]="string"===a.type&&c[i]?c[i].split(/[\s|,]/):c[i]),J[i])&&(c[i][1]=null!==(d=c[i][1])&&void 0!==d?d:c[i][0],c[i][2]=null!==(p=c[i][2])&&void 0!==p?p:c[i][0],c[i][3]=null!==(f=null!==(v=c[i][3])&&void 0!==v?v:c[i][1])&&void 0!==f?f:c[i][0]);var g=a.data.indexOf("inset"),y=u(a.data);g>=0&&y.splice(g,1);var b=y.map((function(t,e){return"string"==typeof t?t:c[i]&&void 0!==h(c[i][e])?c[i][e]:"color"===a.type&&e>=y.length-1?1:0})),w=a.unit;return b=b.map((function(t,e){return"NaN"===parseFloat(t).toString()?t:r.convertToMarksArray(w,i,t,e)})),r.start=b.concat(g>=0?"inset":[]),r.start},this.render=function(t){var e=r.start,n=r.propsData,i=n.type,a=n.splitStr,o=n.data,s=n.count,l=n.unit,u=o.map((function(n,r){return"string"==typeof n?n:$(e[r],n,t,s[r],l[r])}));switch(i){case"string":u=u.join(a);break;case"color":u=ht(u);break;case"shadow":var h=e.indexOf("inset")>=0,c=u.indexOf("inset")>=0;h!==c&&console.warn('Warning: "box-shadow" inset is different, automatically convert to animation param.');var d=c?u.filter((function(t){return"inset"!==t})):u,p=d.slice(0,d.length-4).map((function(t){return"number"==typeof t?"".concat(t,"px"):t})),f=ht(d.slice(d.length-4,d.length));u="".concat(p.join(" ")," ").concat(f," ").concat(c?"inset":"").trim()}return u};var i="",a="";"string"==typeof e&&(n.match(/color|fill|stroke/i)?(this.value=lt(e),i="color"):n.match(/shadow/i)?(this.value=ut(e,n),i="shadow"):(a=e.replace(/[^\s|,]/g,"").replace(/\s+/g," "),this.value=e.split(/[\s|,]/),i="string")),this.setDefaultData(i,a)};Rt.className="ArrayPlugin";var Mt={"to top":"0deg","to top right":"45deg","to right top":"45deg","to right":"90deg","to right bottom":"135deg","to bottom right":"135deg","to bottom":"180deg","to bottom left":"225deg","to left bottom":"225deg","to left":"270deg","to left top":"315deg","to top left":"315deg"},It={center:"50% 50%",top:"50% 0%","top right":"100% 0%","right top":"100% 0%",right:"100% 50%","right bottom":"100% 100%","bottom right":"100% 100%",bottom:"50% 100%","bottom left":"0% 100%","left bottom":"0% 100%",left:"0% 50%","left top":"0% 0%","top left":"0% 0%"},Bt=["closest-side","closest-corner","farthest-side","farthest-corner"],Dt=function(t,e,n){console.warn("Warning: The gradient ".concat(t,"(").concat(e," => ").concat(n,") is different, which has been automatically converted to animation gradient ").concat(t,"(").concat(n,")."))},zt=function(t){return"url"===t||t.indexOf("image")>=0||"paint"===t||"cross-fade"===t||"element"===t},Lt=function t(e){var n=this;s(this,t),this.start=[],this.tweenVars={},this.vars=[],this.defaultStartVars=[],this.getPosition=function(t){return t.map((function(t){return{data:parseFloat(t),unit:t.replace(/[^a-z|%]/g,"")}}))},this.getAngle=function(t,e){var r,i,a,o;switch(t.replace(/-|gradient|repeating]/g,"")){case"linear":a=n.getPosition((Mt[e]||e||Mt["to bottom"]).split(" "));break;case"radial":var s=e.split(" ");r=s.find((function(t){return Bt.indexOf(t)>=0}))||Bt[3],i=s.find((function(t){return"circle"===t||"ellipse"===t}))||"ellipse";var l=new RegExp("".concat(r,"|").concat(i,"|at"),"g"),u=e.replace(l,"").trim();o=n.getPosition((It[u]||u||It.center).split(" "));break;case"conic":var h=e.split("at").map((function(t){return t.trim()})),c=(h[0]||"").split(" ");i=c[0]||"from",a=n.getPosition([c[1]||"0deg"]),o=n.getPosition((It[h[1]]||h[1]||It.center).split(" "))}return{extent:r,shape:i,angle:a,position:o}},this.valueToIValue=function(t){return t?t.replace(/\),\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/,")#,#$1").split("#,#").map((function(t){var e=t.replace(/([a-z|-]+)\((.*)\)/,"$1").trim();if("url"===e)return{type:e,values:t};var r=t.replace(/([a-z|-]+)\((.*)\)/,"$2").replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\(\d+\,[\s+]?\d+[\%]?\,[\s+]?\d+[\%]?(\,\d+)?\)/gi,(function(t){return t.replace(/\s+/g,"")})).replace(/\,([a-z|#|\s+])/g,"#,#$1").split("#,#").map((function(t){return t.trim()})),i=r[0].match(N)?"":r[0];return i&&r.splice(0,1),{type:e,angle:n.getAngle(e,i),values:r.map((function(t){var e,n=t.trim().split(/\s+/),r=(n[0].match(N),n[0]);return r&&(n.splice(0,1),e=lt(r)),{color:e,positions:n.map((function(t){return{data:parseFloat(t),unit:t.toString().replace(/[^a-z|%]/g,"")}}))}}))}})):[]},this.getAnimStart=function(){var t,e=n.startAt,r=n.key,i=n.computedStyle,a=n.target,o=n.vars,s=n.tweenVars,u=l({},e),h=null!==(t=s[r])&&void 0!==t?t:(i||a)[r];h&&"none"!==h&&"auto"!==h||(h=""),u[r]||(u[r]=h?n.valueToIValue(h):n.defaultStartVars);var c=(Math.max(o.length,u[r].length)===u[r].length?u[r]:o).map((function(t,e){var i,a,s,h,c=u[r][e]||n.defaultStartVars[e],d=o[e]||c;if(c&&c.type===d.type||(c.type!==d.type&&Dt("type",c.type,d.type),c=n.defaultStartVars[e]),zt(d.type)||"string"==typeof d.values||"string"==typeof c.values)return l({},d);(null===(i=d.angle)||void 0===i?void 0:i.extent)!==(null===(a=c.angle)||void 0===a?void 0:a.extent)&&Dt("extent keyword",null===(s=c.angle)||void 0===s?void 0:s.extent,null===(h=d.angle)||void 0===h?void 0:h.extent);var p=Math.max(c.values.length,d.values.length)===c.values.length?c.values:d.values;return c.values=p.map((function(t,e){var n=c.values[e],r=d.values[e]||n;return l(l({},n),{},{positions:(r||n).positions.map((function(t,i){var a=n?n.positions[i]||n.positions[n.positions.length-1]:r.positions[r.positions.length-1],o=t||a;return!a&&n&&c.values.length&&(a={data:100/(c.values.length-1)*e,unit:"%"}),o.unit!==a.unit&&Dt("units",a.unit,o.unit),{data:a.data,unit:o.unit}}))})})),c}));return n.start=c,n.start},this.render=function(t){var e="";return(Math.max(n.vars.length,n.start.length)===n.vars.length?n.vars:n.start).forEach((function(r,i){var a=n.start[i],o=n.vars[i]||a;if(!zt(o.type)&&"string"!=typeof o.values&&o.angle){var s=(Math.max(a.values.length,o.values.length)===a.values.length?a.values:o.values).map((function(e,n){var r=a.values[n],i=o.values[n];i||(i=r);var s=r.color,h=r.positions;!s&&i.color&&(s=u(i.color)),h||(h=i.positions.map((function(t){return l({},t)})));var c=i.color?i.color.map((function(e,n){return $(s[n],e,t)})):i.color,d=i.positions.map((function(e,n){return"".concat($(h[n].data,e.data,t)).concat(e.unit)})).join(" ");return"".concat(c?ht(c):c||""," ").concat(d).trim()})),h=o.angle,c=h.angle&&h.angle.map((function(e,n){return"".concat($(a.angle.angle[n].data,e.data,t)).concat(e.unit)})).join(" "),d=h.position&&h.position.map((function(e,n){return"".concat($(a.angle.position[n].data,e.data,t)).concat(e.unit)})).join(" "),p="".concat(h.extent||""," ").concat(h.shape||""," ").concat(c||""," ").concat(d?"at ".concat(d):"").trim();e+="".concat(e?",":""," ").concat(o.type,"(").concat(p?"".concat(p,","):"").concat(s.join(","),")").trim()}else e+="".concat(e?",":""," ").concat(o.values).trim()})),e},this.value=e,this.key="backgroundImage",this.vars=this.valueToIValue(e),this.defaultStartVars=this.vars.map((function(t){return zt(t.type)||"string"==typeof t.values?l({},t):l(l({},t),{},{values:t.values.map((function(t){var e;return t.color&&"string"!=typeof t.color?(e=u(t.color))[3]=0:e=t.color,{color:e,positions:u(t.positions)}}))})}))};Lt.className="GradientsPlugin";var Ft={exports:{}},Vt={exports:{}};(function(){var t,e,n,r,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?Vt.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(Vt.exports=function(){return(t()-i)/1e6},e=process.hrtime,r=(t=function(){var t;return 1e9*(t=e())[0]+t[1]})(),a=1e9*process.uptime(),i=r-a):Date.now?(Vt.exports=function(){return Date.now()-n},n=Date.now()):(Vt.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(c);for(var jt=Vt.exports,Ut="undefined"==typeof window?c:window,Nt=["moz","webkit"],Ht="AnimationFrame",Xt=Ut["request"+Ht],Zt=Ut["cancel"+Ht]||Ut["cancelRequest"+Ht],qt=0;!Xt&&qt<Nt.length;qt++)Xt=Ut[Nt[qt]+"Request"+Ht],Zt=Ut[Nt[qt]+"Cancel"+Ht]||Ut[Nt[qt]+"CancelRequest"+Ht];if(!Xt||!Zt){var Yt=0,Gt=0,Wt=[];Xt=function(t){if(0===Wt.length){var e=jt(),n=Math.max(0,16.666666666666668-(e-Yt));Yt=n+e,setTimeout((function(){var t=Wt.slice(0);Wt.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(Yt)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return Wt.push({handle:++Gt,callback:t,cancelled:!1}),Gt},Zt=function(t){for(var e=0;e<Wt.length;e++)Wt[e].handle===t&&(Wt[e].cancelled=!0)}}Ft.exports=function(t){return Xt.call(Ut,t)};var Kt=Ft.exports.cancel=function(){Zt.apply(Ut,arguments)};Ft.exports.polyfill=function(t){t||(t=Ut),t.requestAnimationFrame=Xt,t.cancelAnimationFrame=Zt};var Qt=Ft.exports,$t=new(function(){function t(){var e=this;s(this,t),this.lagThreshold=150,this.adjustedLag=33,this.emptyTime=0,this.elapsed=0,this.frameFPS=1e3/240,this.startTime=0,this.prevTime=0,this.useTimeout=!1,this.lastUpdate=this.startTime,this.nextTime=this.frameFPS,this.id=-1,this.tweenId=0,this.tickFn=[],this.state="sleep",this.time=0,this.frame=0,this.removeReq=function(t){return e.useTimeout?clearTimeout(t):Kt(t)},this.tick=function(){var t=e.tickFn;e.startTime||(e.startTime=X()-e.frameFPS,e.lastUpdate=e.startTime),e.elapsed=X()-e.lastUpdate,e.elapsed>e.lagThreshold&&(e.startTime+=e.elapsed-e.adjustedLag),e.lastUpdate+=e.elapsed,e.time=e.lastUpdate-e.startTime;var n=e.time-e.nextTime;if(n>0){e.frame++,e.nextTime+=n+(n>=e.frameFPS?4:e.frameFPS-n);for(var r=e.time-e.prevTime,i=0;i<t.length;i++)t[i].fn({time:e.time,elapsed:r<e.frameFPS?e.frameFPS:r});e.prevTime=e.time}if(!e.tickFn.length&&(e.emptyTime||(e.emptyTime=e.time+500),e.time>=e.emptyTime))return e.emptyTime=0,void e.sleep();e.req&&(e.id=e.req(e.tick))},this.wake=function(){e.id&&e.sleep(),e.req=e.useTimeout?function(t){return setTimeout(t,e.frameFPS)}:Qt,e.tick(),e.state="wake"},this.sleep=function(){e.removeReq(e.id),e.id=-1,e.req=void 0,e.state="sleep"},this.add=function(t){var n="TweenOneTicker_".concat(e.tweenId);return e.tweenId+=1,-1===e.tickFn.findIndex((function(t){return t.key===n}))&&e.tickFn.push({key:n,fn:t}),e.emptyTime=0,e.req||e.wake(),n},this.clear=function(t){e.tickFn=e.tickFn.filter((function(e){return e.key!==t&&e.fn!==t}))},this.timeout=function(t,n){if("function"!=typeof t)return console.warn("not function");var r=e.time,i=e.add((function(){e.time-r>=(n||0)&&(e.clear(i),t())}));return i},this.interval=function(t,n){if("function"!=typeof t)return console.warn("not function"),null;var r=e.time;return e.add((function(){e.time-r>=(n||0)&&(r=e.time,t())}))}}return d(t,[{key:"fps",value:function(t,e){this.frameFPS=1e3/(t||240),this.nextTime=this.time+this.frameFPS,this.useTimeout=void 0===e?this.useTimeout:e,this.useTimeout&&(this.req=function(e){return setTimeout(e,t)})}}]),t}()),Jt=function(){function t(){var e=this;s(this,t),this.children=[],this.autoSleep=200,this.addChild=function(t){-1===e.children.indexOf(t)?(e.children.push(t),e.updateTickerState()):e.start()},this.removeChild=function(t){e.children=e.children.filter((function(e){return e!==t})),e.updateTickerState()},this.kill=function(t){e.children=e.children.filter((function(e){var n=e.root.targets.map((function(e,n){if(-1===t.indexOf(e))return e;delete e._tweenOneVars}));e.root.targets=n;var r=!!n.filter((function(t){return t})).length;return r||e.kill(),r})),e.updateTickerState()},this.killAll=function(t){t&&(e.children.forEach((function(t){null==t||t.root.targets.forEach((function(t){t&&delete t._tweenOneVars}))})),e.children=[]),$t.clear(e.tickerKey),e.tickerKey=void 0},this.getTotalTime=function(){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n],i=r.pausedState?0:r.startTime+r.totalTime;t=t?Math.max(i,t):i}return t},this.updateTickerState=function(){e.children.length&&e.children.some((function(t){return!(null==t?void 0:t.pausedState)&&(!(null==t?void 0:t.reverseState)&&t.progressTime<t.totalTime||(null==t?void 0:t.reverseState)&&t.progressTime>0)}))?e.start():e.killAll(!e.children.length)},this.start=function(){e.tickerKey||(e.tickerKey=$t.add(e.render))},this.render=function(t){for(var n=t.time,r=t.elapsed,i=void 0===r?0:r,a=e.children,o=a.length,s=0;s<o;s++){var l=a[s];if(l){var u=l.startTime-i,h=l.startTime+l.totalTime+i;n>u&&n<h&&!l.pausedState&&l.render({time:n,elapsed:i})}}}}return d(t,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),t}(),te={linear:function(t,e,n,r){return(n-e)*t/r+e},easeInQuad:function(t,e,n,r){return(n-e)*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-(n-e)*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return(n-e)*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return(n-e)*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return(n-e)*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-(n-e)*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return(n-e)*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return(n-e)*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var i=n-e;return-i*Math.cos(t/r*(Math.PI/2))+i+e},easeOutSine:function(t,e,n,r){return(n-e)*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-(n-e)/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0==t?e:(n-e)*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var i=n-e;return t==r?e+i:i*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){var i=n-e;return 0===t?e:t===r?e+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-(n-e)*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return(n-e)*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i,a,o,s=n-e;return o=1.70158,0===t?e:1==(t/=r)?e+s:((a=0)||(a=.3*r),(i=s)<Math.abs(s)?(i=s,o=a/4):o=a/(2*Math.PI)*Math.asin(s/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)+e)},easeOutElastic:function(t,e,n,r){var i,a,o,s=n-e;return o=1.70158,0===t?e:1==(t/=r)?e+s:((a=0)||(a=.3*r),(i=s)<Math.abs(s)?(i=s,o=a/4):o=a/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/a)+s+e)},easeInOutElastic:function(t,e,n,r){var i,a,o,s=n-e;return o=1.70158,0===t?e:2==(t/=r/2)?e+s:((a=0)||(a=r*(.3*1.5)),(i=s)<Math.abs(s)?(i=s,o=a/4):o=a/(2*Math.PI)*Math.asin(s/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*.5+s+e)},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(n-e)*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(n-e)*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){var a=n-e;return void 0===i&&(i=1.70158),(t/=r/2)<1?a/2*(t*t*((1+(i*=1.525))*t-i))+e:a/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,e,n,r){var i=n-e;return i-te.easeOutBounce(r-t,0,i,r)+e},easeOutBounce:function(t,e,n,r){var i=n-e;return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var i=n-e;return t<r/2?.5*te.easeInBounce(2*t,0,i,r)+e:.5*te.easeOutBounce(2*t-r,0,i,r)+.5*i+e}},ee=te;ee.path=function(t,e){var n=e||{};if(H)return"linear";for(var r=function(t){if("string"==typeof t){if(t.charAt(0).match(/m/i)){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}return document.querySelector(t)}if(t.style)return t;throw new Error("Error while parsing the path")}(t),i=r.getTotalLength(),a=n.rect||100,o=n.lengthPixel||200,s=[],l=0;l<o-1;l++)s.push(r.getPointAtLength(i/(o-1)*l));return s.push(r.getPointAtLength(o)),function(t,e,n,o){var l=ee.linear(t,e,n,o),u=a*l;return 1-(s.filter((function(t){return t.x>=u}))[0]||r.getPointAtLength(l*i)).y/a}};var ne=function(){function t(e){var n=this;s(this,t),this.item=e,this.vars={},this.startAt={},this.appearTo=0,this.props={},this.repeatNum=0,this.setEase=function(t){"function"!=typeof t?t.match(/,/g)?n.easing=ee.path(t):n.easing=ee[t]:n.easing=t},this.getTotalTime=function(){var t=n.props,e=t.duration,r=void 0===e?450:e,i=t.delay,a=void 0===i?0:i,o=t.repeat,s=void 0===o?0:o,l=t.repeatDelay,u=void 0===l?0:l;return-1===s?Number.MAX_VALUE:a+r*(s+1)+u*s},this.getEaseToRatio=function(t,e){var r=n.props.ease,i=void 0===r?"":r;return 0!==t&&1!==t||"function"==typeof i||i.match(/,/g)?n.easing(e?1-t:t,e?1:0,e?0:1,1):t},this.setRatioToVars=function(t){for(var e=n.vars,r=n.root,i=0;i<r.targets.length;i++)if(r.targets[i])for(var a in e){var o=e[a];if(o.plugins)"PathMotion"===a?r.vars[i].style=o.plugins[i].render(t):r.vars[i][a]=o.plugins[i].render(t);else{var s=o.vars,l=o.count,u=o.unit,h=n.start[i][a];r.vars[i][a]=$(h,s,t,l,u)}}},this.onRegisterAnimate=function(){n.register=!0;for(var t=n.root,e=n.parent,r=n.startAt,i=[],a=0;a<t.targets.length;a++){var o=t.targets[a],s={};for(var l in n.vars){var u=n.vars[l];if(u.plugins){var h=new it[u.array?"ArrayPlugin":l](u.value,l);h.target=o,h.root=t,h.parent=e,h.targetIndex=a,h.tweenVars=t.vars[a],h.index=n.index,h.startAt=n.startAt,s[l]=h.getAnimStart(),u.plugins.push(h)}else{var c,d,p=null!==(c=null!==(d=r[l])&&void 0!==d?d:t.attr?o.getAttribute(l):o[l])&&void 0!==c?c:Q(l),f="".concat(p).replace(/[^a-z|%]/g,""),v=u.unit;f&&f!==v&&console.warn("Different units, start unit ".concat(f,", to value unit ").concat(v,", remove start unit.")),s[l]=parseFloat(p)}}i.push(s)}n.start=i},this.overflowRatio=function(t){var e=t<0?0:t,r=n.props.duration;return e=e>r?r:e},this.render=function(t){var e=t.moment,r=t.fps,i=void 0===r?0:r,a=t.silence,o=t.render,s=n.parent,l=n.root,u=n.props,h=W(l.targets),c=s.onChange,d=u.repeat,p=void 0===d?0:d,f=u.type,v=void 0===f?"to":f,m=u.duration,g=void 0===m?450:m,y=u.delay,b=void 0===y?0:y,w=u.repeatDelay,k=void 0===w?0:w,x=u.yoyo;p=-1===p?Number.MAX_VALUE:p;var P=e-b,E=Math.floor(P/(g+k))||0;P-=(g+k)*(E=(E=E>p?p:E)<0?0:E);var _=!!(x&&E%2),T="from"===v,C=(!_||!T)&&(_||T);P=C?g-P:P;var O=T?0:b,S=C?1:0;if(!n.register&&e>=O&&(n.onRegisterAnimate(),(C&&P<=0||!C&&P>=g&&g)&&(n.prevMoment=e,S=C?0:1),n.setRatioToVars(S),c({index:n.index,vars:l.vars})),n.register&&e>b-i&&e<n.totalTime+i){P=n.overflowRatio(P),S=C?1:0,e>=n.totalTime&&"onComplete"!==n.mode&&void 0!==n.prevMoment||void 0===n.prevMoment&&e>=n.totalTime&&g?(S=C?0:1,n.mode="onComplete",n.props.onComplete&&n.props.onComplete({mode:n.mode,index:n.index,moment:P,ratio:S,targets:h,vars:W(l.vars)})):void 0===n.prevMoment||e<=0&&e>-i&&"onStart"!==n.mode&&n.prevMoment>e?(n.mode="onStart",n.props.onStart&&n.props.onStart({mode:n.mode,index:n.index,moment:P,ratio:S,targets:h,vars:W(l.vars)})):(S=P/g,n.mode="onUpdate",n.props.onUpdate&&n.props.onUpdate({mode:n.mode,index:n.index,moment:P,ratio:S,targets:h,vars:W(l.vars)})),p&&E!==n.repeatNum&&e&&"onUpdate"===n.mode&&(n.mode="onRepeat",n.props.onRepeat&&n.props.onRepeat({mode:n.mode,index:n.index,moment:P,ratio:S,targets:h,vars:W(n.root.vars)})),n.setRatioToVars(n.getEaseToRatio(S,T)),p&&(n.repeatNum=E);var A={mode:n.mode,moment:P,repeat:E,ratio:S,targets:l.targets,vars:l.vars,index:n.index};a&&(A.silence=a),o&&(A.render=o),c(A),n.prevMoment=e}},this.startAt=e.startAt||{};var r={};for(var i in e){var a=e[i];if(i in Z)r[i]=a;else{var o=(Array.isArray(a)||i.match(/color|fill|stroke/i)||i.match(/shadow/i)||"string"==typeof a&&a.split(/[\s|,]/).length>1)&&!(i in it);if(i in it||o)this.vars[i]={value:a,plugins:[],array:o};else{var u=parseFloat(a.toString().replace(/=/g,"")),h=a.toString().replace(/[^a-z|%]/g,""),c="="===a.toString().charAt(1)?a.toString().replace(/[^\+\=|\-\=]/gi,""):"",d=(this.startAt[i]||0).toString().replace(/[^a-z|%]/g,"");h!==d&&this.startAt[i]&&this.startAt[i]!==Q(i)&&console.warn("Warning: animation vars(".concat(a,") units(").concat(h||"px",") are not equal to startAt(").concat(d||"px",").")),this.vars[i]={vars:u,unit:h,count:c}}}}this.props=l(l({},Z),r),this.setEase(this.props.ease)}return d(t,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),t}(),re=function t(e){var n=this;s(this,t),this.props=e,this.children=[],this.totalTime=0,this.totalTimeRegion=0,this.childTotalTime=0,this.childRegionTotalTime=0,this.progressTime=0,this.progressMoment=-1,this.startMoment=0,this.startTime=0,this.repeatNum=0,this.mode="onTimelineStart",this.regionStartTime=0,this.init=function(){for(var t=n.props,e=t.reverse,r=t.animation,i=t.moment,a=G(r),o=0;o<a.length;o++){var s=a[o];"set"===s.type&&(s.duration=0);var l=new ne(s);l.index=o;var u=o?K(s,a[o-1]):0;s.appearTo=u,l.appearTo=u,n.addChild(l)}n.render({time:(e?n.totalTime:0)+n.startTime,elapsed:16.67}),n.totalTime||n.render({time:(e?n.totalTime:0)+n.startTime,elapsed:16.67}),i?n.goto(i):n.play()},this.addChild=function(t){t.parent=n,t.root=n.root,-1===n.children.indexOf(t)&&(n.children.push(t),n.setTotalTime())},this.setTotalTime=function(){n.childTotalTime=0,n.childRegionTotalTime=0;for(var t=0;t<n.children.length;t++){var e=n.children[t];if(e.appearTo!==n.childTotalTime){var r=e.appearTo+e.totalTime;r>n.childTotalTime&&(n.childTotalTime=r,n.childRegionTotalTime=r)}else n.childTotalTime+=e.totalTime,n.childRegionTotalTime+=e.totalTime}n.regionStartTime&&(n.childRegionTotalTime-=n.regionStartTime),n.regionEndTime&&(n.childRegionTotalTime=n.regionEndTime-n.regionStartTime);var i=n.props,a=i.repeat,o=void 0===a?0:a,s=i.repeatDelay,l=void 0===s?0:s,u=i.delay;n.totalTime=-1===o?Number.MAX_VALUE:u+n.childTotalTime*(o+1)+l*o,n.totalTimeRegion=-1===o?Number.MAX_VALUE:u+n.childRegionTotalTime*(o+1)+l*o},this.setStartTimeOrMoment=function(t){n.startTime=$t.time,n.startMoment=t||n.progressMoment},this.reRenderCall=function(){n.render({time:n.startTime,elapsed:$t.elapsed||$t.frameFPS})},this.play=function(t){var e,r;t?null===(e=n.parent)||void 0===e||e.updateTickerState():null===(r=n.parent)||void 0===r||r.addChild(n)},this.paused=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.pausedState=t,n.setStartTimeOrMoment(),n.play(t)},this.reverse=function(t){n.reverseState=t,n.setStartTimeOrMoment(),n.play(n.pausedState)},this.goto=function(t,e){var r=t-n.regionStartTime;n.startTime=$t.time,n.startMoment=r>n.totalTime?n.totalTime:r,n.progressMoment=n.startMoment,n.progressTime=r,n.play(n.pausedState),n.reRenderCall(),!!e!==n.pausedState&&n.paused(e)},this.kill=function(t){"number"==typeof t?(n.paused(),delete n.children[t],n.setTotalTime(),n.paused(!1)):n.children=[]},this.onChange=function(t){t.timelineMoment=n.progressMoment,n.onChangeChild(t)},this.render=function(t){var e=t.time,r=t.elapsed||$t.frameFPS||0,i=n.totalTime,a=n.totalTimeRegion,o=n.childTotalTime,s=n.childRegionTotalTime,l=n.children,u=n.props,h=n.startTime,c=n.reverseState,d=n.pausedState,p=n.startMoment,f=n.onChangeTimeline,v=n.parent,m=n.root,g=n.prevMoment,y=n.regionStartTime,b=u.repeatDelay,w=void 0===b?0:b,k=u.yoyo,x=u.delay,P=u.repeat,E=void 0===P?0:P;E=-1===E?Number.MAX_VALUE:E;var _=e-h-x,T=c?p-_:_+p;if(!(T<-r)){var C=T<0?0:T;C=C>i?i:C,C=p<y?T:C,C=p>a?p:C;var O=E?Math.floor(C/(s+w)):0,S=C-(s+w)*(O=E&&O>E?E:O),A=!!(k&&O%2);S=y+(S=A?s-S:S);var R=c?!A:A;if(n.mode="onTimelineUpdate","number"!=typeof g&&(n.mode="onTimelineStart"),!("number"==typeof g&&(S>=o||R&&S<=0)&&o&&(n.mode="onTimelineRepeatComplete",S>=o+r||S<-r))){if(C>=i-x&&"number"==typeof g&&(n.mode="onTimelineComplete"),O!==n.repeatNum&&(n.mode="onTimelineRepeat",C>n.childTotalTime*O&&C<n.childTotalTime*O+r)){for(var M=l.length-1;M>=0;M--){var I=l[M];R||(I.prevMoment=void 0),I.render({moment:R?I.totalTime:0,fps:r})}f({moment:C,totalTime:i,repeat:O,mode:n.mode,targets:m.targets}),n.mode="onTimelineUpdate"}n.progressMoment=C,n.prevMoment=C,n.progressTime=_;for(var B=0;B<l.length;B++){var D=l[B],z=D.totalTime+D.appearTo,L=S>=D.appearTo-r&&S<z+r;if("onComplete"!==D.mode&&S>z+r&&(D.render({moment:D.totalTime,fps:r}),D.prevMoment=void 0),S<D.appearTo-r&&D.mode&&"onStart"!==D.mode&&(D.render({moment:0,fps:r,silence:!0}),D.prevMoment=void 0,D.mode=void 0),L){var F;if(S>z&&"onComplete"===D.mode)return;F=S>z?z:S,D.render({moment:F-D.appearTo,fps:r}),z||(D.render({moment:D.totalTime,fps:r,render:!0}),D.prevMoment=void 0)}}E&&(n.repeatNum=O),f({moment:C,totalTime:i,repeat:O,mode:n.mode,targets:m.targets}),(d||a&&T+x>=a&&!c||c&&T+x<=0)&&v.removeChild(n)}}};var r=this.props,i=r.paused,a=r.reverse;this.reverseState=a,this.pausedState=i,this.regionStartTime=e.regionStartTime||0,this.regionEndTime=e.regionEndTime};it.push(Rt),it.push(Lt),it.push(At);var ie=0,ae=new Jt,oe=function(){function t(e,n){var r=this;s(this,t),this.targets=e,this.props=n,this.$reverse=!1,this.vars=[],this.init=function(){var t=p(f.mark((function t(e){var n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Y(e),r.targets[0].tagName&&!r.attr&&(n.animation=G(n.animation).map((function(t){var e={style:{}};for(var n in t)n in it||n in Z?e[n]=t[n]:e.style[n]=t[n];return Object.keys(e.style).length||delete e.style,t.duration&&(t.duration=Math.round(t.duration)),t.delay&&(t.delay=Math.round(t.delay)),t.appearTo&&(t.appearTo=Math.round(t.appearTo)),t.repeatDelay&&(t.repeatDelay=Math.round(t.repeatDelay)),e}))),r.animate=new re(n),r.animate.id="TweenOne_".concat(ie),ie++,r.animate.startTime=r.initTime,r.animate.onChangeChild=r.onChange,r.animate.onChangeTimeline=r.onChangeTimeline,r.animate.root=r,r.animate.parent=r.timeline,r.animate.init();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.renderToDom=function(){for(var t=0;t<r.vars.length;t++){var e=r.vars[t];for(var n in e){var i=e[n],a=r.targets[t];if(a)if(r.props.attr&&a.tagName&&a.setAttribute){if("style"===n)for(var o in i)a.style[o]=i[n];a.setAttribute(n,i)}else if(n in it&&a.tagName){var s=it[n].key;if("function"==typeof a[s])a[s](i.attr,i.path);else if(s&&"object"===h(i))for(var l in i){var u=i[l];a[s][l]=u.text||u}else s&&(a[s]=i)}else a[n]=i}}},this.onChange=function(t){"onComplete"===t.mode&&t.render&&r.renderToDom(),t.mode&&r.props.onChange&&!t.silence&&(t.targets=W(t.targets),t.vars=W(t.vars),r.props.onChange(t))},this.onChangeTimeline=function(t){r.renderToDom(),t.mode&&r.props.onChangeTimeline&&(t.targets=W(t.targets),t.vars=W(r.vars),r.props.onChangeTimeline(t))},this.goto=function(t,e){r.targets.forEach((function(t){t&&Object.keys(t._tweenOneVars||{}).forEach((function(e){delete t._tweenOneVars[e]}))})),r.animate.goto(t,e)},this.kill=function(t){r.animate.kill(t)},this.timeline=ae,this.initTime=$t.time,this.attr=n.attr,e.forEach((function(t){r.vars.push(t._tweenOneVars)})),this.init(n)}return d(t,[{key:"paused",set:function(t){this.animate.paused(t)},get:function(){return this.animate.pausedState}},{key:"reverse",set:function(t){this.$reverse=t,this.animate.reverse(t)},get:function(){return this.$reverse}},{key:"regionStartTime",set:function(t){this.animate.regionStartTime=t,this.animate.setTotalTime()},get:function(){return this.animate.regionStartTime}},{key:"regionEndTime",set:function(t){this.animate.regionEndTime=t,this.animate.setTotalTime()},get:function(){return this.animate.regionEndTime||this.animate.totalTime}}]),t}(),se=function(t,e){if(!t)return console.error("Error: targets is undefined.");"wake"!==$t.state&&$t.wake();var n=G(t).map((function(t){return t._tweenOneVars=t._tweenOneVars||{},t})),r=n.filter((function(t){return t.tagName})),i=n.filter((function(t){return!t.tagName})),a=[];return r.length&&a.push(new oe(r,e)),i.length&&a.push(new oe(i,e)),W(a)};se.kill=function(t){void 0===t?ae.killAll(!0):ae.kill(G(t))},se.plugins=it;var le=!("undefined"!=typeof window&&window.document&&window.document.createElement);function ue(t){var e=[];return v.Children.forEach(t,(function(t){e.push(t)})),e}function he(t,e){var n=null;return t&&t.forEach((function(t){!n&&t&&t.key===e&&(n=t)})),n}function ce(t,e,n){var r;return r="function"==typeof t?t({key:e,index:n}):t,Array.isArray(r)?2===r.length?r:[r[0],r[0]]:[r,r]}var de={left:{opacity:[1,0],translateX:[0,-30]},top:{opacity:[1,0],translateY:[0,-30]},right:{opacity:[1,0],translateX:[0,30]},bottom:{opacity:[1,0],translateY:[0,30]},alpha:{opacity:[1,0]},scale:{opacity:[1,0],scale:[1,0]},scaleBig:{opacity:[1,0],scale:[1,2]},scaleX:{opacity:[1,0],scaleX:[1,0]},scaleY:{opacity:[1,0],scaleY:[1,0]}},pe=["component","componentProps","interval","duration","delay","type","animConfig","ease","leaveReverse","forcedReplay","animatingClassName","onEnd","appear"],fe=function(){},ve=m.exports.forwardRef((function(t,e){var n=t.component,r=void 0===n?"div":n,i=t.componentProps,a=void 0===i?{}:i,o=t.interval,s=void 0===o?100:o,h=t.duration,c=void 0===h?450:h,d=t.delay,p=void 0===d?0:d,f=t.type,v=void 0===f?"right":f,w=t.animConfig,k=void 0===w?null:w,x=t.ease,P=void 0===x?"easeOutQuart":x,E=t.leaveReverse,_=void 0!==E&&E,T=t.forcedReplay,C=void 0!==T&&T,O=t.animatingClassName,S=void 0===O?["queue-anim-entering","queue-anim-leaving"]:O,A=t.onEnd,R=void 0===A?fe:A,M=t.appear,I=void 0===M||M,B=g(t,pe),D=m.exports.useRef({}),z=m.exports.useRef([]),L=m.exports.useRef([]),F=m.exports.useRef([]),V=m.exports.useRef([]),j=m.exports.useRef({}),U=m.exports.useRef({}),N=m.exports.useRef({}),H=m.exports.useRef({}),X=m.exports.useRef(!1),Z=m.exports.useRef([]),q=m.exports.useState(),Y=y(q,2),G=Y[0],W=Y[1],K=m.exports.useState({}),Q=y(K,2),$=Q[0],J=Q[1],tt=function(t,e,n){var r={};return Object.keys(t).forEach((function(i){Array.isArray(t[i])?r[i]=t[i][e]:(!n&&!e||n&&e)&&(r[i]=t[i])})),r},et=function(t,e,n){return Array.isArray(t)?t.map((function(t){return tt(t,e,n)})):tt(t,e,n)},nt=function(t,e,n,r){return k?et(ce(k,t,e)[n],r,n):(i=ce(v,t,e)[n],et(de[i],r));var i},rt=function(t,e){var n=e.targets;n.className=n.className.replace(S[1],""),-1===n.className.indexOf(S[0])&&(n.className="".concat(n.className," ").concat(S[0]).trim()),z.current.indexOf(t)>=0&&z.current.splice(z.current.indexOf(t),1),D.current[t]=!0},it=function(t,e){if(!(F.current.indexOf(t)>=0)){var n=e.targets;n.className=n.className.replace(S[0],"").trim(),delete H.current[t],R({key:t,type:"enter",target:n})}},at=function(t,e){var n=e.targets;n.className=n.className.replace(S[0],""),-1===n.className.indexOf(S[1])&&(n.className="".concat(n.className," ").concat(S[1]).trim())},ot=function(e,n){if(ue(t.children).findIndex((function(t){return t&&t.key===e})),!(ue(t.children).findIndex((function(t){return t&&t.key===e}))>=0)){if(delete D.current[e],delete H.current[e],Z.current=Z.current.filter((function(t){return t.key!==e})),F.current.indexOf(e)>=0&&F.current.splice(F.current.indexOf(e),1),!F.current.some((function(t){return $[t]}))){var r=ue(t.children);W(r),J(l({},D.current)),V.current.forEach((function(t){delete N.current[t]}))}var i=n.targets;i.className=i.className.replace(S[1],"").trim(),R({key:e,type:"leave",target:i})}},st=function(t,e){var n=ce(s,t,e)[0],r=ce(p,t,e)[0];j.current[t]=$t.timeout((function(){!function(t){$[t]=!0,$t.clear(j.current[t]),delete j.current[t],J(l({},$))}(t)}),n*e+r)},lt=function(t){$t.clear(j.current[t]),delete j.current[t]},ut=function(t,e,n,r){var i=function(t,e,n){var r="enter"===n?0:1,i="enter"===n?1:0,a=nt(t,e,r,"enter"===n?0:1),o="enter"!==n||!C&&D.current[t]?null:nt(t,e,r,i),s=ce(P,t,e)[r],l=ce(c,t,e)[r];return Array.isArray(P)&&(P.length>2||Array.isArray(P[0]))&&(s=s.map((function(t){return 100*t})),s="M0,100C".concat(s[0],",").concat(100-s[1],",").concat(s[2],",").concat(100-s[3],",100,0")),{startAnim:o,animate:a,ease:s,duration:l}}(t,e,r),a=function(e){("enter"===r?rt:at)(t,e)},o=function(e){("enter"===r?it:ot)(t,e)};if(Array.isArray(i.animate)){var s=i.animate.length-1;return i.animate.map((function(t,e){return l(l({},t),{},{startAt:i.startAnim?i.startAnim[e]:void 0,duration:i.duration/s,delay:e||"leave"!==r?0:n,onStart:e?void 0:a,onComplete:e===s?o:void 0})}))}return l(l({},i.animate),{},{startAt:i.startAnim||void 0,ease:i.ease,duration:i.duration,onStart:a,onComplete:o,delay:n})};return m.exports.useEffect((function(){return function(){Object.keys(H.current).forEach((function(t){var e=H.current[t];e&&e.kill()}))}}),[]),m.exports.useEffect((function(){var e,n,r,i,a,o=ue(t.children).filter((function(t){return t})),s=Z.current.filter((function(t){return t})),u=(e=o,r=[],i={},a=[],s.forEach((function(t){t&&(he(e,t.key)?(a.length&&(i[t.key]=a,a=[]),n=t.key):t.key&&a.push(t))})),n||(r=r.concat(a)),e.forEach((function(t){t&&(i.hasOwnProperty(t.key)&&(r=r.concat(i[t.key])),r.push(t),t.key===n&&(r=r.concat(a)))})),r),h=[],c=[];if(I||X.current)s.forEach((function(t){if(t){var e=t.key;!he(o,e)&&e&&(c.push(e),$t.clear(j.current[e]),delete j.current[e])}})),o.forEach((function(t){if(t){var e=t.key;(!he(s,e)&&e||(!N.current[e]||"leave"===N.current[e]||z.current.indexOf(e)>=0)&&-1===c.indexOf(e))&&h.push(e)}}));else{var d={};u.forEach((function(t){t&&t.key&&(d[t.key]=!0)})),Z.current=u,D.current=l({},d),J(d)}z.current=h,L.current=[].concat(h),F.current=c,V.current=[].concat(c),W(u)}),[t.children]),m.exports.useLayoutEffect((function(){if(Z.current=G||[],I||X.current){var t=u(z.current),e=u(F.current);t.forEach(st),e.forEach(lt)}G&&(X.current=!0)}),[G]),m.exports.useLayoutEffect((function(){G&&G.forEach((function(t){var e=t.key,n=U.current[e];if(n){var r,i=F.current.indexOf(e),a=ce(s,e,i),o=ce(p,e,i);if(i>=0){if("leave"===N.current[e])return;var u=_?F.current.length-i-1:i,h=a[1]*u+o[1];r=ut(e,i,h,"leave"),N.current[e]="leave"}else{if("enter"===N.current[e]||-1===z.current.indexOf(e))return;i=L.current.indexOf(e);var c=a[0]*i+o[0];r=ut(e,i,"leave"===N.current[e]?c:0,"enter"),N.current[e]="enter"}if(H.current[e]&&H.current[e].kill(),C){var d=l(l({},Array.isArray(r)?r[0].startAt:r.startAt),{},{type:"set"});se(n,{animation:d})}H.current[e]=se(n,{animation:r})}}))}),[$,G]),m.exports.useMemo((function(){if(le)return m.exports.createElement(r,l(l(l({},B),a),{},{ref:e}));var t=ue(G).map((function(t){return t&&t.key?$[t.key]&&m.exports.cloneElement(t,{ref:function(e){U.current[t.key]=e instanceof Element?e:b.exports.findDOMNode(e),e||delete U.current[t.key]},key:t.key}):t})),n=l(l(l({},B),a),{},{ref:e});return m.exports.createElement(r,n,t)}),[$,G])})),me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M308.6 545.7c-19.8 2-57.1 10.7-77.4 28.6-61 53-24.5 150 99 150 71.8 0 143.5-45.7 199.8-119-80.2-38.9-148.1-66.8-221.4-59.6zm460.5 67c100.1 33.4 154.7 43 166.7 44.8A445.9 445.9 0 00960 512c0-247.4-200.6-448-448-448S64 264.6 64 512s200.6 448 448 448c155.9 0 293.2-79.7 373.5-200.5-75.6-29.8-213.6-85-286.8-120.1-69.9 85.7-160.1 137.8-253.7 137.8-158.4 0-212.1-138.1-137.2-229 16.3-19.8 44.2-38.7 87.3-49.4 67.5-16.5 175 10.3 275.7 43.4 18.1-33.3 33.4-69.9 44.7-108.9H305.1V402h160v-56.2H271.3v-31.3h193.8v-80.1s0-13.5 13.7-13.5H557v93.6h191.7v31.3H557.1V402h156.4c-15 61.1-37.7 117.4-66.2 166.8 47.5 17.1 90.1 33.3 121.8 43.9z"}}]},name:"alipay-circle",theme:"outlined"},ge=function(t,e){return m.exports.createElement(B,l(l({},t),{},{ref:e,icon:me}))};ge.displayName="AlipayCircleOutlined";var ye=m.exports.forwardRef(ge),be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},we=function(t,e){return m.exports.createElement(B,l(l({},t),{},{ref:e,icon:be}))};we.displayName="LockOutlined";var ke=m.exports.forwardRef(we),xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},Pe=function(t,e){return m.exports.createElement(B,l(l({},t),{},{ref:e,icon:xe}))};Pe.displayName="MobileOutlined";var Ee=m.exports.forwardRef(Pe),_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zM315.7 291.5c27.3 0 49.5 22.1 49.5 49.4s-22.1 49.4-49.5 49.4a49.4 49.4 0 110-98.8zM366.9 578c-13.6 42.3-10.2 26.7-64.4 144.5l-78.5-49s87.7-79.8 105.6-116.2c19.2-38.4-21.1-58.9-21.1-58.9l-60.2-37.5 32.7-50.2c45.4 33.7 48.7 36.6 79.2 67.2 23.8 23.9 20.7 56.8 6.7 100.1zm427.2 55c-15.3 143.8-202.4 90.3-202.4 90.3l10.2-41.1 43.3 9.3c80 5 72.3-64.9 72.3-64.9V423c.6-77.3-72.6-85.4-204.2-38.3l30.6 8.3c-2.5 9-12.5 23.2-25.2 38.6h176v35.6h-99.1v44.5h98.7v35.7h-98.7V622c14.9-4.8 28.6-11.5 40.5-20.5l-8.7-32.5 46.5-14.4 38.8 94.9-57.3 23.9-10.2-37.8c-25.6 19.5-78.8 48-171.8 45.4-99.2 2.6-73.7-112-73.7-112l2.5-1.3H472c-.5 14.7-6.6 38.7 1.7 51.8 6.8 10.8 24.2 12.6 35.3 13.1 1.3.1 2.6.1 3.9.1v-85.3h-101v-35.7h101v-44.5H487c-22.7 24.1-43.5 44.1-43.5 44.1l-30.6-26.7c21.7-22.9 43.3-59.1 56.8-83.2-10.9 4.4-22 9.2-33.6 14.2-11.2 14.3-24.2 29-38.7 43.5.5.8-50-28.4-50-28.4 52.2-44.4 81.4-139.9 81.4-139.9l72.5 20.4s-5.9 14-18.4 35.6c290.3-82.3 307.4 50.5 307.4 50.5s19.1 91.8 3.8 235.7z"}}]},name:"taobao-circle",theme:"outlined"},Te=function(t,e){return m.exports.createElement(B,l(l({},t),{},{ref:e,icon:_e}))};Te.displayName="TaobaoCircleOutlined";var Ce=m.exports.forwardRef(Te),Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-44.4 672C353.1 736 236 680.4 236 588.9c0-47.8 30.2-103.1 82.3-155.3 69.5-69.6 150.6-101.4 181.1-70.8 13.5 13.5 14.8 36.8 6.1 64.6-4.5 14 13.1 6.3 13.1 6.3 56.2-23.6 105.2-25 123.1.7 9.6 13.7 8.6 32.8-.2 55.1-4.1 10.2 1.3 11.8 9 14.1 31.7 9.8 66.9 33.6 66.9 75.5.2 69.5-99.7 156.9-249.8 156.9zm207.3-290.8a34.9 34.9 0 00-7.2-34.1 34.68 34.68 0 00-33.1-10.7 18.24 18.24 0 01-7.6-35.7c24.1-5.1 50.1 2.3 67.7 21.9 17.7 19.6 22.4 46.3 14.9 69.8a18.13 18.13 0 01-22.9 11.7 18.18 18.18 0 01-11.8-22.9zm106 34.3s0 .1 0 0a21.1 21.1 0 01-26.6 13.7 21.19 21.19 0 01-13.6-26.7c11-34.2 4-73.2-21.7-101.8a104.04 104.04 0 00-98.9-32.1 21.14 21.14 0 01-25.1-16.3 21.07 21.07 0 0116.2-25.1c49.4-10.5 102.8 4.8 139.1 45.1 36.3 40.2 46.1 95.1 30.6 143.2zm-334.5 6.1c-91.4 9-160.7 65.1-154.7 125.2 5.9 60.1 84.8 101.5 176.2 92.5 91.4-9.1 160.7-65.1 154.7-125.3-5.9-60.1-84.8-101.5-176.2-92.4zm80.2 141.7c-18.7 42.3-72.3 64.8-117.8 50.1-43.9-14.2-62.5-57.7-43.3-96.8 18.9-38.4 68-60.1 111.5-48.8 45 11.7 68 54.2 49.6 95.5zm-93-32.2c-14.2-5.9-32.4.2-41.2 13.9-8.8 13.8-4.7 30.2 9.3 36.6 14.3 6.5 33.2.3 42-13.8 8.8-14.3 4.2-30.6-10.1-36.7zm34.9-14.5c-5.4-2.2-12.2.5-15.4 5.8-3.1 5.4-1.4 11.5 4.1 13.8 5.5 2.3 12.6-.3 15.8-5.8 3-5.6 1-11.8-4.5-13.8z"}}]},name:"weibo-circle",theme:"outlined"},Se=function(t,e){return m.exports.createElement(B,l(l({},t),{},{ref:e,icon:Oe}))};Se.displayName="WeiboCircleOutlined";var Ae=m.exports.forwardRef(Se),Re=["options","fieldProps","proFieldProps","valueEnum"];function Me(){return(Me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){De(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function De(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ze(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Le=v.forwardRef((function(t,e){var n=t.options,r=t.fieldProps,i=t.proFieldProps,a=t.valueEnum,o=ze(t,Re);return v.createElement(A,Me({ref:e,valueType:"checkbox",mode:"edit",valueEnum:R(a,void 0),fieldProps:Be({options:n},r),proFieldProps:i},o))})),Fe=S(v.forwardRef((function(t,e){var n=t.fieldProps,r=t.children;return v.createElement(w,Me({ref:e},n),r)})),{valuePropName:"checked"});Fe.Group=Le;var Ve=Fe,je=["logo","message","title","subTitle","actions","children"];function Ue(){return(Ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function He(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xe(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ze(t){var e=t.logo,n=t.message,r=t.title,i=t.subTitle,a=t.actions,o=t.children,s=Xe(t,je),l=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(n),!0).forEach((function(e){He(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({searchConfig:{submitText:""},render:function(t,e){return e.pop()},submitButtonProps:{size:"large",style:{width:"100%"}}},s.submitter),u=m.exports.useContext(k.ConfigContext).getPrefixCls("pro-form-login"),h=function(t){return"".concat(u,"-").concat(t)},c=m.exports.useMemo((function(){return e?"string"==typeof e?v.createElement("img",{src:e}):e:null}),[e]);return v.createElement("div",{className:h("container")},v.createElement("div",{className:h("top")},r||c?v.createElement("div",{className:h("header")},c?v.createElement("span",{className:h("logo")},c):null,r?v.createElement("span",{className:h("title")},r):null):null,i?v.createElement("div",{className:h("desc")},i):null),v.createElement("div",{className:h("main")},v.createElement(M,Ue({isKeyPressSubmit:!0,submitter:l},s),n,o),a?v.createElement("div",{className:h("other")},a):null))}var qe={exports:{}},Ye=qe.exports=(function(){for(var t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"]}(),{timer:0,state:"stop",animations:[],add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n={callback:t,fps:e,n:60/e,param:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i:0};return this.animations.push(n),this.animations.length>=1&&this.start(),this},getIndex:function(t){for(var e=0;e<this.animations.length;e++)if(this.animations[e].callback===t)return e;return-1},remove:function(t){if(!(this.getIndex(t)<0))return this.deleteMap(t),0===this.animations.length&&this.stop(),this},deleteMap:function(t){var e=this.getIndex(t),n=this.animations[e];for(var r in n)delete n[r];this.animations.splice(e,1)},start:function(){if("start"!==this.state)return this.state="start",this.tick(),this},stop:function(){if("stop"!==this.state)return this.state="stop",cancelAnimationFrame(this.timer),this},tick:function(){var t=this;this.timer=requestAnimationFrame((function(){t.tick()}));for(var e=0;e<this.animations.length;e++){var n=this.animations[e],r=n.callback,i=n.param;n.i++,n.i>=n.n&&(r(i),n.i=0)}}}),Ge={exports:{}},We=Ge.exports=function(){var t=3.1415926,e={PI:t,PIx2:2*t,PI_2:t/2,PI_180:t/180,N180_PI:180/t,Infinity:-999,isInfinity:function(t){return t===this.Infinity||t===1/0},randomAToB:function(t,e,n){return 2<arguments.length&&void 0!==n&&n?Math.floor(Math.random()*(e-t))+t:t+Math.random()*(e-t)},randomFloating:function(t,e,n){return this.randomAToB(t-e,t+e,n)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(t,e){return e=1<arguments.length&&void 0!==e?e:4,e=Math.pow(10,e),Math.floor(t*e)/e},degreeTransform:function(e){return e*t/180},toColor16:function(t){return"#"+t.toString(16)}},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t};function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);return void 0!==r?"value"in r?r.value:void 0!==(r=r.get)?r.call(n):void 0:null!==(t=Object.getPrototypeOf(t))?o(t,e,n):void 0}var s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},u=(i(h,[{key:"getValue",value:function(t){return t=0<arguments.length&&void 0!==t&&t,this.isArray?P.getRandFromArray(this.a):this.center?e.randomFloating(this.a,this.b,t):e.randomAToB(this.a,this.b,t)}}],[{key:"setSpanValue",value:function(t,e,n){return t instanceof h?t:void 0===e?new h(t):void 0===n?new h(t,e):new h(t,e,n)}},{key:"getSpanValue",value:function(t){return t instanceof h?t.getValue():t}}]),h);function h(t,e,n){r(this,h),P.isArray(t)?(this.isArray=!0,this.a=t):(this.isArray=!1,this.a=P.initValue(t,1),this.b=P.initValue(e,this.a),this.center=P.initValue(n,!1))}var c=function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},d=function(t,e){return[1,0,0,0,1,0,t,e,1]},p=function(t){var e=Math.cos(t);return[e,-(t=Math.sin(t)),0,t,e,0,0,0,1]},f=function(t,e){return[t,0,0,0,e,0,0,0,1]},v=function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],c=e[0],d=e[1],p=e[2],f=e[3],v=e[4],m=e[5],g=e[6];return[n*c+r*f+i*g,n*d+r*v+i*(t=e[7]),n*p+r*m+i*(e=e[8]),a*c+o*f+s*g,a*d+o*v+s*t,a*p+o*m+s*e,l*c+u*f+h*g,l*d+u*v+h*t,l*p+u*m+h*e]},m={createCanvas:function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:"absolute";return(r=document.createElement("canvas")).id=t,r.width=e,r.height=n,r.style.opacity=0,r.style.position=i,this.transform(r,-500,-500,0,0),r},createDiv:function(t,e,n){var r=document.createElement("div");return r.id=t,r.style.position="absolute",this.resize(r,e,n),r},resize:function(t,e,n){t.style.width=e+"px",t.style.height=n+"px",t.style.marginLeft=-e/2+"px",t.style.marginTop=-n/2+"px"},transform:function(t,e,n,r,i){t.style.willChange="transform";var a="translate("+e+"px, "+n+"px) scale("+r+") rotate("+i+"deg)";this.css3(t,"transform",a)},transform3d:function(t,e,n,r,i){t.style.willChange="transform",i="translate3d("+e+"px, "+n+"px, 0) scale("+r+") rotate("+i+"deg)",this.css3(t,"backfaceVisibility","hidden"),this.css3(t,"transform",i)},css3:function(t,e,n){var r=e.charAt(0).toUpperCase()+e.substr(1);t.style["Webkit"+r]=n,t.style["Moz"+r]=n,t.style["O"+r]=n,t.style["ms"+r]=n,t.style[""+e]=n}},g={},y={},b=0,w=function(t,e,n){return t.drawImage(e,n.x,n.y),e=t.getImageData(n.x,n.y,n.width,n.height),t.clearRect(n.x,n.y,n.width,n.height),e},k=function(t,e,n){var r="string"==typeof t?t:t.src;g[r]?e(g[r],n):((t=new Image).onload=function(t){g[r]=t.target,e(g[r],n)},t.src=r)},x=function(t,e,n){var r,i,a=t.src;return y[a]||(r=c(t.width),i=c(t.height),(i=m.createCanvas("proton_canvas_cache_"+ ++b,r,i)).getContext("2d").drawImage(t,0,0,t.width,t.height),y[a]=i),e&&e(y[a],n),y[a]},P={initValue:function(t,e){return null!=t?t:e},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyArray:function(t){t&&(t.length=0)},toArray:function(t){return this.isArray(t)?t:[t]},getRandFromArray:function(t){return t?t[Math.floor(t.length*Math.random())]:null},emptyObject:function(t,e){var n,r=1<arguments.length&&void 0!==e?e:null;for(n in t)r&&-1<r.indexOf(n)||delete t[n]},classApply:function(t,e){return new((e=1<arguments.length&&void 0!==e?e:null)?t.bind.apply(t,[null].concat(e)):t)},setVectorVal:function(t,e){(e=1<arguments.length&&void 0!==e?e:null)&&(this.hasProp(e,"x")&&(t.p.x=e.x),this.hasProp(e,"y")&&(t.p.y=e.y),this.hasProp(e,"vx")&&(t.v.x=e.vx),this.hasProp(e,"vy")&&(t.v.y=e.vy),this.hasProp(e,"ax")&&(t.a.x=e.ax),this.hasProp(e,"ay")&&(t.a.y=e.ay),this.hasProp(e,"p")&&t.p.copy(e.p),this.hasProp(e,"v")&&t.v.copy(e.v),this.hasProp(e,"a")&&t.a.copy(e.a),this.hasProp(e,"position")&&t.p.copy(e.position),this.hasProp(e,"velocity")&&t.v.copy(e.velocity),this.hasProp(e,"accelerate")&&t.a.copy(e.accelerate))},hasProp:function(t,e){return!!t&&void 0!==t[e]},setProp:function(t,e){for(var n in e)t.hasOwnProperty(n)&&(t[n]=u.getSpanValue(e[n]));return t},getImageData:function(t,e,n){return w(t,e,n)},destroyAll:function(t,e){for(var n=1<arguments.length&&void 0!==e?e:null,r=t.length;r--;){try{t[r].destroy(n)}catch(i){}delete t[r]}t.length=0},assign:function(t,e){if("function"==typeof Object.assign)return Object.assign(t,e);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}},E={},_={_index:0,_cache:{},id:function(t){return void 0!==E[t]&&null!==E[t]||(E[t]=0),t+"_"+E[t]++},getId:function(t){var e=this.getIdFromCache(t);return e||(e="PUID_"+this._index++,this._cache[e]=t,e)},getIdFromCache:function(t){var e,n=void 0;for(n in this._cache){if((e=this._cache[n])===t)return n;if(this.isBody(e,t)&&e.src===t.src)return n}return null},isBody:function(t,e){return"object"===(void 0===t?"undefined":n(t))&&"object"===(void 0===e?"undefined":n(e))&&t.isInner&&e.isInner},getTarget:function(t){return this._cache[t]}},T=(i(C,[{key:"get",value:function(t,e,n){var r=void 0;return n=n||t.__puid||_.getId(t),(r=this.cache[n]&&0<this.cache[n].length?this.cache[n].pop():this.createOrClone(t,e)).__puid=t.__puid||n,r}},{key:"expire",value:function(t){return this.getCache(t.__puid).push(t)}},{key:"createOrClone",value:function(t,e){return this.total++,this.create?this.create(t,e):"function"==typeof t?P.classApply(t,e):t.clone()}},{key:"getCount",value:function(){var t,e=0;for(t in this.cache)e+=this.cache[t].length;return e++}},{key:"destroy",value:function(){for(var t in this.cache)this.cache[t].length=0,delete this.cache[t]}},{key:"getCache",value:function(t){return t=0<arguments.length&&void 0!==t?t:"default",this.cache[t]||(this.cache[t]=[]),this.cache[t]}}]),C);function C(t){r(this,C),this.total=0,this.cache={}}var O=(i(S,[{key:"update",value:function(t,e){this.add(t,e);var n=this.getEmitter();switch(t=this.getRenderer(),e="",this.type){case 2:e+="emitter:"+this.proton.emitters.length+"<br>",n&&(e+="em speed:"+n.emitSpeed+"<br>"),n&&(e+="pos:"+this.getEmitterPos(n));break;case 3:n&&(e+="initializes:"+n.initializes.length+"<br>"),n&&(e+='<span style="display:inline-block;">'+this.concatArr(n.initializes)+"</span><br>"),n&&(e+="behaviours:"+n.behaviours.length+"<br>"),n&&(e+='<span style="display:inline-block;">'+this.concatArr(n.behaviours)+"</span><br>");break;case 4:t&&(e+=t.name+"<br>"),t&&(e+="body:"+this.getCreatedNumber(t)+"<br>");break;default:e+="particles:"+this.proton.getCount()+"<br>",e+="pool:"+this.proton.pool.getCount()+"<br>",e+="total:"+this.proton.pool.total}this.container.innerHTML=e}},{key:"add",value:function(t,e){var n=this;if(!this.container){this.type=1,this.container=document.createElement("div"),this.container.style.cssText=["position:absolute;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this.container.addEventListener("click",(function(t){n.type++,4<n.type&&(n.type=1)}),!1);var r=void 0,i=void 0;switch(t){case 2:r="#201",i="#f08";break;case 3:r="#020",i="#0f0";break;default:r="#002",i="#0ff"}this.container.style["background-color"]=r,this.container.style.color=i}this.container.parentNode||(e=e||this.body||document.body).appendChild(this.container)}},{key:"getEmitter",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:"getRenderer",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:"concatArr",value:function(t){var e="";if(!t||!t.length)return e;for(var n=0;n<t.length;n++)e+=(t[n].name||"").substr(0,1)+".";return e}},{key:"getCreatedNumber",value:function(t){return t.pool.total||t.cpool&&t.cpool.total||0}},{key:"getEmitterPos",value:function(t){return Math.round(t.p.x)+","+Math.round(t.p.y)}}]),S);function S(t){r(this,S),this.proton=t,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var A=(i(R,[{key:"addEventListener",value:function(t,e){return this._listeners?this.removeEventListener(t,e):this._listeners={},this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),e}},{key:"removeEventListener",value:function(t,e){if(this._listeners&&this._listeners[t])for(var n=this._listeners[t],r=n.length,i=0;i<r;i++)if(n[i]===e){1===r?delete this._listeners[t]:n.splice(i,1);break}}},{key:"removeAllEventListeners",value:function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null}},{key:"dispatchEvent",value:function(t,e){var n=!1,r=this._listeners;if(t&&r){var i=r[t];if(!i)return n;for(var a=void 0,o=i.length;o--;)a=i[o],n=n||a(e)}return!!n}},{key:"hasEventListener",value:function(t){var e=this._listeners;return!(!e||!e[t])}}],[{key:"bind",value:function(t){t.prototype.dispatchEvent=R.prototype.dispatchEvent,t.prototype.hasEventListener=R.prototype.hasEventListener,t.prototype.addEventListener=R.prototype.addEventListener,t.prototype.removeEventListener=R.prototype.removeEventListener,t.prototype.removeAllEventListeners=R.prototype.removeAllEventListeners}}]),R);function R(){r(this,R),this._listeners=null}var M=(i(I,[{key:"calculate",value:function(t,e,n){this.eulerIntegrate(t,e,n)}},{key:"eulerIntegrate",value:function(t,e,n){t.sleep||(t.old.p.copy(t.p),t.old.v.copy(t.v),t.a.multiplyScalar(1/t.mass),t.v.add(t.a.multiplyScalar(e)),t.p.add(t.old.v.multiplyScalar(e)),n&&t.v.multiplyScalar(n),t.a.clear())}}]),I);function I(t){r(this,I),this.type=t}var B=(i(D,[{key:"addRenderer",value:function(t){t.init(this),this.renderers.push(t)}},{key:"removeRenderer",value:function(t){var e=this.renderers.indexOf(t);this.renderers.splice(e,1),t.remove(this)}},{key:"addEmitter",value:function(t){this.emitters.push(t),(t.parent=this).dispatchEvent(D.EMITTER_ADDED,t)}},{key:"removeEmitter",value:function(t){var e=this.emitters.indexOf(t);this.emitters.splice(e,1),t.parent=null,this.dispatchEvent(D.EMITTER_REMOVED,t)}},{key:"update",value:function(){"auto"===this._fps?(this.dispatchEvent(D.PROTON_UPDATE),D.USE_CLOCK?(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(D.DEFAULT_INTERVAL),this.dispatchEvent(D.PROTON_UPDATE_AFTER)):(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(D.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(D.PROTON_UPDATE_AFTER)))}},{key:"emittersUpdate",value:function(t){for(var e=this.emitters.length;e--;)this.emitters[e].update(t)}},{key:"amendChangeTabsBug",value:function(){D.amendChangeTabsBug&&.5<this.elapsed&&(this.then=(new Date).getTime(),this.elapsed=0)}},{key:"getCount",value:function(){for(var t=0,e=this.emitters.length;e--;)t+=this.emitters[e].particles.length;return t}},{key:"getAllParticles",value:function(){for(var t=[],e=this.emitters.length;e--;)t=t.concat(this.emitters[e].particles);return t}},{key:"destroyAllEmitters",value:function(){P.destroyAll(this.emitters)}},{key:"destroy",value:function(t){function e(){n.time=0,n.then=0,n.pool.destroy(),P.destroyAll(n.emitters),P.destroyAll(n.renderers,n.getAllParticles())}var n=this;0<arguments.length&&void 0!==t&&t?setTimeout(e,200):e()}},{key:"fps",set:function(t){this._fps=t,this._interval="auto"===t?D.DEFAULT_INTERVAL:e.floor(1/t,7)},get:function(){return this._fps}}]),D);function D(t){r(this,D),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new O(this),this.pool=new T(80),this.integrationType=P.initValue(t,D.EULER),this.integrator=new M(this.integrationType),this._fps="auto",this._interval=D.DEFAULT_INTERVAL}B.USE_CLOCK=!1,B.MEASURE=100,B.EULER="euler",B.RK2="runge-kutta2",B.PARTICLE_CREATED="PARTICLE_CREATED",B.PARTICLE_UPDATE="PARTICLE_UPDATE",B.PARTICLE_SLEEP="PARTICLE_SLEEP",B.PARTICLE_DEAD="PARTICLE_DEAD",B.EMITTER_ADDED="EMITTER_ADDED",B.EMITTER_REMOVED="EMITTER_REMOVED",B.PROTON_UPDATE="PROTON_UPDATE",B.PROTON_UPDATE_AFTER="PROTON_UPDATE_AFTER",B.DEFAULT_INTERVAL=.0167,B.amendChangeTabsBug=!0,A.bind(B);var z=(i(L,[{key:"reset",value:function(){this.r=255,this.g=255,this.b=255}}]),L);function L(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255;r(this,L),this.r=t,this.g=e,this.b=n}var F={easeLinear:function(t){return t},easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInSine:function(t){return 1-Math.cos(t*e.PI_2)},easeOutSine:function(t){return Math.sin(t*e.PI_2)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return--t*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},getEasing:function(t){return"function"==typeof t?t:this[t]||this.easeLinear}},V=(i(j,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"getGradient",value:function(){return 0!==this.x?Math.atan2(this.y,this.x):0<this.y?e.PI_2:this.y<0?-e.PI_2:void 0}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)}},{key:"addXY",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"sub",value:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"divideScalar",value:function(t){return 0!==t?(this.x/=t,this.y/=t):this.set(0,0),this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"rotate",value:function(t){var e=this.x,n=this.y;return this.x=e*Math.cos(t)+n*Math.sin(t),this.y=-e*Math.sin(t)+n*Math.cos(t),this}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x;return e*e+(t=this.y-t.y)*t}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"clear",value:function(){return this.x=0,this.y=0,this}},{key:"clone",value:function(){return new j(this.x,this.y)}}]),j);function j(t,e){r(this,j),this.x=t||0,this.y=e||0}var U=(i(N,[{key:"getDirection",value:function(){return Math.atan2(this.v.x,-this.v.y)*e.N180_PI}},{key:"reset",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=F.easeLinear,this.rgb.reset(),P.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:"update",value:function(t,e){this.sleep||(this.age+=t,this.applyBehaviours(t,e)),this.age<this.life?(e=this.easing(this.age/this.life),this.energy=Math.max(1-e,0)):this.destroy()}},{key:"applyBehaviours",value:function(t,e){var n=this.behaviours.length,r=void 0;for(r=0;r<n;r++)this.behaviours[r]&&this.behaviours[r].applyBehaviour(this,t,e)}},{key:"addBehaviour",value:function(t){this.behaviours.push(t),t.hasOwnProperty("parents")&&t.parents.push(this),t.initialize(this)}},{key:"addBehaviours",value:function(t){var e=t.length,n=void 0;for(n=0;n<e;n++)this.addBehaviour(t[n])}},{key:"removeBehaviour",value:function(t){-1<(t=this.behaviours.indexOf(t))&&(this.behaviours.splice(t,1).parents=null)}},{key:"removeAllBehaviours",value:function(){P.emptyArray(this.behaviours)}},{key:"destroy",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),N);function N(t){r(this,N),this.id="",this.old={},this.data={},this.behaviours=[],this.p=[],this.v=[],this.a=[],this.rgb={},this.name="Particle",this.id=_.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new V,this.v=new V,this.a=new V,this.old.p=new V,this.old.v=new V,this.old.a=new V,this.rgb=new z,this.reset(),t&&P.setProp(this,t)}var H={hexToRgb:function(t){return t="#"===t.charAt(0)?t.substring(1,7):t,{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},rgbToHex:function(t){return"rgb("+t.r+", "+t.g+", "+t.b+")"},getHex16FromParticle:function(t){return 65536*Number(t.rgb.r)+256*Number(t.rgb.g)+Number(t.rgb.b)}},X=(i(Z,[{key:"set",value:function(t,e){return this.r=t,this.tha=e,this}},{key:"setR",value:function(t){return this.r=t,this}},{key:"setTha",value:function(t){return this.tha=t,this}},{key:"copy",value:function(t){return this.r=t.r,this.tha=t.tha,this}},{key:"toVector",value:function(){return new V(this.getX(),this.getY())}},{key:"getX",value:function(){return this.r*Math.sin(this.tha)}},{key:"getY",value:function(){return-this.r*Math.cos(this.tha)}},{key:"normalize",value:function(){return this.r=1,this}},{key:"equals",value:function(t){return t.r===this.r&&t.tha===this.tha}},{key:"clear",value:function(){return this.r=0,this.tha=0,this}},{key:"clone",value:function(){return new Z(this.r,this.tha)}}]),Z);function Z(t,e){r(this,Z),this.r=Math.abs(t)||0,this.tha=e||0}var q={create:function(t){var e=new Float32Array(9);return t&&this.set(t,e),e},set:function(t,e){for(var n=0;n<9;n++)e[n]=t[n];return e},multiply:function(t,e,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[6],u=t[7],h=e[0],c=e[1],d=e[2],p=e[3],f=e[4];return t=e[6],e=e[7],n[0]=h*r+c*o,n[1]=h*i+c*s,n[2]=a*d,n[3]=p*r+f*o,n[4]=p*i+f*s,n[6]=t*r+e*o+l,n[7]=t*i+e*s+u,n},inverse:function(t,e){var n=t[0],r=t[1],i=t[3],a=t[4],o=t[6],s=t[7],l=-i;return t=s*i-a*o,i=1/(n*a+r*l),e[0]=a*i,e[1]=-r*i,e[3]=l*i,e[4]=n*i,e[6]=t*i,e[7]=(-s*n+r*o)*i,e},multiplyVec2:function(t,e,n){var r=e[0];return e=e[1],n[0]=r*t[0]+e*t[3]+t[6],n[1]=r*t[1]+e*t[4]+t[7],n}},Y=(s(G,u),i(G,[{key:"getValue",value:function(){var t=P.getRandFromArray(this._arr);return"random"===t||"Random"===t?e.randomColor():t}}],[{key:"createArraySpan",value:function(t){return t?t instanceof G?t:new G(t):null}}]),G);function G(t){r(this,G);var e=l(this,(G.__proto__||Object.getPrototypeOf(G)).call(this));return e._arr=P.toArray(t),e}var W=(i(K,[{key:"contains",value:function(t,e){return t<=this.right&&t>=this.x&&e<=this.bottom&&e>=this.y}}]),K);function K(t,e,n,i){r(this,K),this.x=t,this.y=e,this.width=n,this.height=i,this.bottom=this.y+this.height,this.right=this.x+this.width}var Q=(i($,[{key:"init",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:"getValue",value:function(t){return this.startTime+=t,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),1===this.numPan.b?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),$);function $(t,e){r(this,$),this.numPan=u.setSpanValue(P.initValue(t,1)),this.timePan=u.setSpanValue(P.initValue(e,1)),this.startTime=0,this.nextTime=0,this.init()}var J=(i(tt,[{key:"reset",value:function(){}},{key:"init",value:function(t,e){e?this.initialize(e):this.initialize(t)}},{key:"initialize",value:function(){}}]),tt);function tt(){r(this,tt)}var et=(s(nt,J),i(nt,[{key:"initialize",value:function(t){this.lifePan.a===1/0?t.life=1/0:t.life=this.lifePan.getValue()}}]),nt);function nt(t,e,n){r(this,nt);var i=l(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this));return i.lifePan=u.setSpanValue(t,e,n),i.name="Life",i}var rt=(i(it,[{key:"getPosition",value:function(){}},{key:"crossing",value:function(){}}]),it);function it(){r(this,it),this.vector=new V(0,0),this.random=0,this.crossType="dead",this.alert=!0}var at=(s(ot,rt),i(ot,[{key:"getPosition",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:"crossing",value:function(){this.alert&&(console.error("Sorry, PointZone does not support crossing method!"),this.alert=!1)}}]),ot);function ot(t,e){r(this,ot);var n=l(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this));return n.x=t,n.y=e,n}var st=(s(lt,J),i(lt,[{key:"reset",value:function(t){this.zone=P.initValue(t,new at)}},{key:"initialize",value:function(t){this.zone.getPosition(),t.p.x=this.zone.vector.x,t.p.y=this.zone.vector.y}}]),lt);function lt(t){r(this,lt);var e=l(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this));return e.zone=P.initValue(t,new at),e.name="Position",e}var ut=(s(ht,J),i(ht,[{key:"reset",value:function(t,e,n){this.rPan=u.setSpanValue(t),this.thaPan=u.setSpanValue(e),this.type=P.initValue(n,"vector")}},{key:"normalizeVelocity",value:function(t){return t*B.MEASURE}},{key:"initialize",value:function(t){var n;"p"===this.type||"P"===this.type||"polar"===this.type?(n=new X(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*e.PI_180),t.v.x=n.getX(),t.v.y=n.getY()):(t.v.x=this.normalizeVelocity(this.rPan.getValue()),t.v.y=this.normalizeVelocity(this.thaPan.getValue()))}}]),ht);function ht(t,e,n){r(this,ht);var i=l(this,(ht.__proto__||Object.getPrototypeOf(ht)).call(this));return i.rPan=u.setSpanValue(t),i.thaPan=u.setSpanValue(e),i.type=P.initValue(n,"vector"),i.name="Velocity",i}var ct=(s(dt,J),i(dt,[{key:"initialize",value:function(t){t.mass=this.massPan.getValue()}}]),dt);function dt(t,e,n){r(this,dt);var i=l(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this));return i.massPan=u.setSpanValue(t,e,n),i.name="Mass",i}var pt=(s(ft,J),i(ft,[{key:"reset",value:function(t,e,n){this.radius=u.setSpanValue(t,e,n)}},{key:"initialize",value:function(t){t.radius=this.radius.getValue(),t.data.oldRadius=t.radius}}]),ft);function ft(t,e,n){r(this,ft);var i=l(this,(ft.__proto__||Object.getPrototypeOf(ft)).call(this));return i.radius=u.setSpanValue(t,e,n),i.name="Radius",i}var vt=(s(mt,J),i(mt,[{key:"initialize",value:function(t){var e=this.image.getValue();t.body="string"==typeof e?{width:this.w,height:this.h,src:e,isInner:!0,inner:!0}:e}},{key:"setSpanValue",value:function(t){return t instanceof Y?t:new Y(t)}}]),mt);function mt(t,e,n){r(this,mt);var i=l(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this));return i.image=i.setSpanValue(t),i.w=P.initValue(e,20),i.h=P.initValue(n,i.w),i.name="Body",i}var gt=(i(yt,[{key:"reset",value:function(t,e){this.life=P.initValue(t,1/0),this.easing=F.getEasing(e)}},{key:"normalizeForce",value:function(t){return t.multiplyScalar(B.MEASURE)}},{key:"normalizeValue",value:function(t){return t*B.MEASURE}},{key:"initialize",value:function(){}},{key:"calculate",value:function(t,e){this.age+=e,this.age>=this.life||this.dead?(this.energy=0,this.dead=!0,this.destroy()):(t=this.easing(t.age/t.life),this.energy=Math.max(1-t,0))}},{key:"destroy",value:function(){for(var t=this.parents.length;t--;)this.parents[t].removeBehaviour(this);this.parents.length=0}}]),yt);function yt(t,e){r(this,yt),this.life=P.initValue(t,1/0),this.easing=F.getEasing(e),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id="Behaviour_"+yt.id++,this.name="Behaviour"}gt.id=0;var bt=(s(wt,gt),i(wt,[{key:"reset",value:function(t,e,n,r){this.force=this.normalizeForce(new V(t,e)),n&&o(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"reset",this).call(this,n,r)}},{key:"applyBehaviour",value:function(t,e,n){this.calculate(t,e,n),t.a.add(this.force)}}]),wt);function wt(t,e,n,i){return r(this,wt),(i=l(this,(wt.__proto__||Object.getPrototypeOf(wt)).call(this,n,i))).force=i.normalizeForce(new V(t,e)),i.name="Force",i}var kt=(s(xt,gt),i(xt,[{key:"reset",value:function(t,e,n,r,i){this.targetPosition=P.initValue(t,new V),this.radius=P.initValue(n,1e3),this.force=P.initValue(this.normalizeValue(e),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new V,this.lengthSq=0,r&&o(xt.prototype.__proto__||Object.getPrototypeOf(xt.prototype),"reset",this).call(this,r,i)}},{key:"applyBehaviour",value:function(t,e,n){this.calculate(t,e,n),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(t.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),t.a.add(this.attractionForce))}}]),xt);function xt(t,e,n,i,a){return r(this,xt),(a=l(this,(xt.__proto__||Object.getPrototypeOf(xt)).call(this,i,a))).targetPosition=P.initValue(t,new V),a.radius=P.initValue(n,1e3),a.force=P.initValue(a.normalizeValue(e),100),a.radiusSq=a.radius*a.radius,a.attractionForce=new V,a.lengthSq=0,a.name="Attraction",a}var Pt=(s(Et,gt),i(Et,[{key:"reset",value:function(t,e,n,r,i){this.panFoce=new V(t,e),this.panFoce=this.normalizeForce(this.panFoce),this.delay=n,r&&o(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"reset",this).call(this,r,i)}},{key:"initialize",value:function(t){t.data.time=0}},{key:"applyBehaviour",value:function(t,n,r){this.calculate(t,n,r),t.data.time+=n,t.data.time>=this.delay&&(t.a.addXY(e.randomAToB(-this.panFoce.x,this.panFoce.x),e.randomAToB(-this.panFoce.y,this.panFoce.y)),t.data.time=0)}}]),Et);function Et(t,e,n,i,a){return r(this,Et),(a=l(this,(Et.__proto__||Object.getPrototypeOf(Et)).call(this,i,a))).reset(t,e,n),a.time=0,a.name="RandomDrift",a}var _t=(s(Tt,bt),i(Tt,[{key:"reset",value:function(t,e,n){o(Tt.prototype.__proto__||Object.getPrototypeOf(Tt.prototype),"reset",this).call(this,0,t,e,n)}}]),Tt);function Tt(t,e,n){return r(this,Tt),(n=l(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).call(this,0,t,e,n))).name="Gravity",n}var Ct=(s(Ot,gt),i(Ot,[{key:"reset",value:function(t,e,n,r,i){this.emitter=P.initValue(t,null),this.mass=P.initValue(e,!0),this.callback=P.initValue(n,null),this.collisionPool=[],this.delta=new V,r&&o(Ot.prototype.__proto__||Object.getPrototypeOf(Ot.prototype),"reset",this).call(this,r,i)}},{key:"applyBehaviour",value:function(t,e,n){var r,i,a,o,s,l,u=(this.emitter?this.emitter.particles:this.pool).slice(n),h=u.length,c=void 0,d=void 0;for(d=0;d<h;d++)(c=u[d])!==t&&(this.delta.copy(c.p),this.delta.sub(t.p),(r=this.delta.lengthSq())<=(l=t.radius+c.radius)*l&&(i=l-Math.sqrt(r),i+=.5,a=t.mass+c.mass,o=this.mass?c.mass/a:.5,s=this.mass?t.mass/a:.5,t.p.add(this.delta.clone().normalize().multiplyScalar(i*-o)),c.p.add(this.delta.normalize().multiplyScalar(i*s)),this.callback&&this.callback(t,c)))}}]),Ot);function Ot(t,e,n,i,a){return r(this,Ot),(a=l(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this,i,a))).reset(t,e,n),a.name="Collision",a}var St=(s(At,gt),i(At,[{key:"reset",value:function(t,e,n,r){this.zone=t,this.zone.crossType=P.initValue(e,"dead"),n&&o(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"reset",this).call(this,n,r)}},{key:"applyBehaviour",value:function(t,e,n){this.calculate(t,e,n),this.zone.crossing(t)}}]),At);function At(t,e,n,i){return r(this,At),(i=l(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,n,i))).reset(t,e),i.name="CrossZone",i}var Rt=(s(Mt,gt),i(Mt,[{key:"reset",value:function(t,e,n,r){this.same=null==e,this.a=u.setSpanValue(P.initValue(t,1)),this.b=u.setSpanValue(e),n&&o(Mt.prototype.__proto__||Object.getPrototypeOf(Mt.prototype),"reset",this).call(this,n,r)}},{key:"initialize",value:function(t){t.data.alphaA=this.a.getValue(),this.same?t.data.alphaB=t.data.alphaA:t.data.alphaB=this.b.getValue()}},{key:"applyBehaviour",value:function(t,e,n){this.calculate(t,e,n),t.alpha=t.data.alphaB+(t.data.alphaA-t.data.alphaB)*this.energy,t.alpha<.001&&(t.alpha=0)}}]),Mt);function Mt(t,e,n,i){return r(this,Mt),(i=l(this,(Mt.__proto__||Object.getPrototypeOf(Mt)).call(this,n,i))).reset(t,e),i.name="Alpha",i}var It=(s(Bt,gt),i(Bt,[{key:"reset",value:function(t,e,n,r){this.same=null==e,this.a=u.setSpanValue(P.initValue(t,1)),this.b=u.setSpanValue(e),n&&o(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"reset",this).call(this,n,r)}},{key:"initialize",value:function(t){t.data.scaleA=this.a.getValue(),t.data.oldRadius=t.radius,t.data.scaleB=this.same?t.data.scaleA:this.b.getValue()}},{key:"applyBehaviour",value:function(t,e,n){this.calculate(t,e,n),t.scale=t.data.scaleB+(t.data.scaleA-t.data.scaleB)*this.energy,t.scale<1e-4&&(t.scale=0),t.radius=t.data.oldRadius*t.scale}}]),Bt);function Bt(t,e,n,i){return r(this,Bt),(i=l(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).call(this,n,i))).reset(t,e),i.name="Scale",i}var Dt=(s(zt,gt),i(zt,[{key:"reset",value:function(t,e,n,r,i){this.same=null==e,this.a=u.setSpanValue(P.initValue(t,"Velocity")),this.b=u.setSpanValue(P.initValue(e,0)),this.style=P.initValue(n,"to"),r&&o(zt.prototype.__proto__||Object.getPrototypeOf(zt.prototype),"reset",this).call(this,r,i)}},{key:"initialize",value:function(t){t.rotation=this.a.getValue(),t.data.rotationA=this.a.getValue(),this.same||(t.data.rotationB=this.b.getValue())}},{key:"applyBehaviour",value:function(t,e,n){this.calculate(t,e,n),this.same?"V"!==this.a.a&&"Velocity"!==this.a.a&&"v"!==this.a.a||(t.rotation=t.getDirection()):"to"===this.style||"TO"===this.style||"_"===this.style?t.rotation+=t.data.rotationB+(t.data.rotationA-t.data.rotationB)*this.energy:t.rotation+=t.data.rotationB}}]),zt);function zt(t,e,n,i,a){return r(this,zt),(a=l(this,(zt.__proto__||Object.getPrototypeOf(zt)).call(this,i,a))).reset(t,e,n),a.name="Rotate",a}var Lt=(s(Ft,gt),i(Ft,[{key:"reset",value:function(t,e,n,r){this.a=Y.createArraySpan(t),this.b=Y.createArraySpan(e),n&&o(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"reset",this).call(this,n,r)}},{key:"initialize",value:function(t){t.color=this.a.getValue(),t.data.colorA=H.hexToRgb(t.color),this.b&&(t.data.colorB=H.hexToRgb(this.b.getValue()))}},{key:"applyBehaviour",value:function(t,e,n){this.b?(this.calculate(t,e,n),t.rgb.r=t.data.colorB.r+(t.data.colorA.r-t.data.colorB.r)*this.energy,t.rgb.g=t.data.colorB.g+(t.data.colorA.g-t.data.colorB.g)*this.energy,t.rgb.b=t.data.colorB.b+(t.data.colorA.b-t.data.colorB.b)*this.energy,t.rgb.r=Math.floor(t.rgb.r),t.rgb.g=Math.floor(t.rgb.g),t.rgb.b=Math.floor(t.rgb.b)):(t.rgb.r=t.data.colorA.r,t.rgb.g=t.data.colorA.g,t.rgb.b=t.data.colorA.b)}}]),Ft);function Ft(t,e,n,i){return r(this,Ft),(i=l(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,n,i))).reset(t,e),i.name="Color",i}var Vt="changing",jt=(s(Ut,gt),i(Ut,[{key:"setAngleAndForce",value:function(t,n){this.force=Vt,this.angle=e.PI/2,"right"===t?this.angle=e.PI/2:"left"===t?this.angle=-e.PI/2:"random"===t?this.angle="random":t instanceof u?(this.angle="span",this.span=t):t&&(this.angle=t),"changing"===String(n).toLowerCase()||"chang"===String(n).toLowerCase()||"auto"===String(n).toLowerCase()?this.force=Vt:n&&(this.force=n)}},{key:"reset",value:function(t,n,r,i){this.angle=e.PI/2,this.setAngleAndForce(t,n),r&&o(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),"reset",this).call(this,r,i)}},{key:"initialize",value:function(t){"random"===this.angle?t.data.cangle=e.randomAToB(-e.PI,e.PI):"span"===this.angle&&(t.data.cangle=this.span.getValue()),t.data.cyclone=new V(0,0)}},{key:"applyBehaviour",value:function(t,e,n){this.calculate(t,e,n),e=void 0,n=t.v.getGradient(),"random"===this.angle||"span"===this.angle?n+=t.data.cangle:n+=this.angle,e=this.force===Vt?t.v.length()/100:this.force,t.data.cyclone.x=e*Math.cos(n),t.data.cyclone.y=e*Math.sin(n),t.data.cyclone=this.normalizeForce(t.data.cyclone),t.a.add(t.data.cyclone)}}]),Ut);function Ut(t,e,n,i){return r(this,Ut),(i=l(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).call(this,n,i))).setAngleAndForce(t,e),i.name="Cyclone",i}var Nt=(s(Ht,kt),i(Ht,[{key:"reset",value:function(t,e,n,r,i){o(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"reset",this).call(this,t,e,n,r,i),this.force*=-1}}]),Ht);function Ht(t,e,n,i,a){return r(this,Ht),(a=l(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,t,e,n,i,a))).force*=-1,a.name="Repulsion",a}var Xt=(s(Zt,gt),i(Zt,[{key:"reset",value:function(t,e,n,r){this.distanceVec=new V,this.centerPoint=P.initValue(t,new V),this.force=P.initValue(this.normalizeValue(e),100),n&&o(Zt.prototype.__proto__||Object.getPrototypeOf(Zt.prototype),"reset",this).call(this,n,r)}},{key:"initialize",value:function(){}},{key:"applyBehaviour",value:function(t,e){this.distanceVec.set(this.centerPoint.x-t.p.x,this.centerPoint.y-t.p.y);var n,r=this.distanceVec.lengthSq();0!==r&&(n=this.distanceVec.length(),n=this.force*e/(r*n),t.v.x+=n*this.distanceVec.x,t.v.y+=n*this.distanceVec.y)}}]),Zt);function Zt(t,e,n,i){return r(this,Zt),(i=l(this,(Zt.__proto__||Object.getPrototypeOf(Zt)).call(this,n,i))).distanceVec=new V,i.centerPoint=P.initValue(t,new V),i.force=P.initValue(i.normalizeValue(e),100),i.name="GravityWell",i}var qt={initialize:function(t,e,n){var r=n.length,i=void 0;for(i=0;i<r;i++)n[i]instanceof J?n[i].init(t,e):this.init(t,e,n[i]);this.bindEmitter(t,e)},init:function(t,e,n){P.setProp(e,n),P.setVectorVal(e,n)},bindEmitter:function(t,n){t.bindEmitter&&(n.p.add(t.p),n.v.add(t.v),n.a.add(t.a),n.v.rotate(e.degreeTransform(t.rotation)))}},Yt=(s(Gt,U),i(Gt,[{key:"emit",value:function(t,e){this.stoped=!1,this.emitTime=0,this.totalTime=P.initValue(t,1/0),!0===e||"life"===e||"destroy"===e?this.life="once"===t?1:this.totalTime:isNaN(e)||(this.life=e),this.rate.init()}},{key:"stop",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:"preEmit",value:function(t){var e=this.stoped,n=this.emitTime,r=this.totalTime;for(this.stoped=!1,this.emitTime=0,this.totalTime=t,this.rate.init();.0167<t;)t-=.0167,this.update(.0167);this.stoped=e,this.emitTime=n+Math.max(t,0),this.totalTime=r}},{key:"removeAllParticles",value:function(){for(var t=this.particles.length;t--;)this.particles[t].dead=!0}},{key:"addSelfInitialize",value:function(t){t.init?t.init(this):this.initAll()}},{key:"addInitialize",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.length;r--;)this.initializes.push(e[r])}},{key:"removeInitialize",value:function(t){-1<(t=this.initializes.indexOf(t))&&this.initializes.splice(t,1)}},{key:"removeAllInitializers",value:function(){P.emptyArray(this.initializes)}},{key:"addBehaviour",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=arguments.length;r--;){var i=e[r];this.behaviours.push(i),i.parents&&i.parents.push(this)}}},{key:"removeBehaviour",value:function(t){var e=this.behaviours.indexOf(t);return this.behaviours.splice(e,1),t.parents&&(e=t.parents.indexOf(t),t.parents.splice(e,1)),e}},{key:"removeAllBehaviours",value:function(){P.emptyArray(this.behaviours)}},{key:"update",value:function(t){this.age+=t,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(t),this.integrate(t)}},{key:"integrate",value:function(t){if(this.parent){var e=1-this.damping;this.parent.integrator.calculate(this,t,e);var n=void 0,r=void 0;for(n=this.particles.length-1;0<=n;n--)(r=this.particles[n]).update(t,n),this.parent.integrator.calculate(r,t,e),this.dispatch("PARTICLE_UPDATE",r),r.dead&&(this.dispatch("PARTICLE_DEAD",r),this.parent.pool.expire(r),this.particles.splice(n,1))}}},{key:"dispatch",value:function(t,e){this.parent&&this.parent.dispatchEvent(t,e),this.bindEvent&&this.dispatchEvent(t,e)}},{key:"emitting",value:function(t){if("once"===this.totalTime){var e=void 0,n=this.rate.getValue(99999);for(0<n&&(this.emitSpeed=n),e=0;e<n;e++)this.createParticle();this.totalTime="none"}else if(this.emitTime+=t,this.emitTime<this.totalTime){var r=this.rate.getValue(t),i=void 0;for(0<r&&(this.emitSpeed=r),i=0;i<r;i++)this.createParticle()}}},{key:"createParticle",value:function(t,e){var n=this.parent.pool.get(U);return this.setupParticle(n,t,e),this.dispatch("PARTICLE_CREATED",n),n}},{key:"setupParticle",value:function(t,e,n){var r=this.initializes,i=this.behaviours;e&&(r=P.toArray(e)),n&&(i=P.toArray(n)),t.reset(),qt.initialize(this,t,r),t.addBehaviours(i),(t.parent=this).particles.push(t)}},{key:"remove",value:function(){this.stop(),P.destroyAll(this.particles)}},{key:"destroy",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),Gt);function Gt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return r(this,Gt),(t=l(this,(Gt.__proto__||Object.getPrototypeOf(Gt)).call(this,t))).particles=[],t.behaviours=[],t.initializes=[],t.emitTime=0,t.emitSpeed=0,t.totalTime=-1,t.damping=.006,t.bindEmitter=!0,t.rate=new Q(1,.1),t.name="Emitter",t.id=_.id(t.name),t}A.bind(Yt);var Wt=(s(Kt,Yt),i(Kt,[{key:"addSelfBehaviour",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=e.length;for(r=0;r<i;r++){var a=e[r];this.selfBehaviours.push(a),a.initialize(this)}}},{key:"removeSelfBehaviour",value:function(t){-1<(t=this.selfBehaviours.indexOf(t))&&this.selfBehaviours.splice(t,1)}},{key:"update",value:function(t){if(o(Kt.prototype.__proto__||Object.getPrototypeOf(Kt.prototype),"update",this).call(this,t),!this.sleep){var e=this.selfBehaviours.length,n=void 0;for(n=0;n<e;n++)this.selfBehaviours[n].applyBehaviour(this,t,n)}}}]),Kt);function Kt(t){return r(this,Kt),(t=l(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this,t))).selfBehaviours=[],t}var Qt=(s($t,Yt),i($t,[{key:"initEventHandler",value:function(){var t=this;this.mousemoveHandler=function(e){return t.mousemove.call(t,e)},this.mousedownHandler=function(e){return t.mousedown.call(t,e)},this.mouseupHandler=function(e){return t.mouseup.call(t,e)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)}},{key:"emit",value:function(){this._allowEmitting=!0}},{key:"stop",value:function(){this._allowEmitting=!1}},{key:"mousemove",value:function(t){t.layerX||0===t.layerX?(this.p.x+=(t.layerX-this.p.x)*this.ease,this.p.y+=(t.layerY-this.p.y)*this.ease):!t.offsetX&&0!==t.offsetX||(this.p.x+=(t.offsetX-this.p.x)*this.ease,this.p.y+=(t.offsetY-this.p.y)*this.ease),this._allowEmitting&&o($t.prototype.__proto__||Object.getPrototypeOf($t.prototype),"emit",this).call(this,"once")}},{key:"destroy",value:function(){o($t.prototype.__proto__||Object.getPrototypeOf($t.prototype),"destroy",this).call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)}}]),$t);function $t(t,e,n){return r(this,$t),(n=l(this,($t.__proto__||Object.getPrototypeOf($t)).call(this,n))).mouseTarget=P.initValue(t,window),n.ease=P.initValue(e,.7),n._allowEmitting=!1,n.initEventHandler(),n}var Jt=(i(te,[{key:"setStroke",value:function(t,e){t=0<arguments.length&&void 0!==t?t:"#000000",e=1<arguments.length&&void 0!==e?e:1,this.stroke={color:t,thinkness:e}}},{key:"initHandler",value:function(){var t=this;this._protonUpdateHandler=function(){t.onProtonUpdate.call(t)},this._protonUpdateAfterHandler=function(){t.onProtonUpdateAfter.call(t)},this._emitterAddedHandler=function(e){t.onEmitterAdded.call(t,e)},this._emitterRemovedHandler=function(e){t.onEmitterRemoved.call(t,e)},this._particleCreatedHandler=function(e){t.onParticleCreated.call(t,e)},this._particleUpdateHandler=function(e){t.onParticleUpdate.call(t,e)},this._particleDeadHandler=function(e){t.onParticleDead.call(t,e)}}},{key:"init",value:function(t){(this.parent=t).addEventListener("PROTON_UPDATE",this._protonUpdateHandler),t.addEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),t.addEventListener("EMITTER_ADDED",this._emitterAddedHandler),t.addEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),t.addEventListener("PARTICLE_CREATED",this._particleCreatedHandler),t.addEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),t.addEventListener("PARTICLE_DEAD",this._particleDeadHandler)}},{key:"resize",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.parent.removeEventListener("PROTON_UPDATE",this._protonUpdateHandler),this.parent.removeEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),this.parent.removeEventListener("EMITTER_ADDED",this._emitterAddedHandler),this.parent.removeEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),this.parent.removeEventListener("PARTICLE_CREATED",this._particleCreatedHandler),this.parent.removeEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),this.parent.removeEventListener("PARTICLE_DEAD",this._particleDeadHandler),this.parent=null}},{key:"onProtonUpdate",value:function(){}},{key:"onProtonUpdateAfter",value:function(){}},{key:"onEmitterAdded",value:function(){}},{key:"onEmitterRemoved",value:function(){}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(){}},{key:"onParticleDead",value:function(){}}]),te);function te(t,e){r(this,te),this.pool=new T,this.element=t,this.stroke=e,this.circleConf={isCircle:!0},this.initHandler(),this.name="BaseRenderer"}var ee=(s(ne,Jt),i(ne,[{key:"resize",value:function(t,e){this.element.width=t,this.element.height=e}},{key:"onProtonUpdate",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:"onParticleCreated",value:function(t){t.body?k(t.body,this.addImg2Body,t):t.color=t.color||"#ff0000"}},{key:"onParticleUpdate",value:function(t){t.body?t.body instanceof Image&&this.drawImage(t):this.drawCircle(t)}},{key:"onParticleDead",value:function(t){t.body=null}},{key:"addImg2Body",value:function(t,e){e.body=t}},{key:"drawImage",value:function(t){var n,r=t.body.width*t.scale|0,i=t.body.height*t.scale|0,a=t.p.x-r/2,o=t.p.y-i/2;t.color?(t.data.buffer||(t.data.buffer=this.createBuffer(t.body)),(n=t.data.buffer.getContext("2d")).clearRect(0,0,t.data.buffer.width,t.data.buffer.height),n.globalAlpha=t.alpha,n.drawImage(t.body,0,0),n.globalCompositeOperation="source-atop",n.fillStyle=H.rgbToHex(t.rgb),n.fillRect(0,0,t.data.buffer.width,t.data.buffer.height),n.globalCompositeOperation="source-over",n.globalAlpha=1,this.context.drawImage(t.data.buffer,0,0,t.data.buffer.width,t.data.buffer.height,a,o,r,i)):(this.context.save(),this.context.globalAlpha=t.alpha,this.context.translate(t.p.x,t.p.y),this.context.rotate(e.degreeTransform(t.rotation)),this.context.translate(-t.p.x,-t.p.y),this.context.drawImage(t.body,0,0,t.body.width,t.body.height,a,o,r,i),this.context.globalAlpha=1,this.context.restore())}},{key:"drawCircle",value:function(t){t.rgb?this.context.fillStyle="rgba("+t.rgb.r+","+t.rgb.g+","+t.rgb.b+","+t.alpha+")":this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:"createBuffer",value:function(t){if(t instanceof Image){var e=t.width+"_"+t.height,n=this.bufferCache[e];return n||((n=document.createElement("canvas")).width=t.width,n.height=t.height,this.bufferCache[e]=n),n}}}]),ne);function ne(t){return r(this,ne),(t=l(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,t))).stroke=null,t.context=t.element.getContext("2d"),t.bufferCache={},t.name="CanvasRenderer",t}var re=(s(ie,Jt),i(ie,[{key:"onParticleCreated",value:function(t){t.body?k(t.body,this.addImg2Body,t):(t.body=this.pool.get(this.circleConf,t),this.element.appendChild(t.body))}},{key:"onParticleUpdate",value:function(t){this.bodyReady(t)&&(this.transform3d?m.transform3d(t.body,t.p.x,t.p.y,t.scale,t.rotation):m.transform(t.body,t.p.x,t.p.y,t.scale,t.rotation),t.body.style.opacity=t.alpha,t.body.isCircle&&(t.body.style.backgroundColor=t.color||"#ff0000"))}},{key:"onParticleDead",value:function(t){this.bodyReady(t)&&(this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null)}},{key:"bodyReady",value:function(t){return"object"===n(t.body)&&t.body&&!t.body.isInner}},{key:"addImg2Body",value:function(t,e){e.dead||(e.body=this.pool.get(t,e),m.resize(e.body,t.width,t.height),this.element.appendChild(e.body))}},{key:"createBody",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t,e)}},{key:"createCircle",value:function(t){var e=m.createDiv(t.id+"_dom",2*t.radius,2*t.radius);return e.style.borderRadius=t.radius+"px",this.stroke&&(e.style.borderColor=this.stroke.color,e.style.borderWidth=this.stroke.thinkness+"px"),e.isCircle=!0,e}},{key:"createSprite",value:function(t,e){var n="string"==typeof t?t:t.src;return(t=m.createDiv(e.id+"_dom",t.width,t.height)).style.backgroundImage="url("+n+")",t}}]),ie);function ie(t){r(this,ie);var e=l(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,t));return e.stroke=null,e.pool.create=function(t,n){return e.createBody(t,n)},e.addImg2Body=e.addImg2Body.bind(e),e.transform3d=!1,e.name="DomRenderer",e}var ae=(s(oe,Jt),i(oe,[{key:"onParticleCreated",value:function(t){t.body?this.createSprite(t):this.createCircle(t),this.element.addChild(t.body)}},{key:"onParticleUpdate",value:function(t){t.body&&(t.body.x=t.p.x,t.body.y=t.p.y,t.body.alpha=t.alpha,t.body.scaleX=t.body.scaleY=t.scale,t.body.rotation=t.rotation)}},{key:"onParticleDead",value:function(t){t.body&&(t.body.parent&&t.body.parent.removeChild(t.body),this.pool.expire(t.body),t.body=null),t.graphics&&this.pool.expire(t.graphics)}},{key:"createSprite",value:function(t){t.body=this.pool.get(t.body),t.body.parent||t.body.image&&(t.body.regX=t.body.image.width/2,t.body.regY=t.body.image.height/2)}},{key:"createCircle",value:function(t){var e=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?e.beginStroke(this.stroke):e.beginStroke("#000000")),e.beginFill(t.color||"#ff0000").drawCircle(0,0,t.radius);var n=this.pool.get(createjs.Shape,[e]);t.body=n,t.graphics=e}}]),oe);function oe(t,e){return r(this,oe),(t=l(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,t))).stroke=e,t.name="EaselRenderer",t}var se=(s(le,Jt),i(le,[{key:"resize",value:function(t,e){this.element.width=t,this.element.height=e}},{key:"createImageData",value:function(t){this.rectangle=t||new W(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onProtonUpdate",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:"onProtonUpdateAfter",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(t){this.imageData&&this.setPixel(this.imageData,Math.floor(t.p.x-this.rectangle.x),Math.floor(t.p.y-this.rectangle.y),t)}},{key:"setPixel",value:function(t,e,n,r){var i=r.rgb;e<0||e>this.element.width||n<0||n>this.elementwidth||(e=4*((n>>0)*t.width+(e>>0)),t.data[e]=i.r,t.data[1+e]=i.g,t.data[2+e]=i.b,t.data[3+e]=255*r.alpha)}},{key:"onParticleDead",value:function(){}}]),le);function le(t,e){return r(this,le),(t=l(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,t))).context=t.element.getContext("2d"),t.imageData=null,t.rectangle=null,t.rectangle=e,t.createImageData(e),t.name="PixelRenderer",t}var ue=void 0,he=(s(ce,Jt),i(ce,[{key:"setPIXI",value:function(t){try{ue=t||{Sprite:{}},this.createFromImage=ue.Sprite.from||ue.Sprite.fromImage}catch(e){}}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(t){t.body?t.body=this.pool.get(t.body,t):t.body=this.pool.get(this.circleConf,t),this.blendMode&&(t.body.blendMode=this.blendMode),this.element.addChild(t.body)}},{key:"onParticleUpdate",value:function(t){this.transform(t,t.body),!0!==this.setColor&&!0!==this.color||(t.body.tint=H.getHex16FromParticle(t))}},{key:"onParticleDead",value:function(t){this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null}},{key:"destroy",value:function(t){o(ce.prototype.__proto__||Object.getPrototypeOf(ce.prototype),"destroy",this).call(this),this.pool.destroy();for(var e=t.length;e--;){var n=t[e];n.body&&this.element.removeChild(n.body)}}},{key:"transform",value:function(t,n){n.x=t.p.x,n.y=t.p.y,n.alpha=t.alpha,n.scale.x=t.scale,n.scale.y=t.scale,n.rotation=t.rotation*e.PI_180}},{key:"createBody",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t)}},{key:"createSprite",value:function(t){return(t=t.isInner?this.createFromImage(t.src):new ue.Sprite(t)).anchor.x=.5,t.anchor.y=.5,t}},{key:"createCircle",value:function(t){var e,n=new ue.Graphics;return this.stroke&&(e=this.stroke instanceof String?this.stroke:0,n.beginStroke(e)),n.beginFill(t.color||36077),n.drawCircle(0,0,t.radius),n.endFill(),n}}]),ce);function ce(t,e){r(this,ce);var n=l(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,t));return n.stroke=e,n.color=!1,n.setColor=!1,n.blendMode=null,n.pool.create=function(t,e){return n.createBody(t,e)},n.setPIXI(window.PIXI),n.name="PixiRenderer",n}var de=(i(pe,[{key:"set",value:function(t,e){0===e?q.set(t,this.mats[0]):q.multiply(this.mats[e-1],t,this.mats[e]),this.size=Math.max(this.size,e+1)}},{key:"push",value:function(t){0===this.size?q.set(t,this.mats[0]):q.multiply(this.mats[this.size-1],t,this.mats[this.size]),this.size++}},{key:"pop",value:function(){0<this.size&&this.size--}},{key:"top",value:function(){return this.mats[this.size-1]}}]),pe);function pe(){r(this,pe),this.mats=[];for(var t=this.size=0;t<20;t++)this.mats.push(q.create([0,0,0,0,0,0,0,0,0]))}function fe(t){return r(this,fe),(t=l(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,t))).gl=t.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),t.gl||alert("Sorry your browser do not suppest WebGL!"),t.initVar(),t.setMaxRadius(),t.initShaders(),t.initBuffers(),t.gl.blendEquation(t.gl.FUNC_ADD),t.gl.blendFunc(t.gl.SRC_ALPHA,t.gl.ONE_MINUS_SRC_ALPHA),t.gl.enable(t.gl.BLEND),t.addImg2Body=t.addImg2Body.bind(t),t.name="WebGLRenderer",t}function ve(t){return r(this,ve),(t=l(this,(ve.__proto__||Object.getPrototypeOf(ve)).call(this,t))).name="CustomRenderer",t}s(fe,Jt),i(fe,[{key:"init",value:function(t){o(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"init",this).call(this,t),this.resize(this.element.width,this.element.height)}},{key:"resize",value:function(t,e){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/t,this.smat[4]=1/e,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,t,e),this.element.width=t,this.element.height=e}},{key:"setMaxRadius",value:function(t){this.circleCanvasURL=this.createCircle(t)}},{key:"getVertexShader",value:function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join("\n")}},{key:"getFragmentShader",value:function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join("\n")}},{key:"initVar",value:function(){this.mstack=new de,this.umat=q.create([2,0,1,0,-2,0,-1,1,1]),this.smat=q.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:"blendEquation",value:function(t){this.gl.blendEquation(this.gl[t])}},{key:"blendFunc",value:function(t,e){this.gl.blendFunc(this.gl[t],this.gl[e])}},{key:"getShader",value:function(t,e,n){return n=n?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER),t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(alert(t.getShaderInfoLog(n)),null)}},{key:"initShaders",value:function(){var t=this.getShader(this.gl,this.getFragmentShader(),!0),e=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,e),this.gl.attachShader(this.sprogram,t),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:"initBuffers",value:function(){var t;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);var e=void 0,n=[];for(e=0;e<100;e++)n.push(e);for(t=new Uint16Array(n),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW),n=[],e=0;e<100;e++)n.push(e,e+1,e+2);t=new Uint16Array(n),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW)}},{key:"createCircle",value:function(t){this.circleCanvasRadius=c(P.initValue(t,32));var e=m.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius);return(t=e.getContext("2d")).beginPath(),t.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),t.closePath(),t.fillStyle="#FFF",t.fill(),e.toDataURL()}},{key:"drawImg2Canvas",value:function(t){var e=t.body.width,n=t.body.height,r=c(t.body.width),i=c(t.body.height),a=t.body.width/r,o=t.body.height/i;this.texturebuffers[t.data.src]||(this.texturebuffers[t.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),t.data.texture=this.texturebuffers[t.data.src][0],t.data.vcBuffer=this.texturebuffers[t.data.src][1],t.data.tcBuffer=this.texturebuffers[t.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,a,0,0,o,o,o]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,n,e,n]),this.gl.STATIC_DRAW),i=t.data.canvas.getContext("2d").getImageData(0,0,r,i),this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,i),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),t.data.textureLoaded=!0,t.data.textureWidth=e,t.data.textureHeight=n}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(t){t.data.textureLoaded=!1,t.data.tmat=q.create(),t.data.tmat[8]=1,t.data.imat=q.create(),t.data.imat[8]=1,t.body?k(t.body,this.addImg2Body,t):(k(this.circleCanvasURL,this.addImg2Body,t),t.data.oldScale=t.radius/this.circleCanvasRadius)}},{key:"addImg2Body",value:function(t,e){e.dead||(e.body=t,e.data.src=t.src,e.data.canvas=x(t),e.data.oldScale=1,this.drawImg2Canvas(e))}},{key:"onParticleUpdate",value:function(t){t.data.textureLoaded&&(this.updateMatrix(t),this.gl.uniform3f(this.sprogram.color,t.rgb.r/255,t.rgb.g/255,t.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:"onParticleDead",value:function(){}},{key:"updateMatrix",value:function(t){var n=d(-t.data.textureWidth/2,-t.data.textureHeight/2),r=d(t.p.x,t.p.y),i=t.rotation*e.PI_180,a=p(i);i=t.scale*t.data.oldScale,i=f(i,i),i=v(n,i),i=v(i,a),i=v(i,r),q.inverse(i,t.data.imat),i[2]=t.alpha,this.mstack.push(i)}}]),A=fe,s(ve,Jt),Jt=ve;var me=(s(ge,rt),i(ge,[{key:"getPosition",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:"getDirection",value:function(t,e){var n=this.dy,r=-this.dx;return 0<(n*t+r*e+this.dot)*(0==r?1:r)}},{key:"getDistance",value:function(t,e){return(this.dy*t+-this.dx*e+this.dot)/Math.sqrt(this.xxyy)}},{key:"getSymmetric",value:function(t){var e=t.getGradient(),n=2*(this.getGradient()-e),r=t.x;return e=t.y,t.x=r*Math.cos(n)-e*Math.sin(n),t.y=r*Math.sin(n)+e*Math.cos(n),t}},{key:"getGradient",value:function(){return Math.atan2(this.dy,this.dx)}},{key:"rangeOut",value:function(t){if(Math.abs(this.getGradient())<=e.PI/4){if(t.p.x<=this.maxx&&t.p.x>=this.minx)return!0}else if(t.p.y<=this.maxy&&t.p.y>=this.miny)return!0;return!1}},{key:"getLength",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:"crossing",value:function(t){"dead"===this.crossType?">"===this.direction||"R"===this.direction||"right"===this.direction||"down"===this.direction?this.rangeOut(t)&&this.getDirection(t.p.x,t.p.y)&&(t.dead=!0):this.rangeOut(t)&&(this.getDirection(t.p.x,t.p.y)||(t.dead=!0)):"bound"===this.crossType?this.rangeOut(t)&&this.getDistance(t.p.x,t.p.y)<=t.radius&&(0===this.dx?t.v.x*=-1:0===this.dy?t.v.y*=-1:this.getSymmetric(t.v)):"cross"===this.crossType&&this.alert&&(console.error("Sorry, LineZone does not support cross method!"),this.alert=!1)}}]),ge);function ge(t,e,n,i,a){r(this,ge);var o=l(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this));return 0<=n-t?(o.x1=t,o.y1=e,o.x2=n,o.y2=i):(o.x1=n,o.y1=i,o.x2=t,o.y2=e),o.dx=o.x2-o.x1,o.dy=o.y2-o.y1,o.minx=Math.min(o.x1,o.x2),o.miny=Math.min(o.y1,o.y2),o.maxx=Math.max(o.x1,o.x2),o.maxy=Math.max(o.y1,o.y2),o.dot=o.x2*o.y1-o.x1*o.y2,o.xxyy=o.dx*o.dx+o.dy*o.dy,o.gradient=o.getGradient(),o.length=o.getLength(),o.direction=P.initValue(a,">"),o}var ye=(s(be,rt),i(be,[{key:"getPosition",value:function(){return this.angle=e.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:"setCenter",value:function(t,e){this.center.x=t,this.center.y=e}},{key:"crossing",value:function(t){var e=t.p.distanceTo(this.center);"dead"===this.crossType?e-t.radius>this.radius&&(t.dead=!0):"bound"===this.crossType?e+t.radius>=this.radius&&this.getSymmetric(t):"cross"===this.crossType&&this.alert&&(console.error("Sorry, CircleZone does not support cross method!"),this.alert=!1)}},{key:"getSymmetric",value:function(t){var e=t.v.getGradient(),n=2*(this.getGradient(t)-e),r=t.v.x;e=t.v.y,t.v.x=r*Math.cos(n)-e*Math.sin(n),t.v.y=r*Math.sin(n)+e*Math.cos(n)}},{key:"getGradient",value:function(t){return-e.PI_2+Math.atan2(t.p.y-this.center.y,t.p.x-this.center.x)}}]),be);function be(t,e,n){r(this,be);var i=l(this,(be.__proto__||Object.getPrototypeOf(be)).call(this));return i.x=t,i.y=e,i.radius=n,i.angle=0,i.center={x:t,y:e},i}var we=(s(ke,rt),i(ke,[{key:"getPosition",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:"crossing",value:function(t){"dead"===this.crossType?((t.p.x+t.radius<this.x||t.p.x-t.radius>this.x+this.width)&&(t.dead=!0),(t.p.y+t.radius<this.y||t.p.y-t.radius>this.y+this.height)&&(t.dead=!0)):"bound"===this.crossType?(t.p.x-t.radius<this.x?(t.p.x=this.x+t.radius,t.v.x*=-1):t.p.x+t.radius>this.x+this.width&&(t.p.x=this.x+this.width-t.radius,t.v.x*=-1),t.p.y-t.radius<this.y?(t.p.y=this.y+t.radius,t.v.y*=-1):t.p.y+t.radius>this.y+this.height&&(t.p.y=this.y+this.height-t.radius,t.v.y*=-1)):"cross"===this.crossType&&(t.p.x+t.radius<this.x&&t.v.x<=0?t.p.x=this.x+this.width+t.radius:t.p.x-t.radius>this.x+this.width&&0<=t.v.x&&(t.p.x=this.x-t.radius),t.p.y+t.radius<this.y&&t.v.y<=0?t.p.y=this.y+this.height+t.radius:t.p.y-t.radius>this.y+this.height&&0<=t.v.y&&(t.p.y=this.y-t.radius))}}]),ke);function ke(t,e,n,i){r(this,ke);var a=l(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this));return a.x=t,a.y=e,a.width=n,a.height=i,a}function xe(t,e,n,i){r(this,xe);var a=l(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this));return a.reset(t,e,n,i),a}return s(xe,rt),i(xe,[{key:"reset",value:function(t,e,n,r){this.imageData=t,this.x=P.initValue(e,0),this.y=P.initValue(n,0),this.d=P.initValue(r,2),this.vectors=[],this.setVectors()}},{key:"setVectors",value:function(){var t=void 0,e=void 0,n=this.imageData.width,r=this.imageData.height;for(t=0;t<n;t+=this.d)for(e=0;e<r;e+=this.d){var i=4*((e>>0)*n+(t>>0));0<this.imageData.data[3+i]&&this.vectors.push({x:t+this.x,y:e+this.y})}return this.vector}},{key:"getBound",value:function(t,e){return t=4*((e>>0)*this.imageData.width+(t>>0)),0<this.imageData.data[3+t]}},{key:"getPosition",value:function(){var t=P.getRandFromArray(this.vectors);return this.vector.copy(t)}},{key:"getColor",value:function(t,e){return t-=this.x,t=4*(((e-=this.y)>>0)*this.imageData.width+(t>>0)),{r:this.imageData.data[t],g:this.imageData.data[1+t],b:this.imageData.data[2+t],a:this.imageData.data[3+t]}}},{key:"crossing",value:function(t){"dead"===this.crossType?this.getBound(t.p.x-this.x,t.p.y-this.y)?t.dead=!0:t.dead=!1:"bound"===this.crossType&&(this.getBound(t.p.x-this.x,t.p.y-this.y)||t.v.negate())}}]),s=xe,i={addEventListener:function(t,e){t.addEventListener("PROTON_UPDATE_AFTER",(function(){return e()}))},getStyle:function(t){return"rgba("+(t=H.hexToRgb(0<arguments.length&&void 0!==t?t:"#ff0000")).r+", "+t.g+", "+t.b+", 0.5)"},drawZone:function(t,e,n,r){var i=e.getContext("2d"),a=this.getStyle();this.addEventListener(t,(function(){r&&i.clearRect(0,0,e.width,e.height),n instanceof at?(i.beginPath(),i.fillStyle=a,i.arc(n.x,n.y,10,0,2*Math.PI,!0),i.fill(),i.closePath()):n instanceof me?(i.beginPath(),i.strokeStyle=a,i.moveTo(n.x1,n.y1),i.lineTo(n.x2,n.y2),i.stroke(),i.closePath()):n instanceof we?(i.beginPath(),i.strokeStyle=a,i.drawRect(n.x,n.y,n.width,n.height),i.stroke(),i.closePath()):n instanceof ye&&(i.beginPath(),i.strokeStyle=a,i.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),i.stroke(),i.closePath())}))},drawEmitter:function(t,e,n,r){var i=e.getContext("2d"),a=this.getStyle();this.addEventListener(t,(function(){r&&i.clearRect(0,0,e.width,e.height),i.beginPath(),i.fillStyle=a,i.arc(n.p.x,n.p.y,10,0,2*Math.PI,!0),i.fill(),i.closePath()}))}},B.Particle=U,B.Pool=T,B.Util=P,B.ColorUtil=H,B.MathUtil=e,B.Vector2D=B.Vector=V,B.Polar2D=B.Polar=X,B.ArraySpan=Y,B.Rectangle=W,B.Rate=Q,B.ease=F,B.Span=u,B.Mat3=q,B.getSpan=function(t,e,n){return new u(t,e,n)},B.createArraySpan=Y.createArraySpan,B.Initialize=B.Init=J,B.Life=B.L=et,B.Position=B.P=st,B.Velocity=B.V=ut,B.Mass=B.M=ct,B.Radius=B.R=pt,B.Body=B.B=vt,B.Behaviour=gt,B.Force=B.F=bt,B.Attraction=B.A=kt,B.RandomDrift=B.RD=Pt,B.Gravity=B.G=_t,B.Collision=Ct,B.CrossZone=St,B.Alpha=Rt,B.Scale=B.S=It,B.Rotate=Dt,B.Color=Lt,B.Repulsion=Nt,B.Cyclone=jt,B.GravityWell=Xt,B.Emitter=Yt,B.BehaviourEmitter=Wt,B.FollowEmitter=Qt,B.Zone=rt,B.LineZone=me,B.CircleZone=ye,B.PointZone=at,B.RectZone=we,B.ImageZone=s,B.CanvasRenderer=ee,B.DomRenderer=re,B.EaselRenderer=ae,B.PixiRenderer=he,B.PixelRenderer=se,B.WebGLRenderer=B.WebGlRenderer=A,B.CustomRenderer=Jt,B.Debug=i,P.assign(B,F),B}(),Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},$e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Je=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},tn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},en=function(){function t(){Qe(this,t),this.list=[]}return $e(t,[{key:"set",value:function(t,e){this.list.push({probability:t,target:e,a:0,b:1}),this.calculation()}},{key:"calculation",value:function(){for(var t=0,e=0;e<this.list.length;e++)t+=this.list[e].probability;for(var n=0;n<this.list.length;n++){var r=this.list[n],i=r.probability/t;r.a=0===n?0:this.list[n-1].b,r.b=r.a+i}}},{key:"getResult",value:function(){for(var t=Math.random(),e=0;e<this.list.length;e++){var n=this.list[e];if(t<=n.b&&t>n.a)return n.target}return this.list[0].target}}]),t}(),nn=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._iid=0,n._oid=0,n.size={width:0,height:0},n.canvasRef=v.createRef(),n}return Je(e,t),$e(e,[{key:"componentDidMount",value:function(){var t=this;this._oid=setTimeout((function(){t.initCanvas(),t.resize=t.resize.bind(t),window.addEventListener("resize",t.resize)}),100);var e=this.getCanvas();this.props.onCanvasDidMount&&this.props.onCanvasDidMount(e)}},{key:"initCanvas",value:function(){var t=this.getCanvas();this.props.globalCompositeOperation&&(t.getContext("2d").globalCompositeOperation=this.props.globalCompositeOperation);var e=this.setCanvasSize(t),n=e.width,r=e.height;this.heartbeatDetectionCanvasSize(t),this.props.onCanvasInited(t,n,r)}},{key:"getCanvas",value:function(){return this.canvasRef.current}},{key:"heartbeatDetectionCanvasSize",value:function(t){var e=this;this._iid=setInterval((function(){if(e.canvasRef.current&&e.canvasRef.current.clientHeight!==e.size.height){var n=e.setCanvasSize(t),r=n.width,i=n.height;e.props.onResize&&e.props.onResize(r,i)}}),100)}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.resize),clearInterval(this._iid),clearTimeout(this._oid)}catch(t){}}},{key:"resize",value:function(){var t=this.getCanvas(),e=this.setCanvasSize(t),n=e.width,r=e.height;this.props.onResize&&this.props.onResize(n,r)}},{key:"setCanvasSize",value:function(t){var e=this.canvasRef.current.clientWidth,n=this.canvasRef.current.clientHeight;return this.size.width=e,this.size.height=n,t.width=e,t.height=n,{width:e,height:n}}},{key:"handleWaypointEnter",value:function(){Ye.start()}},{key:"handleWaypointLeave",value:function(){Ye.stop()}},{key:"getStyle",value:function(){var t=this.props.bg,e={width:"100%",height:"100%"};return!0===t?e=Object.assign(e,{position:"absolute",zIndex:-1,top:0,left:0}):t&&"object"===(void 0===t?"undefined":Ke(t))&&(e=Object.assign(e,t)),e}},{key:"handleMouseDown",value:function(t){this.props.onMouseDown&&this.props.onMouseDown(t)}},{key:"render",value:function(){return v.createElement("canvas",{className:"particles-bg-canvas-self",ref:this.canvasRef,onMouseDown:this.handleMouseDown.bind(this),style:this.getStyle()})}}]),e}(v.Component);
/*!
* RAFManager v0.1.0
*
* Copyright 2018-2018, ajiemath <ajiemath@gmail.com>
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/function rn(t,e){var n,r=void 0;return t?"rgba("+(r=(n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{}).r+","+r.g+","+r.b+", "+e+")":null}var an=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),this.createMiniEmitter(t),Ye.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(t,e,n){var r=this,i=t.getContext("2d");this.proton=new We;var a=new We.Emitter;a.rate=new We.Rate(this.props.num?new We.Span(this.props.num):new We.Span(4,9),new We.Span(.8,1.3)),a.addInitialize(new We.Mass(1)),a.addInitialize(new We.Radius(1,50)),a.addInitialize(new We.Life(5,6)),a.addInitialize(new We.Velocity(new We.Span(5,8),new We.Span(30,70),"polar")),a.addBehaviour(new We.Alpha(1,0)),a.addBehaviour(new We.Color(["#36aaf3","#fd769c","#94ff22","#ffa545","#ffffff"])),a.addBehaviour(new We.Scale(.7,1)),a.addBehaviour(new We.Gravity(3)),a.addBehaviour(new We.Collision(a)),a.addBehaviour(this.customDeadBehaviour(t)),a.addBehaviour(new We.CrossZone(new We.RectZone(0,0,t.width,t.height),"bound")),a.p.x=Math.min(500,Math.max(t.width/2-400,50)),a.p.y=t.height/2+50,a.emit(),this.proton.addEmitter(a);var o=new We.CanvasRenderer(t);o.onProtonUpdate=function(){i.fillStyle=rn(r.props.color,.2)||"rgba(255, 255, 255, 0.2)",i.fillRect(0,0,t.width,t.height)},this.proton.addRenderer(o)}},{key:"customDeadBehaviour",value:function(t){var e=this;return{initialize:function(t){},applyBehaviour:function(n){n.p.y+n.radius>=t.height&&n.radius>9&&(e.miniEmitteing(n),n.dead=!0)}}}},{key:"createMiniEmitter",value:function(t){var e=new We.Emitter;e.rate=new We.Rate(new We.Span(3,6),new We.Span(1,2)),e.addInitialize(new We.Mass(1)),e.radiusInitialize=new We.Radius,e.addInitialize(e.radiusInitialize),e.addInitialize(new We.Life(.5,1)),e.addInitialize(new We.V(new We.Span(1.5,3),new We.Span(0,70,!0),"polar")),e.colorBehaviour=new We.Color("#ffffff"),e.addBehaviour(new We.Alpha(1,0)),e.addBehaviour(e.colorBehaviour),e.addBehaviour(new We.Gravity(4)),e.addBehaviour(new We.Collision(e)),e.addBehaviour(new We.CrossZone(new We.RectZone(0,0,t.width,t.height),"bound")),this.proton.addEmitter(e),this.miniEmitter=e}},{key:"miniEmitteing",value:function(t){var e=this.miniEmitter;e.radiusInitialize.reset(.05*t.radius,.2*t.radius),e.colorBehaviour.reset(t.color),e.p.x=t.p.x,e.p.y=t.p.y,e.emit("once")}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),on=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),Ye.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(t,e,n){this.proton=new We;var r=new We.Emitter;r.rate=new We.Rate(this.props.num?new We.Span(this.props.num):new We.Span(5,8),new We.Span(.1,.25)),r.addInitialize(new We.Mass(1)),r.addInitialize(new We.Radius(20,200)),r.addInitialize(new We.Life(2,4)),r.addInitialize(new We.Position(new We.RectZone(0,0,e,n))),r.addBehaviour(new We.Alpha(0,1,1/0,We.easeOutCubic)),r.addBehaviour(new We.Scale(1,0,1/0,We.easeOutCubic)),r.addBehaviour(new We.Color(this.colors,"random")),r.emit(),this.proton.addEmitter(r);var i=new We.CanvasRenderer(t);this.proton.addRenderer(i)}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),sn=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),Ye.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"getProp",value:function(t,e){var n=(this.props.config||{})[t]||e;return Array.isArray(n)?new We.Span(n[0],n[1]):n}},{key:"getArrProp",value:function(t,e){var n=(this.props.config||{})[t]||e;return n?Array.isArray(n)?n:[n,n]:null}},{key:"createProton",value:function(t,e,n){var r=this.getProp("num",[5,8]),i=this.getProp("rps",[.1,.2]),a=this.getProp("mass",1),o=this.getProp("radius",[10,30]),s=this.getProp("life",[2,3]),l=this.getProp("body"),u=this.getProp("position"),h=this.getProp("v",[2,3]),c=this.getProp("tha",[-15,15]),d=this.getArrProp("alpha"),p=this.getArrProp("scale"),f=this.getArrProp("color"),v=this.getProp("cross","dead"),m=this.getProp("random"),g=this.getArrProp("rotate"),y=this.getProp("g"),b=this.getArrProp("f"),w=this.getProp("emitter");this.proton=new We;var k=void 0;(k="follow"===w?new We.FollowEmitter:new We.Emitter).rate=new We.Rate(r,i),k.addInitialize(new We.Mass(a)),k.addInitialize(new We.Radius(o)),k.addInitialize(new We.Life(s)),k.addInitialize(new We.Velocity(h,c,"polar")),l&&k.addInitialize(new We.Body(l));var x=void 0;"all"===u||"screen"===u?x=new We.Position(new We.RectZone(0,0,t.width,t.height)):"object"===(void 0===u?"undefined":Ke(u))?x=new We.Position(new We.RectZone(u.x,u.y,u.width,u.height)):(k.p.x=t.width/2,k.p.y=t.height/2),k.addInitialize(x);var P=d?new We.Alpha(d[0],d[1]):new We.Alpha(0,1),E=p?new We.Scale(p[0],p[1]):new We.Scale(1,.2),_=f?new We.Color(f[0],f[1]):new We.Color(this.colors);k.addBehaviour(P),k.addBehaviour(E),l||k.addBehaviour(_),g&&(!0===g[0]||"rotate"===g[0]?k.addBehaviour(new We.Rotate):k.addBehaviour(new We.Rotate(g[0],g[1])));var T=new We.RectZone(0,0,t.width,t.height),C=new We.CrossZone(T,v);k.addBehaviour(C),m&&k.addBehaviour(new We.RandomDrift(m,m,.05)),y&&k.addBehaviour(new We.G(y)),b&&k.addBehaviour(new We.F(b[0],b[1])),k.emit(),this.proton.addEmitter(k);var O=this.createRenderer(t);this.proton.addRenderer(O),this.emitter=k,this.crossZoneBehaviour=C}},{key:"createRenderer",value:function(t){var e=t.width,n=t.height,r=t.getContext("2d"),i=new We.CanvasRenderer(t),a=this.getProp("onUpdate");a&&(i.onProtonUpdate=function(){a(r,e,n)});var o=this.getProp("onParticleCreated");o&&(i.onParticleCreated=function(t){o(r,t)});var s=this.getProp("onParticleUpdate");return s&&(i.onParticleUpdate=function(t){s(r,t)}),i}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"handleMouseDown",value:function(t){var e=this.getProp("onMouseDown");e&&e(t)}},{key:"render",value:function(){var t=this.props.globalCompositeOperation||this.props.operation||"source-over";return v.createElement(nn,{bg:this.props.bg,onMouseDown:this.handleMouseDown.bind(this),globalCompositeOperation:t,onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),ln=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"onCanvasDidMount",value:function(t){this.props.color&&(t.style.backgroundColor=this.props.color)}},{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),Ye.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,n){this.proton=new We;var r=new We.Emitter;r.damping=.008,r.rate=new We.Rate(this.props.num?this.props.num:250),r.addInitialize(new We.Mass(1)),r.addInitialize(new We.Radius(4)),r.addInitialize(new We.Velocity(new We.Span(1.5),new We.Span(0,360),"polar"));var i={x:e/2,y:n/2},a=new We.Attraction(i,0,0),o=new We.CrossZone(new We.RectZone(0,0,t.width,t.height),"cross");r.addBehaviour(new We.Color("random")),r.addBehaviour(a,o),r.addBehaviour(new We.RandomDrift(10,10,.05)),r.p.x=t.width/2,r.p.y=t.height/2,r.emit("once"),this.proton.addEmitter(r),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=o}},{key:"createRenderer",value:function(t){var e=this,n=t.getContext("2d"),r=new We.CanvasRenderer(t);return r.onProtonUpdate=function(){n.fillStyle=rn(e.props.color,.02)||"rgba(0, 0, 0, 0.02)",n.fillRect(0,0,t.width,t.height)},r.onParticleUpdate=function(t){n.beginPath(),n.strokeStyle=t.color,n.lineWidth=1,n.moveTo(t.old.p.x,t.old.p.y),n.lineTo(t.p.x,t.p.y),n.closePath(),n.stroke()},r}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),un=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.hue=0,n.index=0,n.colorTemplate="hsla(hue,80%,50%, 0.75)",n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"onCanvasDidMount",value:function(t){this.props.color&&(t.style.backgroundColor=this.props.color)}},{key:"onCanvasInited",value:function(t,e,n){this.canvas=t,this.createProton(t,e,n),Ye.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,n){this.proton=new We;var r=new We.Emitter;r.damping=.008,r.rate=new We.Rate(this.props.num?this.props.num:150),r.addInitialize(new We.Mass(1)),r.addInitialize(new We.Radius(8)),r.addInitialize(new We.V(new We.Span(.1,.5),new We.Span(0,360),"polar")),r.addInitialize(new We.Position(new We.CircleZone(t.width/2,t.height/2,100)));var i=new We.CrossZone(new We.RectZone(0,0,t.width,t.height),"cross");r.addBehaviour(i),this.repulsion=new We.Repulsion({x:t.width/2,y:t.height/2-100},3,300),this.attraction=new We.Attraction({x:t.width/2,y:t.height/2},3,200),r.addBehaviour(this.attraction,this.repulsion),r.addBehaviour(new We.Color("random")),r.addBehaviour(new We.RandomDrift(20,15,.15)),r.emit("once"),this.proton.addEmitter(r),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=i}},{key:"createRenderer",value:function(t){var e=this,n=t.getContext("2d"),r=new We.CanvasRenderer(t);return r.onProtonUpdate=function(){e.hue+=1,n.fillStyle=rn(e.props.color,.02)||"rgba(0, 0, 0, 0.02)",n.fillRect(0,0,t.width,t.height)},r.onParticleCreated=function(t){t.data.begin=We.MathUtil.randomAToB(1,120),t.data.tha=We.MathUtil.randomAToB(0,2*Math.PI)},r.onParticleUpdate=function(t){var r=t.data.begin+e.hue;t.color=e.colorTemplate.replace("hue",r%360);var i=.25*t.radius*Math.cos(t.data.tha+=.01)+.75*t.radius;n.beginPath(),n.fillStyle=t.color,n.arc(t.p.x,t.p.y,i,0,2*Math.PI,!0),n.closePath(),n.fill()},r}},{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"renderProton",value:function(){var t=this.canvas;this.proton.update(),this.index%200==0&&(this.attraction.targetPosition.x=Math.random()*t.width,this.attraction.targetPosition.y=Math.random()*t.height,this.repulsion.targetPosition.x=Math.random()*t.width,this.repulsion.targetPosition.y=Math.random()*t.height),this.index++}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),hn=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.colors=["#fad390","#81ecec","#ffffff","#badc58","#f9ca24","#FEA47F"],n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasDidMount",value:function(t){}},{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),Ye.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t+300,this.crossZoneBehaviour.zone.height=e+300,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,n){this.proton=new We;var r=new We.Emitter;r.rate=new We.Rate(this.props.num?this.props.num:50),r.damping=0,r.addInitialize(new We.Mass(1)),r.addInitialize(new We.Radius(4,70)),r.addInitialize(new We.Velocity(new We.Span(2,10),new We.Span(0),"polar")),r.addInitialize(new We.Position(new We.LineZone(0,t.height,t.width,t.height)));var i=new We.CrossZone(new We.RectZone(-150,-150,t.width+300,t.height+300),"cross");r.addBehaviour(i),r.addBehaviour(new We.Alpha(We.getSpan(.1,.55))),r.addBehaviour(new We.Color(this.colors)),r.emit("once"),this.proton.addEmitter(r);var a=this.createRenderer(t);this.proton.addRenderer(a),this.crossZoneBehaviour=i,r.preEmit(2)}},{key:"createRenderer",value:function(t){var e=t.getContext("2d"),n=new We.CustomRenderer;return n.onProtonUpdate=function(){e.clearRect(0,0,t.width,t.height)},n.onParticleCreated=function(t){var e=t.radius||60,n=We.MathUtil.randomAToB(100,200,"int");t.data.w=e,t.data.h=n},n.onParticleUpdate=function(t){var n=t.data.w,r=t.data.h;e.save(),e.globalAlpha=t.alpha,e.fillStyle=t.color,e.translate(t.p.x,t.p.y),e.rotate(We.MathUtil.degreeTransform(t.rotation)),e.translate(-t.p.x,-t.p.y),e.beginPath(),e.rect(t.p.x-n/2,t.p.y-r/2,n,r),e.closePath(),e.fill(),e.globalAlpha=1,e.restore()},n}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"lighter",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),cn=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),Ye.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,n){this.proton=new We;var r=new We.Emitter;r.rate=new We.Rate(this.props.num?new We.Span(this.props.num):new We.Span(100),new We.Span(.05,.2)),r.addInitialize(new We.Mass(1)),r.addInitialize(new We.Radius(1,4)),r.addInitialize(new We.Life(1/0));var i=new We.Position(new We.RectZone(0,0,e,n));r.addInitialize(i),r.addInitialize(new We.Velocity(new We.Span(.3,.6),new We.Span(0,360),"polar")),r.addBehaviour(new We.Alpha(We.getSpan(.2,.9))),r.addBehaviour(new We.Color(this.props.color||"#333")),this.crossZoneBehaviour=new We.CrossZone(new We.RectZone(0,0,e,n),"cross"),r.addBehaviour(this.crossZoneBehaviour),r.emit("once"),r.damping=0,this.proton.addEmitter(r),this.proton.addRenderer(this.createRenderer(t,r))}},{key:"createRenderer",value:function(t,e){var n=this,r=t.getContext("2d"),i=new We.CanvasRenderer(t);return i.onProtonUpdateAfter=function(){for(var t=e.particles,i=0;i<t.length;i++)for(var a=i+1;a<t.length;a++){var o=t[i],s=t[a],l=o.p.distanceTo(s.p);if(l<140){var u=.5*(1-l/140);r.strokeStyle=rn(n.props.color,u)||"rgba(3, 3, 3, "+u+")",r.beginPath(),r.moveTo(o.p.x,o.p.y),r.lineTo(s.p.x,s.p.y),r.closePath(),r.stroke()}}},i}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),dn=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.colors=["#74b9ff","#e84393","#6c5ce7","#00b894","#fdcb6e","#006266","#1B1464"],n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),Ye.add(this.renderProton)}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,n){this.proton=new We;var r=new We.Emitter;r.rate=new We.Rate(this.props.num||20),r.damping=.008,r.addInitialize(new We.Mass(1)),r.addInitialize(new We.Radius(30,600)),r.addInitialize(new We.Velocity(new We.Span(.5),new We.Span(0,360),"polar")),r.addInitialize(new We.Position(new We.RectZone(0,0,t.width,t.height)));var i=new We.CrossZone(new We.RectZone(0,0,t.width,t.height),"cross");r.addBehaviour(i),r.addBehaviour(new We.Alpha(We.getSpan(.35,.55))),r.addBehaviour(new We.Color(this.getColor())),r.addBehaviour(new We.RandomDrift(50,50,.5)),r.emit("once"),this.proton.addEmitter(r);var a=new We.CanvasRenderer(t);this.proton.addRenderer(a),this.crossZoneBehaviour=i}},{key:"getColor",value:function(){var t=this.colors;return this.props.color&&(t=Array.isArray(this.props.color)?this.props.color:[this.props.color]),t}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"darken",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),pn=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"onCanvasDidMount",value:function(t){}},{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),this.renderProton()}},{key:"onResize",value:function(t,e){this.crossZoneBehaviour.zone.width=t,this.crossZoneBehaviour.zone.height=e,this.proton.renderers[0].resize(t,e)}},{key:"createProton",value:function(t,e,n){this.proton=new We;var r=new We.Emitter;r.damping=.008,r.rate=new We.Rate(this.props.num?this.props.num:50),r.addInitialize(new We.Mass(1)),r.addInitialize(new We.Radius(5,9)),r.addInitialize(new We.Velocity(new We.Span(1.5),new We.Span(0,360),"polar")),r.addInitialize(new We.Position(new We.RectZone(0,0,e,n)));var i={x:e/2,y:n/2},a=new We.Attraction(i,0,0),o=new We.CrossZone(new We.RectZone(0,0,t.width,t.height),"bound");r.addBehaviour(new We.Color(this.props.color||"#bbb")),r.addBehaviour(a,o),r.addBehaviour(new We.RandomDrift(15,15,.05)),r.emit("once"),this.proton.addEmitter(r),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=o}},{key:"createRenderer",value:function(t){var e=t.getContext("2d"),n=new We.CanvasRenderer(t);n.onProtonUpdate=function(){e.clearRect(0,0,t.width,t.height)},n.onParticleCreated=function(t){t.data.points=[],t.data.index=0},n.onParticleUpdate=function(t){a(t),t.data.index%8==0&&r(t),i(t),t.data.index++};var r=function(t){t.data.points.unshift(t.p.y),t.data.points.unshift(t.p.x),t.data.points.length>10&&(t.data.points.pop(),t.data.points.pop())},i=function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),e.closePath(),e.fill()},a=function(t){e.beginPath(),e.strokeStyle=t.color,e.moveTo(t.p.x,t.p.y);for(var n=t.data.points.length,r=0;r<n;r+=2){var i=t.data.points[r],a=t.data.points[r+1];e.lineWidth=o(r,n),e.lineTo(i,a),e.stroke()}},o=function(t,e){if(e<=2)return 1;var n=5/(2/e-1),r=n*((t+2)/e)+(1-n);return r>>=0};return n}},{key:"renderProton",value:function(){var t=this;Ye.add((function(){t.proton.update()}))}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),fn=["#f6b93b","#18dcff","#cd84f1","#ED4C67","#ffffff","#b71540","#32ff7e","#ff3838"],vn=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"onCanvasInited",value:function(t,e,n){this.createProton(t),this.createEmitter({canvas:t,x:e/2,y:n/2,mainEmitter:!0,zone:"bound"}),Ye.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(t){this.proton=new We;var e=this.createRenderer(t);this.proton.addRenderer(e)}},{key:"createRenderer",value:function(t){var e=t.getContext("2d"),n=new We.CustomRenderer;n.onProtonUpdate=function(){e.clearRect(0,0,t.width,t.height)},n.onParticleCreated=function(t){t.data.count=We.MathUtil.randomAToB(3,10,!0)},n.onParticleUpdate=function(t){e.save(),e.globalAlpha=t.alpha,e.fillStyle=t.color,e.translate(t.p.x,t.p.y),e.rotate(We.MathUtil.degreeTransform(t.rotation)),e.translate(-t.p.x,-t.p.y),e.beginPath(),r(t,t.data.count),e.closePath(),e.fill(),e.globalAlpha=1,e.restore()},n.onParticleDead=function(t){};var r=function(t,n){if(n>=7)e.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0);else for(var r=t.radius,i=0;i<=n;i++){var a=t.p.x+r*Math.cos(Math.PI/180*360/n*i),o=t.p.y+r*Math.sin(Math.PI/180*360/n*i);0===i?e.moveTo(a,o):e.lineTo(a,o)}};return n}},{key:"createEmitter",value:function(t){var e=t.mainEmitter,n=t.canvas,r=t.x,i=t.y,a=t.radius,o=t.color,s=void 0===o?fn:o,l=t.zone,u=void 0===l?"dead":l,h=t.once,c=void 0===h?"all":h,d=t.alpha,p=void 0===d?.85:d,f=t.gravity,v=void 0===f?3.5:f,m=this.proton.pool.get(We.Emitter);if(!m.completed){m.rate=new We.Rate(this.props.num?new We.Span(this.props.num):new We.Span(4,9),new We.Span(1.6,2.2));var g=e?new We.Radius(10,110):new We.Radius(3,a);m.addInitialize(new We.Mass(1)),m.addInitialize(g),m.addInitialize(new We.Life(3,6)),m.addInitialize(new We.Velocity(new We.Span(4,6),new We.Span(-90,90),"polar")),m.addBehaviour(new We.Alpha(p,.2)),m.addBehaviour(new We.Color(s)),m.addBehaviour(new We.Scale(1,.3)),m.addBehaviour(new We.Rotate),m.addBehaviour(new We.Gravity(v)),m.addBehaviour(this.customDeadBehaviour(n)),m.addBehaviour(new We.CrossZone(new We.RectZone(0,0,n.width,n.height),u))}m.p.x=r,m.p.y=i,"once"===c?m.emit("once"):m.emit(),this.proton.addEmitter(m)}},{key:"expireEmitter",value:function(t){var e=this;setTimeout((function(){t.completed=!0,e.proton.pool.expire(t),e.proton.removeEmitter(t)}),500)}},{key:"customDeadBehaviour",value:function(t){var e=this;return{initialize:function(t){t.data=t.data||{},t.data.oldRadius=t.radius,t.data.emitterCount=0},applyBehaviour:function(n){n.radius<5||n.data.emitterCount>=2||n.radius<=1/3*n.data.oldRadius&&(n.data.emitterCount++,e.createEmitter({canvas:t,x:n.p.x,y:n.p.y,radius:.5*n.radius,alpha:.5,gravity:5,color:n.color,once:"once"}))}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),mn=function(t){function e(t){Qe(this,e);var n=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return Je(e,t),$e(e,[{key:"componentWillUnmount",value:function(){try{Ye.remove(this.renderProton),this.proton.destroy()}catch(t){}}},{key:"onCanvasInited",value:function(t,e,n){this.createProton(t,e,n),Ye.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(t,e,n){this.proton=new We;var r=new We.Emitter;r.rate=new We.Rate(this.props.num?new We.Span(this.props.num):new We.Span(4,8),new We.Span(.1,.25)),r.addInitialize(new We.Mass(1)),r.addInitialize(new We.Radius(20,200)),r.addInitialize(new We.Life(2,4)),r.addInitialize(new We.Velocity(new We.Span(4,7),new We.Span(0,360),"polar")),r.addInitialize(new We.Position(new We.CircleZone(e/2,n/2,100))),r.addBehaviour(new We.Alpha(1,0)),r.addBehaviour(new We.Scale(.2,1)),r.addBehaviour(this.createCustomBehaviour()),r.addBehaviour(new We.Color(this.colors,"random")),r.emit(),this.proton.addEmitter(r);var i=new We.CanvasRenderer(t);this.proton.addRenderer(i)}},{key:"createCustomBehaviour",value:function(){return{initialize:function(t){t.f=new We.Vector2D(0,0)},applyBehaviour:function(t){var e=t.v.length()/1e3,n=t.v.getGradient();n+=1.57,t.f.x=1e3*e*Math.cos(n),t.f.y=1e3*e*Math.sin(n),t.a.add(t.f)}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return v.createElement(nn,{bg:this.props.bg,globalCompositeOperation:"xor",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(v.Component),gn=function(t){function e(t){return Qe(this,e),tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return Je(e,t),$e(e,[{key:"getRandom",value:function(){var t=this.props,e=t.num,n=t.bg,r=t.color;return this.random||(this.random=new en,this.random.set(.25,v.createElement(on,{num:e,bg:n,color:r})),this.random.set(.2,v.createElement(an,{num:e,bg:n,color:r})),this.random.set(.2,v.createElement(ln,{num:e,bg:n,color:r})),this.random.set(.16,v.createElement(un,{num:e,bg:n,color:r})),this.random.set(.18,v.createElement(dn,{num:e,bg:n,color:r})),this.random.set(.04,v.createElement(cn,{num:e,bg:n,color:r})),this.random.set(.1,v.createElement(vn,{num:e,bg:n,color:r})),this.random.set(.08,v.createElement(hn,{num:e,bg:n,color:r})),this.random.set(.18,v.createElement(pn,{num:e,bg:n,color:r})),this.random.set(.15,v.createElement(mn,{num:e,bg:n,color:r}))),this.random.getResult()}},{key:"getBgParticles",value:function(){var t=this.props,e=t.type,n=t.num,r=t.bg,i=t.color,a=t.config,o=void 0;switch(String(e).toLowerCase()){case"color":o=v.createElement(on,{num:n,bg:r,color:i});break;case"ball":o=v.createElement(an,{num:n,bg:r,color:i});break;case"lines":o=v.createElement(ln,{num:n,bg:r,color:i});break;case"thick":o=v.createElement(un,{num:n,bg:r,color:i});break;case"circle":o=v.createElement(dn,{num:n,bg:r,color:i});break;case"cobweb":o=v.createElement(cn,{num:n,bg:r,color:i});break;case"polygon":o=v.createElement(vn,{num:n,bg:r,color:i});break;case"square":o=v.createElement(hn,{num:n,bg:r,color:i});break;case"tadpole":o=v.createElement(pn,{num:n,bg:r,color:i});break;case"fountain":o=v.createElement(mn,{num:n,bg:r,color:i});break;case"custom":o=v.createElement(sn,{bg:r,config:a});break;case"random":o=this.getRandom(n);break;default:o=v.createElement(on,{num:n,bg:r,color:i})}return o}},{key:"render",value:function(){var t=this.getBgParticles();return v.createElement(v.Fragment,null,t)}}]),e}(m.exports.Component),yn={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},bn=yn;function wn(t){this.mode=bn.MODE_8BIT_BYTE,this.data=t}wn.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var kn=wn,xn={L:1,M:0,Q:3,H:2},Pn=xn;function En(t,e){this.totalCount=t,this.dataCount=e}En.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],En.getRSBlocks=function(t,e){var n=En.getRsBlockTable(t,e);if(null==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=new Array,a=0;a<r;a++)for(var o=n[3*a+0],s=n[3*a+1],l=n[3*a+2],u=0;u<o;u++)i.push(new En(s,l));return i},En.getRsBlockTable=function(t,e){switch(e){case Pn.L:return En.RS_BLOCK_TABLE[4*(t-1)+0];case Pn.M:return En.RS_BLOCK_TABLE[4*(t-1)+1];case Pn.Q:return En.RS_BLOCK_TABLE[4*(t-1)+2];case Pn.H:return En.RS_BLOCK_TABLE[4*(t-1)+3];default:return}};var _n=En;function Tn(){this.buffer=new Array,this.length=0}Tn.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};for(var Cn=Tn,On={glog:function(t){if(t<1)throw new Error("glog("+t+")");return On.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return On.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},Sn=0;Sn<8;Sn++)On.EXP_TABLE[Sn]=1<<Sn;for(Sn=8;Sn<256;Sn++)On.EXP_TABLE[Sn]=On.EXP_TABLE[Sn-4]^On.EXP_TABLE[Sn-5]^On.EXP_TABLE[Sn-6]^On.EXP_TABLE[Sn-8];for(Sn=0;Sn<255;Sn++)On.LOG_TABLE[On.EXP_TABLE[Sn]]=Sn;var An=On,Rn=An;function Mn(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}Mn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=Rn.gexp(Rn.glog(this.get(n))+Rn.glog(t.get(r)));return new Mn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Rn.glog(this.get(0))-Rn.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(r=0;r<t.getLength();r++)n[r]^=Rn.gexp(Rn.glog(t.get(r))+e);return new Mn(n,0).mod(t)}};var In=yn,Bn=Mn,Dn=An,zn=0,Ln=1,Fn=2,Vn=3,jn=4,Un=5,Nn=6,Hn=7,Xn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Xn.getBCHDigit(e)-Xn.getBCHDigit(Xn.G15)>=0;)e^=Xn.G15<<Xn.getBCHDigit(e)-Xn.getBCHDigit(Xn.G15);return(t<<10|e)^Xn.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Xn.getBCHDigit(e)-Xn.getBCHDigit(Xn.G18)>=0;)e^=Xn.G18<<Xn.getBCHDigit(e)-Xn.getBCHDigit(Xn.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return Xn.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case zn:return(e+n)%2==0;case Ln:return e%2==0;case Fn:return n%3==0;case Vn:return(e+n)%3==0;case jn:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case Un:return e*n%2+e*n%3==0;case Nn:return(e*n%2+e*n%3)%2==0;case Hn:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Bn([1],0),n=0;n<t;n++)e=e.multiply(new Bn([1,Dn.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case In.MODE_NUMBER:return 10;case In.MODE_ALPHA_NUM:return 9;case In.MODE_8BIT_BYTE:case In.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case In.MODE_NUMBER:return 12;case In.MODE_ALPHA_NUM:return 11;case In.MODE_8BIT_BYTE:return 16;case In.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case In.MODE_NUMBER:return 14;case In.MODE_ALPHA_NUM:return 13;case In.MODE_8BIT_BYTE:return 16;case In.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var a=0,o=t.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||e<=r+s))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||0==s&&0==l||o==t.isDark(r+s,i+l)&&a++;a>5&&(n+=3+a-5)}for(r=0;r<e-1;r++)for(i=0;i<e-1;i++){var u=0;t.isDark(r,i)&&u++,t.isDark(r+1,i)&&u++,t.isDark(r,i+1)&&u++,t.isDark(r+1,i+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<e;r++)for(i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(i=0;i<e;i++)for(r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);var h=0;for(i=0;i<e;i++)for(r=0;r<e;r++)t.isDark(r,i)&&h++;return n+=10*(Math.abs(100*h/e/e-50)/5)}},Zn=kn,qn=_n,Yn=Cn,Gn=Xn,Wn=Mn;function Kn(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Qn=Kn.prototype;Qn.addData=function(t){var e=new Zn(t);this.dataList.push(e),this.dataCache=null},Qn.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},Qn.getModuleCount=function(){return this.moduleCount},Qn.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=qn.getRSBlocks(t,this.errorCorrectLevel),n=new Yn,r=0,i=0;i<e.length;i++)r+=e[i].dataCount;for(i=0;i<this.dataList.length;i++){var a=this.dataList[i];n.put(a.mode,4),n.put(a.getLength(),Gn.getLengthInBits(a.mode,t)),a.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},Qn.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=Kn.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},Qn.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},Qn.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=Gn.getLostPoint(this);(0==n||t>r)&&(t=r,e=n)}return e},Qn.createMovieClip=function(t,e,n){var r=t.createEmptyMovieClip(e,n);this.make();for(var i=0;i<this.modules.length;i++)for(var a=1*i,o=0;o<this.modules[i].length;o++){var s=1*o;this.modules[i][o]&&(r.beginFill(0,100),r.moveTo(s,a),r.lineTo(s+1,a),r.lineTo(s+1,a+1),r.lineTo(s,a+1),r.endFill())}return r},Qn.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},Qn.setupPositionAdjustPattern=function(){for(var t=Gn.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(null==this.modules[r][i])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[r+a][i+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o}},Qn.setupTypeNumber=function(t){for(var e=Gn.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},Qn.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=Gn.getBCHTypeInfo(n),i=0;i<15;i++){var a=!t&&1==(r>>i&1);i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(i=0;i<15;i++){a=!t&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!t},Qn.mapData=function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[r][o-s]){var l=!1;a<t.length&&(l=1==(t[a]>>>i&1)),Gn.getMask(e,r,o-s)&&(l=!l),this.modules[r][o-s]=l,-1==--i&&(a++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},Kn.PAD0=236,Kn.PAD1=17,Kn.createData=function(t,e,n){for(var r=qn.getRSBlocks(t,e),i=new Yn,a=0;a<n.length;a++){var o=n[a];i.put(o.mode,4),i.put(o.getLength(),Gn.getLengthInBits(o.mode,t)),o.write(i)}var s=0;for(a=0;a<r.length;a++)s+=r[a].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s||(i.put(Kn.PAD0,8),i.getLengthInBits()>=8*s));)i.put(Kn.PAD1,8);return Kn.createBytes(i,r)},Kn.createBytes=function(t,e){for(var n=0,r=0,i=0,a=new Array(e.length),o=new Array(e.length),s=0;s<e.length;s++){var l=e[s].dataCount,u=e[s].totalCount-l;r=Math.max(r,l),i=Math.max(i,u),a[s]=new Array(l);for(var h=0;h<a[s].length;h++)a[s][h]=255&t.buffer[h+n];n+=l;var c=Gn.getErrorCorrectPolynomial(u),d=new Wn(a[s],c.getLength()-1).mod(c);o[s]=new Array(c.getLength()-1);for(h=0;h<o[s].length;h++){var p=h+d.getLength()-o[s].length;o[s][h]=p>=0?d.get(p):0}}var f=0;for(h=0;h<e.length;h++)f+=e[h].totalCount;var v=new Array(f),m=0;for(h=0;h<r;h++)for(s=0;s<e.length;s++)h<a[s].length&&(v[m++]=a[s][h]);for(h=0;h<i;h++)for(s=0;s<e.length;s++)h<o[s].length&&(v[m++]=o[s][h]);return v};var $n=Kn;function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(){return(tr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?er(n,!0).forEach((function(e){dr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):er(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rr(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function or(t,e,n){return e&&ar(t.prototype,e),n&&ar(t,n),t}function sr(t,e){return!e||"object"!==Jn(e)&&"function"!=typeof e?ur(t):e}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ur(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pr=m.exports,fr=$n,vr=xn;function mr(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r<2048?(e+=String.fromCharCode(192|r>>6),e+=String.fromCharCode(128|63&r)):r<55296||r>=57344?(e+=String.fromCharCode(224|r>>12),e+=String.fromCharCode(128|r>>6&63),e+=String.fromCharCode(128|63&r)):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e+=String.fromCharCode(240|r>>18),e+=String.fromCharCode(128|r>>12&63),e+=String.fromCharCode(128|r>>6&63),e+=String.fromCharCode(128|63&r))}return e}var gr={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function yr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return t.forEach((function(t,r){var i=null;t.forEach((function(a,o){if(!a&&null!==i)return n.push("M".concat(i+e," ").concat(r+e,"h").concat(o-i,"v1H").concat(i+e,"z")),void(i=null);if(o!==t.length-1)a&&null===i&&(i=o);else{if(!a)return;null===i?n.push("M".concat(o+e,",").concat(r+e," h1v1H").concat(o+e,"z")):n.push("M".concat(i+e,",").concat(r+e," h").concat(o+1-i,"v1H").concat(i+e,"z"))}}))})),n.join("")}function br(t,e){return t.slice().map((function(t,n){return n<e.y||n>=e.y+e.h?t:t.map((function(t,n){return(n<e.x||n>=e.x+e.w)&&t}))}))}function wr(t,e){var n=t.imageSettings,r=t.size,i=t.includeMargin;if(null==n)return null;var a=i?4:0,o=e.length+2*a,s=Math.floor(.1*r),l=o/r,u=(n.width||s)*l,h=(n.height||s)*l,c=null==n.x?e.length/2-u/2:n.x*l,d=null==n.y?e.length/2-h/2:n.y*l,p=null;if(n.excavate){var f=Math.floor(c),v=Math.floor(d);p={x:f,y:v,w:Math.ceil(u+c-f),h:Math.ceil(h+d-v)}}return{x:c,y:d,h:h,w:u,excavation:p}}var kr=function(){try{(new Path2D).addPath(new Path2D)}catch(t){return!1}return!0}(),xr=function(t){function e(){var t,n;ir(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return dr(ur(n=sr(this,(t=lr(e)).call.apply(t,[this].concat(i)))),"_canvas",void 0),dr(ur(n),"_image",void 0),dr(ur(n),"state",{imgLoaded:!1}),dr(ur(n),"handleImageLoad",(function(){n.setState({imgLoaded:!0})})),n}return hr(e,pr.PureComponent),or(e,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"componentWillReceiveProps",value:function(t){var e,n;(null===(e=this.props.imageSettings)||void 0===e?void 0:e.src)!==(null===(n=t.imageSettings)||void 0===n?void 0:n.src)&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var t=this.props,e=t.value,n=t.size,r=t.level,i=t.bgColor,a=t.fgColor,o=t.includeMargin,s=t.imageSettings,l=new fr(-1,vr[r]);if(l.addData(mr(e)),l.make(),null!=this._canvas){var u=this._canvas,h=u.getContext("2d");if(!h)return;var c=l.modules;if(null===c)return;var d=o?4:0,p=c.length+2*d,f=wr(this.props,c);null!=s&&null!=f&&null!=f.excavation&&(c=br(c,f.excavation));var v=window.devicePixelRatio||1;u.height=u.width=n*v;var m=n/p*v;h.scale(m,m),h.fillStyle=i,h.fillRect(0,0,p,p),h.fillStyle=a,kr?h.fill(new Path2D(yr(c,d))):c.forEach((function(t,e){t.forEach((function(t,n){t&&h.fillRect(n+d,e+d,1,1)}))})),this.state.imgLoaded&&this._image&&null!=f&&h.drawImage(this._image,f.x+d,f.y+d,f.w,f.h)}}},{key:"render",value:function(){var t=this,e=this.props;e.value;var n=e.size;e.level,e.bgColor,e.fgColor;var r=e.style;e.includeMargin;var i=e.imageSettings,a=rr(e,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),o=nr({height:n,width:n},r),s=null,l=i&&i.src;return null!=i&&null!=l&&(s=pr.createElement("img",{src:l,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(e){return t._image=e}})),pr.createElement(pr.Fragment,null,pr.createElement("canvas",tr({style:o,height:n,width:n,ref:function(e){return t._canvas=e}},a)),s)}}]),e}();dr(xr,"defaultProps",gr);var Pr=function(t){function e(){return ir(this,e),sr(this,lr(e).apply(this,arguments))}return hr(e,pr.PureComponent),or(e,[{key:"render",value:function(){var t=this.props,e=t.value,n=t.size,r=t.level,i=t.bgColor,a=t.fgColor,o=t.includeMargin,s=t.imageSettings,l=rr(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),u=new fr(-1,vr[r]);u.addData(mr(e)),u.make();var h=u.modules;if(null===h)return null;var c=o?4:0,d=h.length+2*c,p=wr(this.props,h),f=null;null!=s&&null!=p&&(null!=p.excavation&&(h=br(h,p.excavation)),f=pr.createElement("image",{xlinkHref:s.src,height:p.h,width:p.w,x:p.x+c,y:p.y+c,preserveAspectRatio:"none"}));var v=yr(h,c);return pr.createElement("svg",tr({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(d," ").concat(d)},l),pr.createElement("path",{fill:i,d:"M0,0 h".concat(d,"v").concat(d,"H0z")}),pr.createElement("path",{fill:a,d:v}),f)}}]),e}();dr(Pr,"defaultProps",gr);var Er=function(t){var e=t.renderAs,n=rr(t,["renderAs"]),r="svg"===e?Pr:xr;return pr.createElement(r,n)};Er.defaultProps=nr({renderAs:"canvas"},gr);var _r=Er;var Tr="_login_ceze4_1";const Cr={marginLeft:"16px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer"},Or=()=>{const[t,s]=m.exports.useState("account"),[l,u]=m.exports.useState(!1),h=x(),c={num:[4,7],rps:.1,radius:[5,40],life:[1.5,3],v:[2,3],tha:[-40,40],alpha:[.6,0],scale:[1,.1],position:"all",color:["random","#ff0000"],cross:"dead",random:15,g:5,onParticleUpdate:(t,e)=>{t.beginPath(),t.rect(e.p.x,e.p.y,2*e.radius,2*e.radius),t.fillStyle=e.color,t.fill(),t.closePath()}},d=async s=>{var l,c;u(!0),(async t=>j("/api/login",{method:"POST",data:t}))((l=((t,e)=>{for(var n in e||(e={}))i.call(e,n)&&o(t,n,e[n]);if(r)for(var n of r(e))a.call(e,n)&&o(t,n,e[n]);return t})({},s),c={loginType:t},e(l,n(c)))).then((t=>{var e,n;u(!1),F(null==(e=t.data)?void 0:e.role),localStorage.token=null==(n=t.data)?void 0:n.token,V.saveCurrentUser(null==t?void 0:t.data),C.success(t.message||""),h.push("/home")})).finally((()=>{u(!1)}))};return v.createElement(P,null,(()=>v.createElement("div",{style:{height:"100vh",background:"snow"},className:Tr},v.createElement(z,{content:"",fontColor:"gold",fontSize:18,gapX:100,gapY:100,style:{height:"100%"}},v.createElement(Ze,{logo:"http://assets.jinxinapp.cn/img/logo.png",title:"Jin Pi Ka",subTitle:"vite-react",onFinish:d,submitter:{render:e=>["qrcode"!==t&&v.createElement(E,{type:"primary",size:"large",key:"submit",style:{width:"100%"},loading:l,onClick:()=>{var t,n;return null==(n=null==(t=e.form)?void 0:t.submit)?void 0:n.call(t)}},"")]},actions:v.createElement(_,null,"",v.createElement(ye,{style:Cr}),v.createElement(Ce,{style:Cr}),v.createElement(Ae,{style:Cr}))},v.createElement(ve,{delay:300},v.createElement("div",{key:"tab"},v.createElement(T,{activeKey:t,onChange:t=>{s(t),u(!1)}},v.createElement(T.TabPane,{key:"phone",tab:""}),v.createElement(T.TabPane,{key:"account",tab:""}),v.createElement(T.TabPane,{key:"qrcode",tab:""}))),"account"===t&&v.createElement(v.Fragment,null,v.createElement(I,{name:"userName",fieldProps:{size:"large",prefix:v.createElement(L,{className:"prefixIcon"})},placeholder:": admin",rules:[{required:!0,message:"!"}]}),v.createElement(I.Password,{name:"password",fieldProps:{size:"large",prefix:v.createElement(ke,{className:"prefixIcon"})},placeholder:": admin",rules:[{required:!0,message:""}]})),"phone"===t&&v.createElement(v.Fragment,null,v.createElement(I,{fieldProps:{size:"large",prefix:v.createElement(Ee,{className:"prefixIcon"})},name:"mobile",placeholder:"",rules:[{required:!0,message:""},{pattern:/^1\d{10}$/,message:""}]}),v.createElement(D,{fieldProps:{size:"large",prefix:v.createElement(ke,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"",captchaTextRender:(t,e)=>t?`${e} `:"",name:"captcha",rules:[{required:!0,message:""}],onGetCaptcha:async()=>{C.success("1234")}})),"qrcode"===t&&v.createElement(v.Fragment,null,v.createElement(O,null,v.createElement(_r,{style:{width:"100%",height:"100%"},level:"M",value:"https://gitee.com/jinxin0517/vite-react-ts-admin"}))),v.createElement("div",{key:"loginBtn",style:{marginBottom:24}},v.createElement(Ve,{noStyle:!0,name:"autoLogin"},""),v.createElement("a",{style:{float:"right"}},""))))),v.createElement(gn,{type:"custom",config:c,bg:{zIndex:0,position:"absolute",top:"0px",left:"0px",pointerEvents:"none"}}))))};export{Or as default};
